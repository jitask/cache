import{r as k,o as C,a as d,c as p,b as M,n as ke,d as e,e as L,t as y,u as s,F as $,g as T,f,h as R,i as S,w as P,j as V,k as z,l as w,m as K,p as H,q as F,s as je,v as Y,x as W,y as ot,z as Ft,A as N,B as O,C as le,D as ie,E as A,G as ve,H as ce,I as _t,J as Re,K as mt,L as qe,M as it,N as ge,O as ft,P as Ae,Q as Et,R as Nt,S as qt,T as At,U as Rt,V as ht,W as Ot}from"./vendor.b615ec46.js";const Gt=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))t(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function o(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function t(i){if(i.ep)return;i.ep=!0;const n=o(i);fetch(i.href,n)}};Gt();function Wt(l){let a="";switch(l){case 1:a="\u5355\u9009\u83DC\u5355";break;case 2:a="\u5355\u884C\u6587\u672C";break;case 3:a="";break;case 4:a="\u6D6E\u70B9\u6570";break;case 5:a="\u65E5\u671F";break;case 6:a="\u65F6\u95F4";break;case 7:a="\u5355\u9009\u8FED\u4EE3";break;case 8:a="\u5355\u9009\u6210\u5458";break;case 9:a="\u9879\u76EE";break;case 10:a="";break;case 11:a="\u5DE5\u4F5C\u9879\u7C7B\u578B";break;case 12:a="\u5DE5\u4F5C\u9879\u72B6\u6001";break;case 13:a="\u591A\u9009\u6210\u5458";break;case 14:a="\u5DE5\u4F5C\u9879\u7F16\u53F7";break;case 15:a="";break;case 16:a="\u591A\u9009\u83DC\u5355";break;case 17:a="";break;case 18:a="";break;case 19:a="";break;case 20:a="";break;case 21:a="";break;case 22:a="\u72B6\u6001";break}return a}function Kt(l){let a="";switch(l){case"integer":a="\u6574\u6570";break;case"time":a="\u65F6\u95F4";break;case"percentage":a="\u767E\u5206\u6570";break;case"date":a="\u65E5\u671F";break;case"user":a="\u5355\u9009\u6210\u5458";break;case"text":a="\u5355\u884C\u6587\u672C";break;case"rich_text":a="\u591A\u6587\u672C";break;case"status":a="\u72B6\u6001";break}return a}function Jt(l){if(!l)return"-";if(Number.isNaN(l))return"0000-00-00 00:00:00";if(l==null||l===0)return"-";let a=new Date(l),o=a.getFullYear(),t=a.getMonth()+1,i=a.getDate();return o+"-"+(t<10?"0"+t:t)+"-"+(i<10?"0"+i:i)}function Yt(l){if(!l)return"-";if(Number.isNaN(l))return"0000-00-00 00:00:00";if(l==null||l===0)return"-";let a=new Date(l),o=a.getFullYear(),t=a.getMonth()+1,i=a.getDate(),n=a.getHours(),r=a.getMinutes(),c=a.getSeconds();return o+"-"+(t<10?"0"+t:t)+"-"+(i<10?"0"+i:i)+" "+(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)+":"+(c<10?"0"+c:c)}function Qt(l){if(!l)return"-";if(Number.isNaN(l))return"0000-00-00 00:00:00";if(l===0)return"-";let a=new Date(l),o=a.getFullYear(),t=a.getMonth()+1,i=a.getDate(),n=a.getHours(),r=a.getMinutes();return o+"\u5E74"+(t<10?"0"+t:t)+"\u6708"+(i<10?"0"+i:i)+"\u65E5 "+(n<12?"\u4E0A\u5348":"\u4E0B\u5348")+(n<10?"0"+n:n)+"\u70B9"+(r<10?"0"+r:r)+"\u5206"}function Zt(l){if(!l)return"-";if(Number.isNaN(l))return"0000-00-00";if(l===0)return"-";let a=new Date(l),o=new Date,t=a.getFullYear(),i=a.getMonth()+1,n=a.getDate(),r=o.getFullYear(),c;if(t<r)c=t+"\u5E74"+i+"\u6708"+n+"\u65E5 ";else{let u=o-a,_=u/36e5;_>=240?c=i+"\u6708"+n+"\u65E5 ":_>=24?c=Math.floor(_/24)+"\u5929\u524D":_>=1?c=Math.floor(_)+"\u5C0F\u65F6\u524D":_*60>=1?c=Math.floor(_*60)+"\u5206\u949F\u524D":c="\u521A\u521A"}return c}function Xt(l){let a="";switch(l){case"com00001":a="\u9700\u6C42";break;case"com00002":a="\u7F3A\u9677";break;case"com00003":a="\u4EFB\u52A1";break;case"com00004":a="\u6210\u5458";break;case"com00005":a="\u62A5\u8868";break;case"com00009":a="\u9879\u76EE\u6982\u89C8";break}return a}function we(){return localStorage.getItem("TASKMASTER")}function xt(l){localStorage.setItem("TASKMASTER",l)}let de={ServerError:"\u670D\u52A1\u9519\u8BEF",NotFound:"\u4E0D\u5B58\u5728",User:"\u7528\u6237",Phone:"\u624B\u673A\u53F7\u7801",AuthFailure:"\u6388\u6743\u5931\u8D25",InvalidParameter:"\u53C2\u6570\u65E0\u6548",InvalidToken:"\u767B\u5F55\u51ED\u8BC1\u5931\u6548",MissingToken:"\u7F3A\u5931\u51ED\u8BC1",AlreadyExists:"\u5DF2\u7ECF\u5B58\u5728",PhoneExists:"\u624B\u673A\u53F7\u7801\u5B58\u5728",InvalidFormat:"\u683C\u5F0F\u65E0\u6548",VerificationFailure:"\u9A8C\u8BC1\u5931\u8D25",InvalidCode:"\u9A8C\u8BC1\u7801\u65E0\u6548",EmailExists:"\u90AE\u7BB1\u5730\u5740\u5B58\u5728",Team:"\u56E2\u961F",Name:"\u540D\u79F0",Password:"\u5BC6\u7801",TooLong:"\u592A\u957F",CodeExpired:"\u9A8C\u8BC1\u7801\u8FC7\u671F",PermissionDenied:"\u6743\u9650\u7981\u6B62",CreateSpace:"\u65B0\u5EFA\u9875\u9762\u7EC4",NotInAnyTeam:"\u7528\u6237\u4E0D\u5728\u4EFB\u4F55\u56E2\u961F",InvalidPassword:"\u5BC6\u7801\u9519\u8BEF"};function vt(l){let a="";return l.length>=1&&(a=de[l[0]]),a}function gt(l){return jt(l)}function yt(l){let a="";if(l.length===2)for(let o=l.length-1;o>=0;o--)a+=de[l[o]];else if(l.length>=3)for(let o=1;o<l.length;o++)a+=de[l[o]];return a}function bt(l){let a="";return l.length===2&&(a=de[l[1]]),a}function $t(l){let a="";return l.length===2&&(a=de[l[1]]),a}function wt(l){return jt(l)}function kt(l){return es(l)}function es(l){let a="";if(l.length===2)for(let o=l.length-1;o>=0;o--)a+=de[l[o]];return a}function jt(l){let a="";if(l.length===2)for(let o=l.length-1;o>=0;o--)a+=de[l[o]];else if(l.length===3)for(let o=1;o<l.length;o++)a+=de[l[o]];return a}var ts=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",taskFieldType:Wt,projectFieldType:Kt,formatDay:Jt,formatDate:Yt,formatTime:Qt,timeFormat:Zt,formatComponentTemplate:Xt,getUser:we,setUser:xt,ServerError:vt,NotFound:gt,InvalidParameter:yt,VerificationFailure:bt,AuthFailure:$t,AlreadyExists:wt,PermissionDenied:kt});var D=(l,a)=>{const o=l.__vccOpts||l;for(const[t,i]of a)o[t]=i;return o};const ss={class:"flex-column flex align-items-center flex-fill"},as={class:"flex-row flex align-items-center",style:{color:"inherit"}},ls={class:"flex-row flex align-items-center"},os={key:0,class:"bi bi-check-circle flex-row flex align-items-center"},is={key:1,class:"bi bi-x-circle flex-row flex align-items-center"},ns={style:{"margin-left":"5px",color:"inherit",display:"flex",flex:"1","letter-spacing":"1px","font-size":"1.1em"}},rs={setup(l){let{proxy:a}=T(),o=k([]),t=3e3,i=0,n="";C(()=>{a.bus.on("alertSuccess",function(_){r(_)}),a.bus.on("alertDanger",function(_){c(_)})});let r=_=>{i+=1,_?n=_:n="\u64CD\u4F5C\u6210\u529F";let m={key:i,dismiss:!0,variant:"alert-success",msg:n};o.push(m),u(i)},c=_=>{i+=1;let m="",h=_.split("."),x="";if(h.length>=1)switch(m=h[0],m){case"ServerError":x=vt(h);break;case"NotFound":x=gt(h);break;case"InvalidParameter":x=yt(h);break;case"VerificationFailure":x=bt(h);break;case"AlreadyExists":x=wt(h);break;case"PermissionDenied":x=kt(h);break;case"AuthFailure":x=$t(h);break;default:x=m;break}n=x;let g={key:i,dismiss:!0,variant:"alert-danger",msg:n};o.push(g),u(i)},u=_=>{setTimeout(function(){let m=o.filter(h=>h.key!==_);o.length=0,o.push(...m)},t)};return(_,m)=>(d(!0),p($,null,M(s(o),(h,x)=>(d(),p("div",{class:"alert-box flex-column flex align-items-center",key:h.key,style:ke({top:`${(x+1)*60}px`,right:"2.5rem"})},[e("div",ss,[e("div",{class:L(["alert",[h.variant]]),role:"alert"},[e("div",as,[e("div",ls,[h.variant==="alert-success"?(d(),p("i",os)):(d(),p("i",is))]),e("div",ns,y(h.msg),1)])],2)])],4))),128))}};var ds=D(rs,[["__scopeId","data-v-18dd2507"]]);const cs={setup(l){return(a,o)=>{const t=R("router-view");return d(),p($,null,[f(t),f(ds)],64)}}},us={class:"flex-row flex align-items-center"},ps={style:{flex:"0 0 auto"}},_s={key:0,style:{display:"flex"}},ms=e("svg",{t:"1601469996753",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"22148",width:"16",height:"16"},[e("path",{d:"M925.8 98.5H98.1c-16.3 0-29.6 13.3-29.6 29.6v591.2c0 16.3 13.3 29.6 29.6 29.6h266v118.2h-88.7c-16.4 0-29.6 13.2-29.6 29.6 0 16.4 13.2 29.6 29.6 29.6h473c16.4 0 29.6-13.2 29.6-29.6 0-16.4-13.2-29.6-29.6-29.6h-88.7V748.8h266c16.3 0 29.6-13.3 29.6-29.6V128.1c0-16.3-13.3-29.6-29.5-29.6z m-810.9 47.6h796.3v405.1H114.9V146.1z m485.7 721H423.2V748.8h177.4v118.3z m311.8-165.8H114.9V601h797.4v100.3z",fill:"#ffffff","p-id":"22149"}),e("path",{d:"M443.8 264.4H217.5c-6.4 0-11.5 5.2-11.5 11.5v167.4c0 6.4 5.2 11.5 11.5 11.5h226.3c6.4 0 11.5-5.2 11.5-11.5V276c0-6.4-5.1-11.6-11.5-11.6z m-20.8 153c0 4.7-4 8.5-9 8.5H242.6c-5 0-9-3.8-9-8.5V302c0-4.7 4-8.5 9-8.5H414c5 0 9 3.8 9 8.5v115.4zM809.8 264.4H583.5c-6.4 0-11.5 5.2-11.5 11.5v167.4c0 6.4 5.2 11.5 11.5 11.5h226.3c6.4 0 11.5-5.2 11.5-11.5V276c0.1-6.4-5.1-11.6-11.5-11.6z m-20.8 153c0 4.7-4 8.5-9 8.5H608.6c-5 0-9-3.8-9-8.5V302c0-4.7 4-8.5 9-8.5H780c5 0 9 3.8 9 8.5v115.4z",fill:"#ffffff","p-id":"22150"})],-1),fs=[ms],hs={key:1,style:{display:"flex"}},xs=e("svg",{t:"1601470039687",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"23021",width:"16",height:"16"},[e("path",{d:"M921.6 659.911111h51.2c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 28.444444-22.755556 51.2-51.2 51.2h-204.8c-28.444444 0-51.2-22.755556-51.2-51.2v-147.911111c0-28.444444 22.755556-51.2 51.2-51.2h51.2V563.2H563.2v102.4h51.2c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 28.444444-22.755556 51.2-51.2 51.2H409.6c-28.444444 0-51.2-22.755556-51.2-51.2v-147.911111c0-28.444444 22.755556-51.2 51.2-51.2h51.2V563.2H204.8v102.4h51.2c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 22.755556-22.755556 45.511111-51.2 45.511111H51.2c-28.444444 0-51.2-22.755556-51.2-51.2v-147.911111c0-28.444444 22.755556-51.2 51.2-51.2h51.2V563.2c0-56.888889 45.511111-102.4 102.4-102.4h256V364.088889h-51.2c-28.444444 0-51.2-22.755556-51.2-51.2V164.977778c0-28.444444 22.755556-51.2 51.2-51.2h204.8c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 28.444444-22.755556 51.2-51.2 51.2h-51.2v102.4h256c56.888889 0 102.4 45.511111 102.4 102.4v91.022222z",fill:"#ffffff","p-id":"23022"})],-1),vs=[xs],gs={key:2,style:{display:"flex"}},ys=e("svg",{t:"1601470089681",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"23884",width:"16",height:"16"},[e("path",{d:"M0 934.4c0 12.8 12.8 25.6 25.6 25.6h972.8c12.8 0 25.6-12.8 25.6-25.6V320H0v614.4z m646.4-236.8l128-57.6-128-57.6V505.6l230.4 108.8v51.2L646.4 768v-70.4zM537.6 480h64l-128 320h-64l128-320z m-384 134.4L384 505.6V576l-128 64 128 57.6V768l-230.4-102.4v-51.2zM998.4 64H25.6c-12.8 0-25.6 12.8-25.6 25.6V256h1024V89.6c0-12.8-12.8-25.6-25.6-25.6zM224 185.6c0 6.4-6.4 12.8-12.8 12.8H140.8c-6.4 0-12.8-6.4-12.8-12.8v-44.8c0-6.4 6.4-12.8 12.8-12.8h70.4c6.4 0 12.8 6.4 12.8 12.8v44.8z m160 0c0 6.4-6.4 12.8-12.8 12.8H300.8c-6.4 0-12.8-6.4-12.8-12.8v-44.8c0-6.4 6.4-12.8 12.8-12.8h70.4c6.4 0 12.8 6.4 12.8 12.8v44.8z","p-id":"23885",fill:"#ffffff"})],-1),bs=[ys],$s={key:3,style:{display:"flex"}},ws=e("svg",{t:"1601470300864",class:"icon",viewBox:"0 0 1137 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"25227",width:"16",height:"16"},[e("path",{d:"M1136.696889 511.089778s0-1.934222 0 0v-409.031111c0-55.637333-46.535111-101.319111-101.262222-101.319111h-370.517334a18.545778 18.545778 0 0 0-16.156444 7.964444l-76.970667 93.297778H102.058667c-56.718222 0-101.262222 45.681778-101.262223 101.262222v718.961778c0 55.580444 46.592 101.262222 101.262223 101.262222h933.432889c56.661333 0 101.262222-45.681778 101.262222-101.262222V511.089778zM102.058667 141.710222h479.857777a18.545778 18.545778 0 0 0 16.213334-7.964444L677.091556 38.513778h360.391111c34.417778 0 60.757333 27.818667 60.757333 61.553778V489.244444h-54.613333V380.017778c0-33.735111-28.444444-59.562667-60.814223-59.562667H152.632889A60.302222 60.302222 0 0 0 91.932444 380.017778V489.244444H39.253333V203.320889c0-33.792 28.330667-61.610667 62.805334-61.610667z m30.321777 345.6v-105.244444c0-11.946667 10.126222-19.911111 20.252445-19.911111h830.179555c12.174222 0 20.252444 9.955556 20.252445 19.911111v105.244444H132.380444z m901.12 496.469334H102.001778A60.757333 60.757333 0 0 1 41.301333 922.168889V531.000889H1096.248889v391.224889c0 33.735111-28.387556 61.553778-62.805333 61.553778z","p-id":"25228",fill:"#ffffff"})],-1),ks=[ws],js={key:4,style:{display:"flex"}},Ss=e("svg",{t:"1601470343097",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"26129",width:"16",height:"16"},[e("path",{d:"M216.3 515.7c9-6.7 18.5-12.7 28.3-18.3 12.8-0.1 23.1-10.5 23.1-23.3 0-5.9-2.2-11.2-5.8-15.2v-0.3c-1.9-1.8-3.9-3.5-5.7-5.3-56.7-13.2-99-63.9-99-124.6 0-60.7 42.3-111.4 98.9-124.6 2-1.9 4-3.8 6.1-5.6 1.5-18.2 11-34.2 25-44.3-0.7 0-1.3-0.1-2-0.1-96.4 0-174.5 78.1-174.5 174.5 0 62.7 33.1 117.7 82.7 148.4C80.3 520.9 0.1 630.6 0.1 759.2v41.1c0 22.3 18.1 40.4 40.4 40.4h46.9v-46.5H46.7v-43.6c0-109.6 71.1-202.4 169.6-234.9z m406.2-24.6c66.1-38.2 110.7-109.6 110.7-191.5 0-122.1-99-221.1-221.1-221.1S291 177.5 291 299.6c0 81.9 44.5 153.3 110.7 191.5C253.2 538 145.6 676.7 145.6 840.7v58.2c0 25.7 20.8 46.5 46.5 46.5h640c25.7 0 46.5-20.8 46.5-46.5v-58.2c0.1-164-107.6-302.8-256.1-349.6zM337.6 299.6c0-96.4 78.2-174.5 174.5-174.5 96.4 0 174.5 78.1 174.5 174.5s-78.1 174.6-174.5 174.6c-96.4-0.1-174.5-78.2-174.5-174.6z m494.5 599.2h-640v-58.2c0-176.7 143.3-320 320-320s320 143.3 320 320v58.2z m0.1-421.7c49.3-30.8 82.1-85.7 82.1-148.4 0-96.4-77.6-174.5-173.3-174.5-0.7 0-1.3 0.1-1.9 0.1 13.9 10.2 23.3 26.1 24.8 44.3 2 1.8 4.1 3.7 6 5.6 56.3 13.2 98.2 63.9 98.2 124.6 0 60.7-42 111.4-98.3 124.6-1.9 1.8-3.8 3.6-5.7 5.3v0.3c-3.6 4.1-5.8 9.4-5.8 15.2 0 12.8 10.3 23.2 23 23.3 9.7 5.6 19.1 11.7 28.1 18.3 97.8 32.6 168.5 125.3 168.5 234.8v43.6h-40.4v46.5H984c22.1 0 40.1-18.1 40.1-40.4v-41.1c0-128.6-79.6-238.3-191.9-282.1z m0 0","p-id":"26130",fill:"#ffffff"})],-1),Cs=[Ss],Is={key:5,style:{display:"flex"}},Ts=e("svg",{t:"1601470399733",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"27002",width:"16",height:"16"},[e("path",{d:"M0 789.333c0-129.621 105.067-234.666 234.667-234.666h170.645a64 64 0 0 1 64.021 64.021v170.645c0 129.622-105.066 234.667-234.666 234.667C105.045 1024 0 918.933 0 789.333z m85.333 0c0 82.475 67.03 149.334 149.334 149.334 82.474 0 149.333-67.03 149.333-149.334V640H234.667c-82.475 0-149.334 67.03-149.334 149.333zM1024 234.667c0 129.621-105.067 234.666-234.667 234.666H618.688a64 64 0 0 1-64.021-64.021V234.667C554.667 105.045 659.733 0 789.333 0 918.955 0 1024 105.067 1024 234.667z m-85.333 0c0-82.475-67.03-149.334-149.334-149.334C706.86 85.333 640 152.363 640 234.667V384h149.333c82.475 0 149.334-67.03 149.334-149.333zM0 234.667C0 105.067 105.045 0 234.667 0c129.6 0 234.666 105.045 234.666 234.667v170.645a64 64 0 0 1-64.021 64.021H234.667C105.067 469.333 0 364.288 0 234.667z m85.333 0C85.333 316.97 152.192 384 234.667 384H384V234.667c0-82.304-66.859-149.334-149.333-149.334-82.304 0-149.334 66.859-149.334 149.334z m920.704 518.613c9.899 0 18.027 8.107 17.963 18.048v36.096c0 9.963-8.128 18.07-18.027 18.07H984.32c-9.899 0-20.437 7.743-23.424 17.215l-12.416 30.23c-4.672 8.768-2.773 21.717 4.224 28.693l15.403 15.36c7.04 7.04 7.04 18.517 0 25.557l-25.6 25.536a18.09 18.09 0 0 1-25.515 0l-15.296-15.36c-6.997-7.04-19.947-8.917-28.693-4.202l-30.251 12.437c-9.45 2.944-17.237 13.461-17.237 23.403v21.589a18.133 18.133 0 0 1-18.07 18.048h-36.074a18.133 18.133 0 0 1-18.091-18.048v-21.59c0-9.94-7.723-20.458-17.237-23.402l-30.294-12.437c-8.746-4.694-21.632-2.816-28.586 4.181l-15.424 15.381a18.07 18.07 0 0 1-25.494 0l-25.557-25.536a18.133 18.133 0 0 1 0-25.557l15.36-15.36c7.04-6.976 8.917-19.925 4.267-28.693l-12.502-30.23c-2.944-9.472-13.461-17.216-23.381-17.28h-21.675a18.09 18.09 0 0 1-18.069-18.026v-36.075c0-9.963 8.107-18.07 18.09-18.07h21.654c9.92 0 20.48-7.743 23.403-17.237l12.458-30.25c4.694-8.768 2.774-21.654-4.266-28.715l-15.318-15.36a18.048 18.048 0 0 1 0-25.536l25.536-25.493a18.027 18.027 0 0 1 25.494 0l15.402 15.36c7.04 6.997 19.904 8.917 28.672 4.224l30.23-12.395c9.514-2.965 17.237-13.483 17.237-23.467v-21.653a18.133 18.133 0 0 1 18.09-18.07h36.075a18.133 18.133 0 0 1 18.07 18.07v21.675c0 9.941 7.786 20.48 17.237 23.402l30.187 12.438c8.768 4.693 21.696 2.773 28.693-4.224l15.403-15.36a18.048 18.048 0 0 1 25.536 0l25.557 25.536c7.04 6.997 7.04 18.474 0 25.536l-15.36 15.36c-7.04 7.04-8.917 19.946-4.245 28.672l12.416 30.25c2.986 9.494 13.482 17.238 23.402 17.238h21.718z m-136.064 34.645a82.048 82.048 0 1 0-164.117 0 82.048 82.048 0 0 0 82.07 82.027 82.027 82.027 0 0 0 82.047-82.027z","p-id":"27003",fill:"#ffffff"})],-1),zs=[Ts],Ms={key:6,style:{display:"flex"}},Ds=e("svg",{t:"1601470443587",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"28569",width:"16",height:"16"},[e("path",{d:"M115.2 368h124.8c25.6 0 48-22.4 48-48V163.2h396.8v204.8H736v-224c0-19.2-12.8-32-32-32H259.2L64 323.2v553.6c0 19.2 12.8 32 32 32h480v-51.2H115.2V368z m121.6-153.6v102.4H144l92.8-102.4zM905.6 531.2V480c0-9.6-6.4-16-16-16h-19.2c-9.6 0-16 6.4-16 16v51.2c-32 12.8-54.4 41.6-54.4 76.8s22.4 64 54.4 76.8V896c0 9.6 6.4 16 16 16h19.2c9.6 0 16-6.4 16-16v-211.2c32-9.6 54.4-41.6 54.4-76.8s-22.4-64-54.4-76.8z m-25.6 118.4c-22.4 0-41.6-19.2-41.6-41.6s19.2-41.6 41.6-41.6 41.6 19.2 41.6 41.6-19.2 41.6-41.6 41.6z","p-id":"28570",fill:"#ffffff"}),e("path",{d:"M745.6 691.2V480c0-9.6-6.4-16-16-16h-19.2c-9.6 0-16 6.4-16 16v211.2c-32 12.8-54.4 41.6-54.4 76.8s22.4 64 54.4 76.8V896c0 9.6 6.4 16 16 16h19.2c9.6 0 16-6.4 16-16v-51.2c32-9.6 54.4-41.6 54.4-76.8s-22.4-64-54.4-76.8z m-25.6 118.4c-22.4 0-41.6-19.2-41.6-41.6s19.2-41.6 41.6-41.6 41.6 19.2 41.6 41.6-19.2 41.6-41.6 41.6zM224 464h352v32H224zM224 560h352v32H224zM224 656h352v32H224zM384 368h192v32h-192z","p-id":"28571",fill:"#ffffff"})],-1),Ls=[Ds],Bs={key:7,style:{display:"flex"}},Ps=e("svg",{t:"1601470494636",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"29424",width:"16",height:"16"},[e("path",{d:"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m-1.592889 791.153778a39.196444 39.196444 0 0 1-39.196444-39.196445 39.139556 39.139556 0 0 1 39.196444-39.196444 39.196444 39.196444 0 0 1 39.196445 39.196444 39.253333 39.253333 0 0 1-39.196445 39.196445z m173.397333-399.075556v0.682667a171.918222 171.918222 0 0 1-142.620444 170.666667v70.200888a31.516444 31.516444 0 0 1-31.459556 31.459556 31.459556 31.459556 0 0 1-31.459555-31.459556V500.167111h34.133333a108.714667 108.714667 0 0 0 108.088889-109.681778 108.714667 108.714667 0 0 0-109.624889-108.088889 108.771556 108.771556 0 0 0-108.088889 109.454223 32.028444 32.028444 0 0 1-30.663111 33.336889 32.028444 32.028444 0 0 1-33.336889-30.663112 21.105778 21.105778 0 0 1 0-2.673777 172.657778 172.657778 0 0 1 169.642667-175.616 172.714667 172.714667 0 0 1 175.616 169.358222z",fill:"#ffffff","p-id":"29425"})],-1),Vs=[Ps],Us={style:{flex:"1","margin-left":"10px"}},Hs={class:"flex-column"},Fs={style:{flex:"1",display:"flex",width:"100%"}},Es={style:{flex:"1",width:"100%"}},me={props:["to","icon"],setup(l){return(a,o)=>{const t=R("router-link");return d(),p("div",us,[e("div",ps,[l.icon==="Main"?(d(),p("div",_s,fs)):S("",!0),l.icon==="Projects"?(d(),p("div",hs,vs)):S("",!0),l.icon==="Commit"?(d(),p("div",gs,bs)):S("",!0),l.icon==="Wiki"?(d(),p("div",$s,ks)):S("",!0),l.icon==="TeamSetting"?(d(),p("div",js,Cs)):S("",!0),l.icon==="ProjectSetting"?(d(),p("div",Is,zs)):S("",!0),l.icon==="WikiSetting"?(d(),p("div",Ms,Ls)):S("",!0),l.icon==="Help"?(d(),p("div",Bs,Vs)):S("",!0)]),e("div",Us,[e("div",Hs,[e("div",Fs,[e("div",Es,[f(t,{to:l.to},{default:P(()=>[V(y(l.to.params.title),1)]),_:1},8,["to"])])])])])])}}};const Oe=l=>(H("data-v-2aab0e9f"),l=l(),F(),l),Ns={class:"flex-row flex w-100 align-items-center pt-1 pe-3 pb-2 ps-4"},qs={class:"flex-fill text-white",style:{height:"50px"}},As={class:"flex-row flex align-items-center pb-3 pt-2"},Rs={class:"flex-fill ms-3 fs-c11 text-white fw-bolder"},Os=Oe(()=>e("svg",{t:"1603695788065",class:"icon",viewBox:"0 0 1028 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"25977",width:"20",height:"20"},[e("path",{d:"M989.866667 234.666667h-490.666667c-17.066667 0-34.133333-21.333333-34.133333-42.666667 0-25.6 12.8-42.666667 34.133333-42.666667h490.666667c17.066667 0 34.133333 17.066667 34.133333 42.666667 0 21.333333-12.8 42.666667-34.133333 42.666667z m-473.6 128h465.066666c25.6 0 46.933333 21.333333 46.933334 42.666666 0 25.6-21.333333 42.666667-46.933334 42.666667H516.266667c-25.6 0-46.933333-17.066667-46.933334-42.666667s21.333333-42.666667 46.933334-42.666666z m0 298.666666c-25.6 0-46.933333-21.333333-46.933334-42.666666 0-25.6 21.333333-42.666667 46.933334-42.666667h465.066666c25.6 0 46.933333 17.066667 46.933334 42.666667s-21.333333 42.666667-46.933334 42.666666H516.266667z m4.266666 128h452.266667c29.866667 0 51.2 17.066667 51.2 42.666667s-21.333333 42.666667-51.2 42.666667h-452.266667c-29.866667 0-51.2-17.066667-51.2-42.666667s21.333333-42.666667 51.2-42.666667z m-192 25.6c-17.066667 17.066667-46.933333 17.066667-64 0l-251.733333-273.066666c-17.066667-17.066667-17.066667-51.2 0-68.266667l251.733333-273.066667c17.066667-17.066667 46.933333-17.066667 64 0s17.066667 51.2 0 68.266667l-221.866666 238.933333 221.866666 238.933334c17.066667 21.333333 17.066667 51.2 0 68.266666z","p-id":"25978",fill:"#bfbfbf"})],-1)),Gs=[Os],Ws={class:"flex-fill"},Ks=Oe(()=>e("li",null,[e("span")],-1)),Js=Oe(()=>e("li",null,[e("span")],-1)),Ys={setup(l){var r;const{proxy:a}=T();z();let o=w(),t=k({currentIndex:1,team:o.params.team,teamName:"",sidebar:(r=localStorage.getItem("sidebar"))!=null?r:"true"});C(()=>{t.team=o.params.team,t.currentIndex=o.meta.tagIndex,i(),a.bus.on("showSidebar",function(){t.sidebar="true"}),a.bus.on("updateTeam",function(){i()})});let i=()=>{a.get(a.urls.team_get.format(t.team)).then(function(c){t.teamName=c.data.name})},n=()=>{localStorage.setItem("sidebar","false"),localStorage.setItem("toggle","true"),t.sidebar="false",a.bus.emit("showToggle")};return K(()=>o.params,c=>{t.currentIndex=o.meta.tagIndex,t.team!==o.params.team&&o.params.team&&(t.team=o.params.team,i())}),(c,u)=>{const _=R("router-link");return d(),p("div",{class:L(["flex-column flex sidebar",{open:s(t).sidebar==="true",close:s(t).sidebar==="false"}])},[e("div",Ns,[e("div",qs,[f(_,{to:{name:"Index"}},{default:P(()=>[e("div",As,[e("div",Rs,y(s(t).teamName),1)])]),_:1})]),s(t).sidebar==="true"?(d(),p("div",{key:0,class:"arrow-color align-self-start pointer pt-2",onClick:u[0]||(u[0]=(...m)=>s(n)&&s(n)(...m))},Gs)):S("",!0)]),e("div",Ws,[e("ul",null,[e("li",{class:L({active:s(t).currentIndex===1})},[f(me,{icon:"Main",to:{name:"Workbench",params:{team:s(t).team,type:"overview",title:"\u6211\u7684\u5DE5\u4F5C\u53F0"}}},null,8,["to"])],2),Ks,e("li",{class:L({active:s(t).currentIndex===21})},[f(me,{icon:"Projects",to:{name:"Projects",params:{team:s(t).team,title:"\u9879\u76EE\u7BA1\u7406"}}},null,8,["to"])],2),e("li",{class:L({active:s(t).currentIndex===23})},[f(me,{icon:"Wiki",to:{name:"Spaces",params:{team:s(t).team,title:"\u6587\u6863\u4E2D\u5FC3"}}},null,8,["to"])],2),e("li",{class:L({active:s(t).currentIndex===26})},[f(me,{icon:"TeamSetting",to:{name:"TeamSetting",params:{team:s(t).team,type:"manager",title:"\u7EC4\u7EC7\u67B6\u6784"}}},null,8,["to"])],2),Js,e("li",{class:L({active:s(t).currentIndex===82})},[f(me,{icon:"ProjectSetting",to:{name:"ProjectSettingManager",params:{team:s(t).team,title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3"}}},null,8,["to"])],2),e("li",{class:L({active:s(t).currentIndex===83})},[f(me,{icon:"WikiSetting",to:{name:"WikiSetting",params:{team:s(t).team,type:"list",title:"\u6587\u6863\u914D\u7F6E\u4E2D\u5FC3"}}},null,8,["to"])],2)])]),e("div",null,[e("ul",null,[e("li",null,[f(me,{icon:"Help",to:{name:"Help",params:{title:"\u5E2E\u52A9\u4E2D\u5FC3"}}})])])])],2)}}};var Qs=D(Ys,[["__scopeId","data-v-2aab0e9f"]]);const Zs={setup(l){return(a,o)=>{const t=R("router-view");return d(),p($,null,[f(Qs),f(t)],64)}}};const Ge=l=>(H("data-v-45df19c5"),l=l(),F(),l),Xs={class:"flex-row flex avatar-container"},ea={class:"flex-row flex align-items-center avatar-header-person-plus"},ta=Ge(()=>e("i",{style:{"font-size":"1.5rem"},class:"bi bi-person-plus"},null,-1)),sa={class:"avatar-center","data-bs-toggle":"dropdown","data-bs-offset":"-20,2"},aa={class:"align-items-center flex-row flex avatar-center-icon"},la=["src"],oa={class:"dropdown-menu border-0 jiBox"},ia={class:"avatar-dropdown-header"},na={class:"dropdown-email"},ra=Ge(()=>e("li",{class:"avatar-dropdown-line"},null,-1)),da={class:"avatar-dropdown-item"},ca={class:"avatar-dropdown-item"},ua={class:"avatar-dropdown-item"},pa=Ge(()=>e("li",{class:"avatar-dropdown-line"},null,-1)),_a={class:"avatar-dropdown-item"},ma={setup(l){let{proxy:a}=T(),o=z(),t=w(),i=k({team:t.params.team,show:!1,user:{avatar:"/images/default_avatar.jpg"}});C(()=>{r()});let n=u=>{i.show=!1,t.params.type!==u&&o.push({name:"Center",params:{type:u}})},r=()=>{let u=a.urls.team_user_get.format(i.team,we());a.get(u).then(function(_){i.user=_.data})},c=u=>{o.push({name:u})};return(u,_)=>{const m=R("router-link");return d(),p("div",Xs,[e("div",ea,[f(m,{to:{name:"TeamSetting",params:{team:s(i).team,type:"member",title:"\u7EC4\u7EC7\u67B6\u6784"}}},{default:P(()=>[ta]),_:1},8,["to"])]),e("div",sa,[e("div",aa,[e("img",{src:s(i).user.avatar},null,8,la)])]),e("ul",oa,[(d(!0),p($,null,M(s(i).projects,h=>(d(),p("li",{class:"px-3 py-1",key:h.uuid},[f(m,{to:{name:"Project",params:{team:s(i).team,project:h.uuid}}},{default:P(()=>[V(y(h.name),1)]),_:2},1032,["to"])]))),128)),e("li",ia,[e("div",null,y(s(i).user.name),1),e("div",na,y(s(i).user.email),1)]),ra,e("li",da,[e("div",{onClick:_[0]||(_[0]=h=>s(n)("account"))},"\u8D26\u53F7\u8BBE\u7F6E")]),e("li",ca,[e("div",{onClick:_[1]||(_[1]=h=>s(n)("safe"))},"\u5B89\u5168\u8BBE\u7F6E")]),e("li",ua,[e("div",{onClick:_[2]||(_[2]=h=>s(n)("certificate"))},"\u767B\u5F55\u51ED\u8BC1")]),pa,e("li",_a,[e("div",{onClick:_[3]||(_[3]=h=>s(c)("Logout"))},"\u6CE8\u9500")])])])}}};var We=D(ma,[["__scopeId","data-v-45df19c5"]]);const fa=l=>(H("data-v-43f6c898"),l=l(),F(),l),ha={class:"flex-row flex align-items-center toggle-container p-2"},xa=fa(()=>e("svg",{t:"1603696402499",class:"icon",viewBox:"0 0 1028 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"31622",width:"20",height:"20"},[e("path",{d:"M41.59999967 784.99999967l483.00000033 0c16.80000033 0 33.59999967 20.99999967 33.59999967 42.00000033 0 25.20000001-12.6 42.00000033-33.59999967 42.00000033l-483.00000033 0c-16.80000033 0-33.59999967-16.80000033-33.59999967-42.00000033 0-20.99999967 12.6-42.00000033 33.59999967-42.00000033z m466.2-125.99999999l-457.79999934 0c-25.20000001 0-46.19999967-20.99999967-46.20000066-41.99999935 0-25.20000001 20.99999967-42.00000033 46.20000066-42.00000033L507.79999967 575c25.20000001 0 46.19999967 16.80000033 46.20000066 42.00000033s-20.99999967 42.00000033-46.20000066 41.99999935z m0-293.99999936c25.20000001 0 46.19999967 20.99999967 46.20000066 41.99999935 0 25.20000001-20.99999967 42.00000033-46.20000066 42.00000033l-457.79999934 0c-25.20000001 0-46.19999967-16.80000033-46.20000066-42.00000033s20.99999967-42.00000033 46.20000066-41.99999935L507.79999967 365.00000032z m-4.19999934-125.99999999l-445.20000034 0c-29.40000033 0-50.4-16.80000033-50.39999999-42.00000033s20.99999967-42.00000033 50.4-42.00000033l445.20000033 0c29.40000033 0 50.4 16.80000033 50.4 42.00000033s-20.99999967 42.00000033-50.4 42.00000033z m189-25.2c16.80000033-16.80000033 46.19999967-16.80000033 63 0l247.79999967 268.79999933c16.80000033 16.80000033 16.80000033 50.4 0 67.20000033l-247.79999966 268.80000034c-16.80000033 16.80000033-46.19999967 16.80000033-63.00000001 0s-16.80000033-50.4 0-67.20000033l218.39999934-235.19999968-218.39999934-235.20000065c-16.80000033-20.99999967-16.80000033-50.4 0-67.19999934z","p-id":"31623",fill:"#515151"})],-1)),va=[xa],ga={class:"toggle-title"},ya={setup(l){var n;const{proxy:a}=T();z();let o=w(),t=k({toggle:(n=localStorage.getItem("toggle"))!=null?n:"false",title:o.meta.title});je(()=>{a.bus.on("showToggle",function(){t.toggle="true"})}),K(()=>o.meta.title,r=>{t.title=o.meta.title});let i=()=>{localStorage.setItem("sidebar","true"),localStorage.setItem("toggle","false"),t.toggle="false",a.bus.emit("showSidebar")};return(r,c)=>(d(),p("div",ha,[s(t).toggle==="true"?(d(),p("div",{key:0,class:"flex-row flex align-items-center pointer justify-color",onClick:c[0]||(c[0]=(...u)=>s(i)&&s(i)(...u))},va)):S("",!0),e("div",ga,y(s(t).title),1)]))}};var St=D(ya,[["__scopeId","data-v-43f6c898"]]);const ba={class:"flex-column flex jiBox"},$a={class:"app-header flex-row flex align-items-center"},wa=e("div",{class:"flex-fill"},null,-1),ka={setup(l){return(a,o)=>(d(),p("div",ba,[e("div",$a,[f(St),wa,f(We)])]))}},ja={class:"flex-column flex layout-bg layout-w",style:{flex:"1 1 0"}},Sa={setup(l){return(a,o)=>{const t=R("router-view");return d(),p("div",ja,[f(ka),f(t)])}}};const Ca=l=>(H("data-v-6c930764"),l=l(),F(),l),Ia={class:"flex-row flex align-items-center"},Ta=Ca(()=>e("div",{style:{width:"1px",height:"22px","border-left":"1px solid #aaaaaa"},class:"ps-3"},null,-1)),za={class:"flex-row flex align-items-center fs-c9 project-dropdown h-100","data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-offset":"-16,2"},Ma={style:{"font-size":"16px"}},Da={class:"dropdown-menu border-0 jiBox"},La={props:["name"],setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,projects:[]});C(()=>{i()});let i=()=>{let n=a.urls.team_project_list.format(t.team),r={categories:[],name:""};a.post(n,r).then(function(c){t.projects=c.data})};return(n,r)=>{const c=R("router-link");return d(),p("div",Ia,[Ta,e("div",za,[e("div",Ma,y(l.name),1)]),e("ul",Da,[(d(!0),p($,null,M(s(t).projects,u=>(d(),p("li",{class:"px-3 py-1",key:u.uuid},[f(c,{to:{name:"Project",params:{team:s(t).team,project:u.uuid}}},{default:P(()=>[V(y(u.name),1)]),_:2},1032,["to"])]))),128))])])}}};var Ba=D(La,[["__scopeId","data-v-6c930764"]]);const Pa=l=>(H("data-v-54242310"),l=l(),F(),l),Va={class:"flex-column flex jiBox"},Ua={class:"app-header flex-row flex align-items-center"},Ha={class:"flex-fill"},Fa={key:0,id:"com",class:"com-outline"},Ea={class:"project-header-dropdown"},Na={class:"project-header-com"},qa=Pa(()=>e("div",{class:"project-header-designer"},[e("i",{class:"bi bi-gear"}),V(" \u9879\u76EE\u8BBE\u7F6E ")],-1)),Aa={key:1,class:"com-outline"},Ra={key:0,class:"flex-row flex justify-content-center project-header-designer-attr"},Oa={props:{components:Array,project:Object},setup(l){z();let a=w(),o=k({team:a.params.team,selectedCom:a.params.com,attrs:[{uuid:"com",name:"\u9879\u76EE\u7EC4\u5EFA"},{uuid:"issue_type",name:"\u5DE5\u4F5C\u9879\u7C7B\u578B",items:[{uuid:"issue_type_field"},{uuid:"issue_type_flow"}]},{uuid:"project_permission",name:"\u9879\u76EE\u6743\u9650"},{uuid:"project_field",name:"\u9879\u76EE\u5C5E\u6027"},{uuid:"project_status",name:"\u9879\u76EE\u72B6\u6001"},{uuid:"project_info",name:"\u9879\u76EE\u4FE1\u606F"},{uuid:"more",name:"\u66F4\u591A"}],designer:!1,dropdownActive:!1,dropParams:["\u4E2A\u4EBA\u4E2D\u5FC3","\u9000\u51FA\u767B\u5F55"],projects:[],items:[],projectName:"",title:""});C(()=>{t()});let t=()=>{o.designer=!1,o.selectedCom=a.params.com,i()};K(()=>a.params,c=>{o.selectedCom=a.params.com,o.selectedCom&&t()});let i=()=>{o.selectedCom==="designer"&&(o.designer=!0)},n=(c,u)=>{if(c.uuid===u)return!0;if(c.items&&c.items.length>0){for(let _=0;_<c.items.length;_++)if(c.items[_].uuid===u)return!0}return!1},r=Y(()=>{var c;return(c=a.params.attr)!=null?c:"com"});return(c,u)=>{const _=R("router-link");return d(),p("div",Va,[e("div",Ua,[f(St),e("div",Ha,[l.project&&l.components&&l.components.length>0?(d(),p("div",Fa,[e("div",Ea,[f(Ba,{team:s(o).team,name:l.project.name},null,8,["team","name"])]),(d(!0),p($,null,M(l.components,m=>(d(),p("div",{key:m.com},[f(_,{class:L([{active:m.uuid===s(o).selectedCom},"com align-items-center justify-content-center"]),to:{name:"Component",params:{team:s(o).team,project:l.project.uuid,com:m.uuid}}},{default:P(()=>[e("div",Na,y(m.name),1)]),_:2},1032,["class","to"])]))),128)),e("div",null,[f(_,{class:L([{active:s(o).selectedCom==="designer"},"com align-items-center justify-content-center"]),to:{name:"ComponentDesigner",params:{team:s(o).team,project:l.project.uuid,com:"designer",attr:"com"}}},{default:P(()=>[qa]),_:1},8,["class","to"])])])):(d(),p("div",Aa,"\xA0"))]),f(We)]),l.project&&s(o).designer?(d(),p("div",Ra,[(d(!0),p($,null,M(s(o).attrs,m=>(d(),p("div",{class:"attr",key:m.uuid},[f(_,{class:L({active:s(n)(m,s(r))}),to:{name:"ComponentDesigner",params:{team:s(o).team,project:l.project.uuid,com:"designer",attr:m.uuid}}},{default:P(()=>[V(y(m.name),1)]),_:2},1032,["class","to"])]))),128))])):S("",!0)])}}};var Ga=D(Oa,[["__scopeId","data-v-54242310"]]);const Wa={class:"flex-column flex layout-bg layout-w",style:{flex:"1 1 0"}},Ka={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,projectUUID:o.params.project,project:null});const i=W([]);ot("components",i);const n=W({assign:{}});ot("project",n),C(()=>{a.bus.on("updateComponents",function(u){r()}),a.bus.on("updateProjectInfo",function(u){c(u)}),r(),c(t.projectUUID)}),Ft(()=>{a.bus.all.delete("updateComponents"),a.bus.all.delete("updateProjectInfo")});let r=()=>{a.get(a.urls.components.format(t.team,t.projectUUID)).then(function(u){i.value=u.data})},c=u=>{a.get(a.urls.project_get.format(t.team,u)).then(function(_){t.project=_.data,t.project.to_do_count+t.project.in_progress_count+t.project.done_count===0?t.project.progressRate=0:t.project.progressRate=(t.project.done_count*100/(t.project.to_do_count+t.project.in_progress_count+t.project.done_count)).toFixed(0),n.value=t.project})};return(u,_)=>{const m=R("router-view");return d(),p("div",Wa,[f(Ga,{components:i.value,project:s(t).project},null,8,["components","project"]),f(m)])}}};const Ct=l=>(H("data-v-ebbf28b4"),l=l(),F(),l),Ja={style:{width:"100%",height:"100%"},class:"flex-row flex align-items-center justify-content-center"},Ya={style:{position:"relative",width:"800px",height:"600px","background-color":"#f0f0f0",overflow:"hidden"},class:"flex-row flex align-items-center justify-content-center"},Qa=ie('<div style="position:absolute;width:800px;height:600px;" data-v-ebbf28b4><i class="bi bi-circle-fill" style="font-size:15rem;position:absolute;color:rgba(255, 206, 86, 0.3);top:-40px;left:200px;" data-v-ebbf28b4></i><i class="bi bi-circle-fill" style="font-size:25rem;position:absolute;color:rgba(75, 192, 192, 0.3);top:-50px;left:10px;" data-v-ebbf28b4></i><i class="bi bi-circle-fill" style="font-size:40rem;position:absolute;color:rgba(255, 99, 132, 0.3);top:100px;left:450px;" data-v-ebbf28b4></i><i class="bi bi-circle-fill" style="font-size:20rem;position:absolute;color:rgba(153, 102, 255, 0.3);top:300px;left:300px;" data-v-ebbf28b4></i></div>',1),Za={style:{position:"absolute",width:"600px",height:"400px","background-color":"#ffffff","border-radius":"5px"},class:"enter flex-column flex justify-content-center"},Xa={style:{flex:"1",padding:"60px 60px"},class:"flex-column flex"},el=Ct(()=>e("div",{style:{"font-size":"18px"},class:"flex-row flex align-items-center"},[V("\u767B\u5F55 Jitask \u9879\u76EE\u7BA1\u7406\u7CFB\u7EDF"),e("sup",{style:{color:"#17C4BB","margin-left":"5px"}},"beta")],-1)),tl={class:"flex-row flex align-items-center",style:{padding:"30px 0"}},sl={class:"flex-row flex align-items-center"},al=Ct(()=>e("div",{style:{"margin-top":"30px",color:"#909090"},class:"flex-row flex align-items-center justify-content-center"}," \u6F14\u793A\u7248\u672C\uFF0C\u70B9\u51FB\u767B\u5F55\u8FDB\u5165\u7CFB\u7EDF\uFF0C\u6216\u8005\u81EA\u5DF1\u6CE8\u518C\u4E00\u4E2A\u8BD5\u8BD5 ",-1)),ll={style:{flex:"0 0 48px","background-color":"#f0f0f0"},class:"flex-row flex align-items-center"},ol=ie('<div style="position:absolute;bottom:10px;" data-v-ebbf28b4><div style="flex:0 0 60px;" class="flex-row align-items-center flex justify-content-center copyright" data-v-ebbf28b4><div data-v-ebbf28b4> Copyright \xA92020 <a href="/" data-v-ebbf28b4>\u7231\u65AF\u56ED</a></div><div style="margin-left:5px;" data-v-ebbf28b4><a href="https://beian.miit.gov.cn" target="_blank" data-v-ebbf28b4>\u7CA4ICP\u59072020117325\u53F7</a></div></div></div>',1),il={setup(l){const{proxy:a}=T();let o=z(),t=W("soul@iissy.com"),i=W("S0se4r5t2"),n=()=>{let c={email:t.value,password:i.value};a.post(a.urls.login_url,c).then(function(u){u.data.result.user&&u.data.result.user.uuid&&u.data.result.user.default_team&&(xt(u.data.result.user.uuid),o.push({name:"Workbench",params:{team:u.data.result.user.default_team,type:"overview"}}))}).catch(function(u){a.bus.emit("alertDanger",u.response.data.errcode)})},r=()=>{o.push({name:"Reg"})};return(c,u)=>(d(),p("div",Ja,[e("div",Ya,[Qa,e("div",Za,[e("div",Xa,[el,e("div",tl,[N(e("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=_=>le(t)?t.value=_:t=_),class:"login-name",placeholder:"Email",autocomplete:"off"},null,512),[[O,s(t)]])]),e("div",sl,[N(e("input",{type:"password","onUpdate:modelValue":u[1]||(u[1]=_=>le(i)?i.value=_:i=_),class:"login-name",placeholder:"Password",autocomplete:"off"},null,512),[[O,s(i)]])]),al]),e("div",ll,[e("div",{style:{flex:"1","background-color":"#e0e0e0",height:"100%","padding-left":"20px","border-radius":"0 0 0 5px",cursor:"pointer"},class:"flex-row flex align-items-center reg",onClick:u[2]||(u[2]=(..._)=>s(r)&&s(r)(..._))}," \u6CE8\u518C "),e("div",{class:"login justify-content-end flex-row flex align-items-center",onClick:u[3]||(u[3]=(..._)=>s(n)&&s(n)(..._))}," \u767B\u5F55 ")])]),ol])]))}};var nl=D(il,[["__scopeId","data-v-ebbf28b4"]]),rl="https://cdn.jsdelivr.net/gh/jitask/cache/dist/images/team.jpg";const fe=l=>(H("data-v-17e8a1fc"),l=l(),F(),l),dl={style:{width:"100%",height:"100%"},class:"flex-row flex align-items-center justify-content-center"},cl={style:{position:"relative",width:"1000px",height:"600px","background-color":"#f0f0f0",overflow:"hidden"},class:"flex-row flex align-items-center justify-content-center"},ul=ie('<div style="position:absolute;width:800px;height:600px;" data-v-17e8a1fc><i class="bi bi-circle-fill" style="font-size:10rem;position:absolute;color:rgba(255, 206, 86, 0.3);top:-50px;left:150px;" data-v-17e8a1fc></i><i class="bi bi-circle-fill" style="font-size:20rem;position:absolute;color:rgba(75, 192, 192, 0.3);top:-150px;left:-120px;" data-v-17e8a1fc></i><i class="bi bi-circle-fill" style="font-size:30rem;position:absolute;color:rgba(255, 99, 132, 0.3);top:200px;left:460px;" data-v-17e8a1fc></i><i class="bi bi-circle-fill" style="font-size:15rem;position:absolute;color:rgba(153, 102, 255, 0.3);top:320px;left:330px;" data-v-17e8a1fc></i><i class="bi bi-circle-fill" style="font-size:18rem;position:absolute;color:rgba(0, 191, 255, 0.1);top:300px;left:-50px;" data-v-17e8a1fc></i><i class="bi bi-circle-fill" style="font-size:15rem;position:absolute;color:rgba(0, 128, 0, 0.1);top:130px;left:680px;" data-v-17e8a1fc></i></div>',1),pl={style:{position:"absolute",width:"900px",height:"500px","background-color":"#ffffff","border-radius":"5px",padding:"30px"},class:"flex-column flex"},_l={class:"flex-row flex",style:{height:"100%"}},ml={class:"flex-column flex flex-fill me-4 pe-2",style:{width:"45%"}},fl=fe(()=>e("div",{style:{flex:"0 0 auto"},class:"flex-row flex fs-c10 fw-bolder"},"\u8BF7\u5B8C\u5584\u4F60\u7684\u4FE1\u606F\uFF0C\u514D\u8D39\u521B\u5EFA\u8BD5\u7528\u56E2\u961F",-1)),hl={key:0,style:{flex:"1"}},xl={class:"flex-row flex align-items-center",style:{padding:"30px 0"}},vl={style:{flex:"1 1 70%"}},gl={style:{flex:"1 1 30%","text-align":"right"}},yl=["disabled"],bl={class:"flex-row flex align-items-center"},$l={style:{"margin-top":"60px",color:"#909090"},class:"flex-row flex align-items-center justify-content-center"},wl={key:1,style:{flex:"1"}},kl={class:"flex-row flex align-items-center",style:{padding:"15px 0"}},jl={class:"flex-row flex align-items-center",style:{padding:"15px 0"}},Sl={class:"flex-row flex align-items-center",style:{padding:"15px 0"}},Cl={style:{"margin-top":"60px",color:"#909090"},class:"flex-row flex align-items-center justify-content-center"},Il={style:{flex:"0 0 100px"}},Tl=fe(()=>e("div",{style:{flex:"0 0 20px"}},"\xA0",-1)),zl={style:{flex:"1"}},Ml=fe(()=>e("div",{style:{color:"#909090",flex:"0 0 80px","text-align":"center"}}," \u6F14\u793A\u7248\uFF0C\u8BF7\u8F93\u5165\u5408\u6CD5\u7684\u624B\u673A\u53F7\u7801\uFF0C\u90AE\u7BB1\u7B49\u5373\u53EF\u901A\u8FC7\u9A8C\u8BC1 ",-1)),Dl={style:{"border-left":"1px solid #e8e8e8",width:"55%"},class:"flex-column flex flex-fill justify-content-center"},Ll=fe(()=>e("div",{style:{flex:"0 0 auto"}},[e("div",{class:"flex-row flex align-items-center"},[e("div",{class:"ps-4"},[e("svg",{t:"1604535926297",class:"icon",viewBox:"0 0 1170 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5606",width:"25",height:"25"},[e("path",{d:"M1150.244571 327.0656L925.2864 26.975086c-3.920457-5.880686-14.862629-9.0112-25.951086-9.0112-10.620343 0-21.211429 2.8672-25.980343 9.0112l-207.608685 282.799543c-24.488229 37.917257-12.522057 51.931429 34.552685 51.931428h103.892115c-0.468114 50.5856-3.364571 102.341486-7.753143 137.216-20.948114 167.087543-127.268571 211.646171-131.744914 213.577143-15.594057 6.436571-12.6976 29.9008 6.407314 29.9008 268.463543 0 331.103086-310.915657 340.757943-380.693943h103.8336c1.462857 0.117029 3.861943 0.292571 6.816914 0.292572 15.623314 0 46.021486-3.978971 27.735771-34.933029z",fill:"#333333","p-id":"5607"}),e("path",{d:"M600.736914 567.968914h-134.026971c0.585143-65.301943 4.271543-132.213029 9.947428-177.210514 27.092114-215.683657 164.308114-273.261714 170.130286-275.6608 20.187429-8.367543 16.384-38.619429-8.279771-38.619429-346.5216 0-427.446857 401.408-439.9104 491.461486H64.570514a88.4736 88.4736 0 0 0-8.894171-0.4096c-20.099657 0-59.392 5.090743-35.810743 45.143772l290.464914 387.452342c5.061486 7.606857 19.2512 11.644343 33.528686 11.644343 13.692343 0 27.4432-3.715657 33.440914-11.644343l268.0832-365.187657c31.685486-48.9472 16.1792-66.9696-44.6464-66.9696z",fill:"#333333","p-id":"5608"})])]),e("div",{class:"ms-1"},[e("a",{href:"/",class:"fw-bolder fs-c11 home-title",style:{color:"#333333","letter-spacing":"3px","text-align":"center"}},"Jitask")]),e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1608034654856",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5182",width:"32",height:"32"},[e("path",{d:"M479.40136719 120.88671875h65.20605468v782.2265625h-65.20605468z","p-id":"5183",fill:"#2c2c2c"})])]),e("div",{class:"fw-bolder fs-c11",style:{color:"#333333","letter-spacing":"3px"}}," \u521B\u5EFA\u56E2\u961F ")])],-1)),Bl=fe(()=>e("div",{style:{opacity:"0.8"},class:"my-3 ps-2 text-center"},[e("img",{src:rl,width:"400",height:"200"})],-1)),Pl={class:"flex-column flex flex-fill"},Vl=fe(()=>e("div",{style:{color:"#333333"},class:"pt-2 ps-4 fw-bolder fs-c10"}," \u60A8\u53EF\u4EE5\u5C1D\u8BD5 Jitask \u5168\u7EBF\u4EA7\u54C1\u7684\u529F\u80FD ",-1)),Ul={style:{flex:"1","text-align":"left"}},Hl=fe(()=>e("div",{style:{flex:"0 0 auto",color:"#1e7e34"}},[e("i",{class:"bi bi-check"})],-1)),Fl=ie('<div style="position:absolute;bottom:10px;" data-v-17e8a1fc><div style="flex:0 0 60px;" class="flex-row flex align-items-center justify-content-center copyright" data-v-17e8a1fc><div data-v-17e8a1fc> Copyright \xA92020 <a href="/" data-v-17e8a1fc>\u7231\u65AF\u56ED</a></div><div style="margin-left:5px;" data-v-17e8a1fc><a href="https://beian.miit.gov.cn" target="_blank" data-v-17e8a1fc>\u7CA4ICP\u59072020117325\u53F7</a></div></div></div>',1),El={setup(l){let{proxy:a}=T(),o=W(""),t=W(""),i=W(""),n=W(""),r=W(""),c=W(!0),u=W(!1),_=W(!1),m=k({items:[{uuid:"a",name:"\u7BA1\u7406\u56E2\u961F\uFF0C\u6210\u5458\u89D2\u8272\u7BA1\u7406\uFF0C\u4EFB\u52A1\u7BA1\u7406\uFF0C\u6743\u9650\u914D\u7F6E"},{uuid:"c",name:"\u6587\u6863\u8D44\u6599\u7BA1\u7406"},{uuid:"d",name:"\u4E2A\u4EBA\u5DE5\u4F5C\u53F0\u67E5\u770B\u4E2A\u4EBA\u4EFB\u52A1\u60C5\u51B5"},{uuid:"e",name:"\u9879\u76EE\u62A5\u8868\uFF0C\u9879\u76EE\u8FDB\u5C55\u56FE\u6807\u5C55\u793A"}]}),h=()=>{if(!o.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801");return}if(!t.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801");return}if(t.value.toString().length!==6){a.bus.emit("alertDanger","\u9A8C\u8BC1\u7801\u662F\u516D\u4F4D\u6570\u5B57");return}c.value=!1,u.value=!0},x=()=>{c.value=!0,u.value=!1},g=()=>{if(!i.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740");return}if(!n.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u5BC6\u7801");return}if(!r.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u56E2\u961F\u540D\u79F0");return}let v="-",j=i.value.split("@");j&&j.length===2&&(v=j[0]);let I={name:v,team_name:r.value,email:i.value,password:n.value,phone:"+"+o.value,phone_code:t.value,team_role:"admin"};a.post(a.urls.team_create,I).then(function(E){E.data.code===200&&(window.location.href="/")}).catch(function(E){a.bus.emit("alertDanger",E.response.data.errcode)})},b=()=>{if(_.value=!0,!o.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801");return}a.post(a.urls.send_phone_code.format("+"+o.value)).then(function(v){v.data.code&&(t.value=v.data.code)}).catch(function(v){_.value=!1,a.bus.emit("alertDanger",v.response.data.errcode)})};return(v,j)=>(d(),p("div",dl,[e("div",cl,[ul,e("div",pl,[e("div",_l,[e("div",ml,[fl,s(c)?(d(),p("div",hl,[e("div",xl,[e("div",vl,[N(e("input",{type:"text","onUpdate:modelValue":j[0]||(j[0]=I=>le(o)?o.value=I:o=I),class:"form-control reg-input",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801",autocomplete:"off"},null,512),[[O,s(o),void 0,{trim:!0}]])]),e("div",gl,[e("button",{type:"button",class:"btn btn-outline-primary",style:{height:"40px",outline:"none","box-shadow":"none"},disabled:s(_),onClick:j[1]||(j[1]=(...I)=>s(b)&&s(b)(...I))},"\u53D1\u9001\u9A8C\u8BC1\u7801",8,yl)])]),e("div",bl,[N(e("input",{type:"text","onUpdate:modelValue":j[2]||(j[2]=I=>le(t)?t.value=I:t=I),class:"form-control reg-input",placeholder:"\u8BF7\u8F93\u5165 6 \u4F4D\u6570\u5B57\u9A8C\u8BC1\u7801",autocomplete:"off"},null,512),[[O,s(t),void 0,{trim:!0}]])]),e("div",$l,[e("button",{type:"button",class:"btn btn-primary",style:{height:"40px",width:"100%",outline:"none","box-shadow":"none"},onClick:j[3]||(j[3]=(...I)=>s(h)&&s(h)(...I))},"\u63D0\u4EA4\u9A8C\u8BC1")])])):S("",!0),s(u)?(d(),p("div",wl,[e("div",kl,[N(e("input",{type:"text","onUpdate:modelValue":j[4]||(j[4]=I=>le(i)?i.value=I:i=I),class:"form-control reg-input",placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u90AE\u7BB1",autocomplete:"off"},null,512),[[O,s(i),void 0,{trim:!0}]])]),e("div",jl,[N(e("input",{type:"password","onUpdate:modelValue":j[5]||(j[5]=I=>le(n)?n.value=I:n=I),class:"form-control reg-input",placeholder:"\u5BC6\u7801\u5E94\u4E3A8-32\u4F4D\uFF0C\u5FC5\u987B\u540C\u65F6\u5305\u542B\u6570\u5B57\u5B57\u6BCD",autocomplete:"off"},null,512),[[O,s(n),void 0,{trim:!0}]])]),e("div",Sl,[N(e("input",{type:"text","onUpdate:modelValue":j[6]||(j[6]=I=>le(r)?r.value=I:r=I),class:"form-control reg-input",placeholder:"\u8BF7\u8F93\u5165\u56E2\u961F\u540D\u79F0",autocomplete:"off"},null,512),[[O,s(r),void 0,{trim:!0}]])]),e("div",Cl,[e("div",Il,[e("button",{type:"button",class:"btn btn-outline-primary",style:{height:"40px",width:"100%",outline:"none","box-shadow":"none"},onClick:j[7]||(j[7]=(...I)=>s(x)&&s(x)(...I))},"\u8FD4\u56DE")]),Tl,e("div",zl,[e("button",{type:"button",class:"btn btn-primary",style:{height:"40px",width:"100%",outline:"none","box-shadow":"none"},onClick:j[8]||(j[8]=(...I)=>s(g)&&s(g)(...I))},"\u521B\u5EFA\u56E2\u961F")])])])):S("",!0),Ml]),e("div",Dl,[Ll,Bl,e("div",Pl,[Vl,(d(!0),p($,null,M(s(m).items,I=>(d(),p("div",{key:I.uuid,class:"flex-row flex b-line align-items-center py-2 ms-4"},[e("div",Ul,y(I.name),1),Hl]))),128))])])])]),Fl])]))}};var Nl=D(El,[["__scopeId","data-v-17e8a1fc"]]);const ql={id:"logout"},Al={setup(l){let{proxy:a}=T();return C(()=>{a.get(a.urls.logout).then(function(o){o.data.code===200&&(window.location.href="/")})}),(o,t)=>(d(),p("div",ql," Bye-Bye, Baby! "))}};var Rl=D(Al,[["__scopeId","data-v-509ea504"]]);const Ol=["disabled"],Gl={class:"flex-row flex align-items-center",style:{color:"inherit"}},Wl={key:0,style:{flex:"0 0 auto","margin-right":"5px"},class:"flex"},Kl=e("svg",{t:"1601478700106",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"34798",width:"12",height:"12"},[e("path",{d:"M956.1240653818753 579.0559211537523h-377.4918801217032v377.55208924331106c0 36.792317387069836-29.839867873102275 66.60264870994936-66.63332128133455 66.60264870994936-36.792317387069836 0-66.63218526017215-29.81033132287954-66.63218526017215-66.60264870994936v-377.55208924331106h-377.49415216402804c-36.822989958455004 0-66.63218526017215-29.81033132287954-66.63218526017215-66.60264870994936 0-36.77868513312089 29.812603365204367-66.60264870994936 66.63218526017215-66.60264870994936h377.4918801217032v-377.55208924331106c0-36.77868513312089 29.839867873102275-66.60264870994936 66.63218526017215-66.60264870994936 36.793453408232246 0 66.63332128133455 29.825099597990917 66.63332128133455 66.60264870994936v377.55322526447344h377.4918801217032c36.822989958455004 0 66.63332128133455 29.822827555666088 66.63332128133455 66.60037666762456-0.0011360211624130007 36.792317387069836-29.81033132287954 66.60037666762456-66.63332128133455 66.60037666762456z",fill:"#ffffff","p-id":"34799"})],-1),Jl=[Kl],Yl={style:{flex:"1",color:"inherit"}},se={props:{title:{type:String},disabled:{type:Boolean,default:!1},plus:{type:Boolean,default:!1}},emits:["submit"],setup(l,{emit:a}){const o=l;let t=()=>{o.disabled||a("submit")};return(i,n)=>(d(),p("button",{type:"button",class:"btn btn-submit",disabled:l.disabled,onClick:n[0]||(n[0]=(...r)=>s(t)&&s(t)(...r))},[e("div",Gl,[l.plus?(d(),p("div",Wl,Jl)):S("",!0),e("div",Yl,y(l.title),1)])],8,Ol))}};const It=l=>(H("data-v-374068ce"),l=l(),F(),l),Ql={class:"flex-row flex align-items-center wiki-header"},Zl={class:"wiki-header-logo"},Xl=It(()=>e("div",{class:"flex-row flex align-items-center"},[e("div",null,[e("svg",{t:"1604535926297",class:"icon",viewBox:"0 0 1170 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5606",width:"25",height:"25"},[e("path",{d:"M1150.244571 327.0656L925.2864 26.975086c-3.920457-5.880686-14.862629-9.0112-25.951086-9.0112-10.620343 0-21.211429 2.8672-25.980343 9.0112l-207.608685 282.799543c-24.488229 37.917257-12.522057 51.931429 34.552685 51.931428h103.892115c-0.468114 50.5856-3.364571 102.341486-7.753143 137.216-20.948114 167.087543-127.268571 211.646171-131.744914 213.577143-15.594057 6.436571-12.6976 29.9008 6.407314 29.9008 268.463543 0 331.103086-310.915657 340.757943-380.693943h103.8336c1.462857 0.117029 3.861943 0.292571 6.816914 0.292572 15.623314 0 46.021486-3.978971 27.735771-34.933029z",fill:"#ffffff","p-id":"5607"}),e("path",{d:"M600.736914 567.968914h-134.026971c0.585143-65.301943 4.271543-132.213029 9.947428-177.210514 27.092114-215.683657 164.308114-273.261714 170.130286-275.6608 20.187429-8.367543 16.384-38.619429-8.279771-38.619429-346.5216 0-427.446857 401.408-439.9104 491.461486H64.570514a88.4736 88.4736 0 0 0-8.894171-0.4096c-20.099657 0-59.392 5.090743-35.810743 45.143772l290.464914 387.452342c5.061486 7.606857 19.2512 11.644343 33.528686 11.644343 13.692343 0 27.4432-3.715657 33.440914-11.644343l268.0832-365.187657c31.685486-48.9472 16.1792-66.9696-44.6464-66.9696z",fill:"#ffffff","p-id":"5608"})])]),e("div",{class:"wiki-header-link flex-row flex align-items-center"}," Jitask ")],-1)),eo={class:"wiki-header-title"},to=V("\u6587\u6863\u4E2D\u5FC3"),so={class:"flex-column flex wiki-header-new"},ao=It(()=>e("div",{class:"flex-fill"},null,-1)),lo={setup(l){let a=w(),o=z(),t=k({team:a.params.team,space:a.params.space,page:a.params.page});K(()=>a.params,n=>{t.team=a.params.team,t.space=a.params.space,t.page=a.params.page});let i=()=>{t.page&&a.name!=="AddPage"&&o.push({name:"AddPage",params:{team:t.team,space:t.space,page:t.page}})};return(n,r)=>{const c=R("router-link");return d(),p("div",Ql,[e("div",Zl,[f(c,{to:{name:"Index"}},{default:P(()=>[Xl]),_:1})]),e("div",eo,[f(c,{icon:"Wiki",to:{name:"Spaces",params:{team:s(t).team}}},{default:P(()=>[to]),_:1},8,["to"])]),e("div",so,[f(se,{title:"\u65B0\u5EFA\u9875\u9762",plus:!0,onSubmit:s(i)},null,8,["onSubmit"])]),ao,f(We)])}}};var oo=D(lo,[["__scopeId","data-v-374068ce"]]);const io={},no={class:"flex-row flex flex-fill",style:{height:"0"}};function ro(l,a){const o=R("router-view");return d(),p("div",no,[f(o)])}var co=D(io,[["render",ro]]);const uo={class:"flex-column flex flex-fill layout-bg layout-w"},po={setup(l){return(a,o)=>(d(),p("div",uo,[f(oo),f(co)]))}},_o={},mo={class:"flex-fill text-center mt-4 fs-5"};function fo(l,a){return d(),p("div",mo,"\u5E2E\u52A9\u4E2D\u5FC3")}var ho=D(_o,[["render",fo]]);const xo={key:0,class:"text-end pe-3 opacity-75"},vo=e("svg",{t:"1645494763845",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8128",width:"32",height:"32"},[e("path",{d:"M1005.05 672.259a66.824 66.824 0 0 0-62.433-38H788.195a50.217 50.217 0 0 0 5.292-34.285 67.837 67.837 0 0 0-40.702-51.399 73.186 73.186 0 0 0-77.183 12.216l-12.667 10.922c-23.982 20.66-46.67 40.196-70.201 61.42h-50.78a26.065 26.065 0 0 0-25.277 26.74v248.888a28.148 28.148 0 0 0 8.388 18.353 29.668 29.668 0 0 0 18.296 7.037h53.989a104.937 104.937 0 0 1 11.54 6.249 96.436 96.436 0 0 0 15.707 8.05l10.866 6.756a67.556 67.556 0 0 0 17.79 4.053H799.23l-0.732-0.394a31.751 31.751 0 0 0 13.792-5.236 57.535 57.535 0 0 0 48.697-63.953 9.289 9.289 0 0 0-1.126-3.378 23.476 23.476 0 0 1-1.351-3.49 52.637 52.637 0 0 0 27.585-32.258 63.165 63.165 0 0 0-2.308-46.613 67.556 67.556 0 0 0 14.243-40.872h41.772a52.525 52.525 0 0 0 21.73-2.702 62.602 62.602 0 0 0 43.462-36.593 58.042 58.042 0 0 0 0.056-51.511z m-40.871 28.936a27.022 27.022 0 0 1-16.157 11.26h-0.563a14.187 14.187 0 0 1-9.627 2.364H854.85l-12.892 22.913 6.924 11.259a19.816 19.816 0 0 1 1.239 2.027 20.38 20.38 0 0 1-8.839 27.472l-8.444 7.038-2.871 22.518 7.205 7.206a17.396 17.396 0 0 1 3.66 19.254 26.065 26.065 0 0 1-17.621 13.68l-11.26 4.278-7.15 22.857 7.376 9.289a13.286 13.286 0 0 1 3.49 6.755 17.227 17.227 0 0 1-12.892 18.071 20.773 20.773 0 0 0-3.49 1.69h-0.394v0.393c-0.845 1.69-4.166 1.69-6.418 1.69H656.236l-12.948-6.644c-5.63-2.42-11.822-5.63-17.734-9.12-3.546-1.97-6.98-3.884-10.246-5.63a94.41 94.41 0 0 0-19.084-4.053h-35.13V676.087h33.779a31.639 31.639 0 0 0 23.757-8.332c12.442-10.809 24.602-21.562 36.762-32.314 15.988-14.13 32.54-28.768 49.484-43.405a21.055 21.055 0 0 1 26.798-6.193c8.275 5.63 13.792 10.246 13.792 15.932a18.86 18.86 0 0 1-7.43 16.89l-2.365 2.42c-18.072 11.26-24.546 23.982-19.141 38a30.738 30.738 0 0 0 26.516 15.37h197.488c12.892 0 19.93 3.996 23.588 13.68a12.329 12.329 0 0 1 0.057 13.06z",fill:"#FFCC00","p-id":"8129"}),e("path",{d:"M448.952 956.444H103.403a21.168 21.168 0 0 1-15.594-7.713 32.145 32.145 0 0 1-7.206-25.558c29.894-219.557 198.952-386.364 396.385-394.077 4.785 0 9.626 0.394 14.524 0.394 145.921 0 264.594-133.704 264.594-264.594a264.594 264.594 0 1 0-409.895 220.852A472.103 472.103 0 0 0 173.718 592.43C87.47 675.75 30.668 789.75 13.723 914.053a99.645 99.645 0 0 0 23.25 78.815 88.555 88.555 0 0 0 66.487 30.85h345.492a33.778 33.778 0 0 0 0-67.555z m-152.958-691.66a195.574 195.574 0 1 1 195.293 195.574 195.8 195.8 0 0 1-195.293-195.574z",fill:"#FFCC00","p-id":"8130"})],-1),go=[vo],yo={key:1,class:"text-end pe-3 opacity-75"},bo=e("svg",{t:"1645494847486",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"11352",width:"32",height:"32"},[e("path",{d:"M780.288 570.7776a40.96 40.96 0 0 1 40.96 40.96v122.88h122.88a40.96 40.96 0 0 1 0 81.92h-122.88v122.88a40.96 40.96 0 1 1-81.92 0v-122.88h-122.88a40.96 40.96 0 1 1 0-81.92h122.88v-122.88a40.96 40.96 0 0 1 40.96-40.96zM503.125333 6.621867a262.826667 262.826667 0 1 1 0 525.653333l12.6976-0.2048a40.96 40.96 0 0 1-12.288 1.8432 368.64 368.64 0 0 0-368.64 368.64 40.96 40.96 0 1 1-81.92 0A450.7648 450.7648 0 0 1 346.112 480.256 262.826667 262.826667 0 0 1 503.125333 6.690133z m0 81.92a180.906667 180.906667 0 1 0 0 361.813333 180.906667 180.906667 0 0 0 0-361.813333z","p-id":"11353",fill:"#FFCC00"})],-1),$o=[bo],wo={key:2,class:"text-end pe-3 opacity-75"},ko=e("svg",{t:"1645494936833",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"13377",width:"32",height:"32"},[e("path",{d:"M954.656 674.096a43.12 43.12 0 0 0-34.72-28.576l-102.48-15.232-44.528-92.432a43.792 43.792 0 0 0-39.36-24.464 43.84 43.84 0 0 0-39.36 24.464l-44.512 92.432-102.496 15.216a43.2 43.2 0 0 0-34.72 28.608 41.952 41.952 0 0 0 10.224 43.632l75.36 75.232-17.472 104.32a42.624 42.624 0 0 0 17.984 42.016 44.384 44.384 0 0 0 25.008 7.616c7.184 0 14.384-1.696 20.88-5.152l89.12-47.968 89.184 47.984a44.16 44.16 0 0 0 20.88 5.232c8.944 0 17.568-2.656 24.976-7.712a42.624 42.624 0 0 0 17.968-41.968l-17.472-104.336 75.376-75.216a42.128 42.128 0 0 0 10.16-43.696z m-130.768 73.568a63.968 63.968 0 0 0-17.92 55.856l10.4 62.128-52.48-28.24a64.096 64.096 0 0 0-60.672 0l-52.464 28.24 10.4-62.112a64 64 0 0 0-17.904-55.872l-45.12-45.024 60.96-9.04a64.032 64.032 0 0 0 48.256-35.552l26.224-54.432 26.24 54.448a64 64 0 0 0 48.256 35.52l60.96 9.056-45.136 45.024z","p-id":"13378",fill:"#FFCC00"}),e("path",{d:"M446.16 896h-288c-8.688 0-17.648-4.016-22.816-10.224-3.84-4.608-5.072-9.728-3.888-16.144C159.376 718.032 291.728 608 446.16 608c2.896 0 5.664-0.512 8.336-1.232C593.088 594.4 702.16 477.776 702.16 336c0-149.984-122.016-272-272-272s-272 122.016-272 272c0 102.224 56.736 191.36 140.32 237.824-116.88 48.72-205.872 153.424-229.968 284.224-4.624 25.056 1.648 49.472 17.648 68.688C103.504 947.568 130.416 960 158.16 960h288a32 32 0 0 0 0-64z m-224-560c0-114.688 93.312-208 208-208s208 93.312 208 208-93.312 208-208 208c-114.704 0-208-93.312-208-208z","p-id":"13379",fill:"#FFCC00"})],-1),jo=[ko],So={class:"flex-column flex align-items-center"},Co={class:"justify-content-start align-items-start fw-bolder opacity-50",style:{"margin-top":"-20px","font-size":"60px",color:"#CD950C","font-family":'Georgia, "Times New Roman", Times, serif'}},Io={class:"fs-c10"},Ne={props:["title","count","index"],setup(l){let a=z(),t=w().params.team,i=()=>{a.push({name:"Workbench",params:{team:t,type:"dashboard"}})};return(n,r)=>(d(),p("div",{class:"flex-column flex flex-fill pt-3 pb-4 jiBox pointer",onClick:r[0]||(r[0]=(...c)=>s(i)&&s(i)(...c))},[l.index===1?(d(),p("div",xo,go)):l.index===2?(d(),p("div",yo,$o)):l.index===3?(d(),p("div",wo,jo)):S("",!0),e("div",So,[e("div",Co,y(l.count),1),e("div",Io,y(l.title),1)])]))}},To={style:{height:"175px"},class:"flex-column flex pt-3 px-3 jiBox grid-box"},zo={style:{flex:"0 0 auto",color:"#333333"},class:"flex-row flex align-items-center"},Mo={style:{flex:"1","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","font-size":"15px"}},Do={key:0,style:{flex:"0 0 auto",color:"#909090","font-size":"14px"}},Lo={key:1,style:{flex:"0 0 auto",color:"#909090","font-size":"14px"}},Bo={class:"chart-container flex flex-fill",style:{position:"relative",width:"100%",height:"100%",overflow:"hidden"}},Po=["id"],Vo={props:["project"],emits:["loadProjectList"],setup(l,{emit:a}){const o=l;let{proxy:t}=T(),i=z(),n=w(),r=k({team:n.params.team,chart:"",label:!0});je(()=>{r.chart="projectChart"+o.project.uuid}),C(()=>{let m={labels:["\u672A\u5F00\u59CB","\u8FDB\u884C\u4E2D","\u5DF2\u5B8C\u6210"],datasets:[{data:[o.project.to_do_count,o.project.in_progress_count,o.project.done_count],backgroundColor:["rgba(255, 99, 132, 0.4)","rgba(54, 162, 235, 0.4)","rgba(255, 206, 86, 0.4)"],hoverOffset:4}]};o.project.to_do_count+o.project.in_progress_count+o.project.done_count===0&&(r.label=!1,m={labels:["\u65E0\u4EFB\u52A1"],datasets:[{data:[1],backgroundColor:["rgba(0, 0, 0, 0.1)"],hoverOffset:4}]});let h={type:"pie",data:m,options:{responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!0,position:"right"}}}};new Chart(document.getElementById(r.chart),h)});let c=()=>{i.push({name:"Project",params:{team:r.team,project:o.project.uuid}})},u=m=>{m.stopPropagation(),t.post(t.urls.project_pin.format(r.team,o.project.uuid)).then(function(h){h.data.code===200&&a("loadProjectList")}).catch(function(h){t.bus.$emit("alertDanger",h.response.data.errcode)})},_=m=>{m.stopPropagation(),t.post(t.urls.project_unpin.format(r.team,o.project.uuid)).then(function(h){h.data.code===200&&a("loadProjectList")}).catch(function(h){t.bus.$emit("alertDanger",h.response.data.errcode)})};return(m,h)=>(d(),p("div",To,[e("div",null,[e("div",zo,[e("div",Mo,y(l.project.name),1),e("div",{style:{flex:"0 0 auto","align-content":"end"},class:L([{pined:l.project.is_pin},"pin-star"])},[l.project.is_pin?(d(),p("i",{key:0,onClick:h[0]||(h[0]=(...x)=>s(_)&&s(_)(...x)),class:"bi bi-star-fill"})):(d(),p("i",{key:1,class:"bi bi-star",onClick:h[1]||(h[1]=(...x)=>s(u)&&s(u)(...x))}))],2)]),s(r).label?(d(),p("div",Do,"\u66F4\u65B0\u4E8E"+y(m.filters.timeFormat(l.project.task_update_time/1e3)),1)):(d(),p("div",Lo,"\u6682\u65E0\u4EFB\u52A1"))]),e("div",{onClick:h[2]||(h[2]=(...x)=>s(c)&&s(c)(...x)),class:"flex-row flex flex-fill align-items-center justify-content-center pointer py-2",style:{height:"0"}},[e("div",Bo,[e("canvas",{id:s(r).chart},null,8,Po)])])]))}},Uo={style:{height:"175px"},class:"flex-column flex p-3 jiBox grid-box"},Ho={style:{flex:"0 0 auto"}},Fo={style:{flex:"0 0 auto",color:"#333333"},class:"flex-row flex align-items-center"},Eo={style:{flex:"1","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","font-size":"15px"}},No={style:{flex:"0 0 auto",color:"#909090","font-size":"14px"}},qo={style:{flex:"1","font-size":"70px","font-weight":"bolder",color:"#800000",opacity:"0.4","font-family":"Georgia, 'Times New Roman', Times, serif"},class:"flex-row flex align-items-center justify-content-center"},Tt={props:{space:Object},emits:["loadSpaceList"],setup(l,{emit:a}){const o=l;let{proxy:t}=T(),i=z(),n=w(),r="";je(()=>{r=n.params.team});let c=()=>{i.push({name:"Space",params:{team:r,space:o.space.uuid}})},u=m=>{m.stopPropagation(),t.post(t.urls.space_pin.format(r,o.space.uuid)).then(function(h){h.data.code===200&&a("loadSpaceList")}).catch(function(h){t.bus.emit("alertDanger",h.response.data.errcode)})},_=m=>{m.stopPropagation(),t.post(t.urls.space_unpin.format(r,o.space.uuid)).then(function(h){h.data.code===200&&a("loadSpaceList")}).catch(function(h){t.bus.$emit("alertDanger",h.response.data.errcode)})};return(m,h)=>(d(),p("div",Uo,[e("div",Ho,[e("div",Fo,[e("div",Eo,y(l.space.title),1),e("div",{style:{flex:"0 0 auto","align-content":"end"},class:L([{pined:l.space.is_pin},"pin-star"])},[l.space.is_pin?(d(),p("i",{key:0,onClick:h[0]||(h[0]=(...x)=>s(_)&&s(_)(...x)),class:"bi bi-star-fill"})):(d(),p("i",{key:1,class:"bi bi-star",onClick:h[1]||(h[1]=(...x)=>s(u)&&s(u)(...x))}))],2)]),e("div",No,"\u66F4\u65B0\u4E8E "+y(m.filters.timeFormat(l.space.updated_time)),1)]),e("div",{onClick:h[2]||(h[2]=(...x)=>s(c)&&s(c)(...x)),style:{flex:"1",cursor:"pointer"},class:"flex-row flex align-items-center justify-content-center"},[e("div",qo,y(l.space.page_count),1)])]))}},Ao={class:"flex-row flex justify-content-between owl-h"},Ro={style:{margin:"20px 0 0 0"}},Oo={class:"flex-row flex b-line",style:{padding:"0 20px 5px 0"}},Go=e("div",{style:{flex:"1","font-size":"18px"}},"\u9879\u76EE / \u6700\u8FD1\u66F4\u65B0",-1),Wo={class:"flex-row flex wb-setting outline-none"},Ko=e("div",{style:{flex:"0 0 auto",color:"inherit"},class:"flex-row flex align-items-center"},[e("i",{class:"bi bi-gear"})],-1),Jo={style:{flex:"1","flex-direction":"row",position:"relative"},class:"flex-row flex flex-wrap pt-4 d-grid grid-task"},Yo={style:{margin:"20px 0 0 0"}},Qo={class:"flex-row flex b-line",style:{padding:"0 20px 5px 0"}},Zo=e("div",{style:{flex:"1","font-size":"18px"}},"\u6587\u6863 / \u6700\u8FD1\u66F4\u65B0",-1),Xo={class:"flex-row flex wb-setting outline-none"},ei=e("div",{style:{flex:"0 0 auto",color:"inherit"},class:"flex-row flex align-items-center"},[e("i",{class:"bi bi-gear"})],-1),ti={style:{flex:"1","flex-direction":"row",position:"relative"},class:"flex-row flex flex-wrap pt-4 d-grid grid-task"},si={class:"modal fade",id:"settingSize","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ai={class:"modal-dialog modal-sm"},li={class:"modal-content"},oi={class:"modal-body"},ii={class:"flex-column my-3"},ni=e("label",{class:"col-md-12 control-label"},"\u6700\u591A\u663E\u793A\u4E2A\u6570",-1),ri={class:"col-md-12 mt-2"},di={class:"modal-footer"},ci=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1),nt={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,projects:[],spaces:[],loaded:!1,project_size:"10",space_size:"10",size:"10",setting_key:"",assign:0,owner:0,watcher:0}),i=null;C(()=>{n(),r(),i=new bootstrap.Modal(document.getElementById("settingSize"),{keyboard:!1})});let n=()=>{let g=a.urls.team_global_setting.format(t.team),b=["workbench_project_size","workbench_space_size"];a.post(g,b).then(function(v){v.data&&Object.keys(v.data).forEach(function(j){switch(j){case"workbench_project_size":t.project_size=v.data[j].setting_value;break;case"workbench_space_size":t.space_size=v.data[j].setting_value;break}}),c(),u()})},r=()=>{a.post(a.urls.task_stat_by_team.format(t.team)).then(function(g){g.data&&g.data.assign&&(t.assign=g.data.assign,t.owner=g.data.owner,t.watcher=g.data.watcher)})},c=()=>{let g={size:t.project_size},b=a.urls.team_recent_projects.format(t.team);a.post(b,g).then(function(v){t.projects=[],v.data.forEach(function(j){t.projects.push(j)})})},u=()=>{let g={size:t.space_size},b=a.urls.team_recent_spaces.format(t.team);a.post(b,g).then(function(v){t.spaces=[],v.data.spaces.forEach(function(j){t.spaces.push(j)})})},_=()=>{t.size=t.project_size,t.setting_key="workbench_project_size"},m=()=>{t.size=t.space_size,t.setting_key="workbench_space_size"},h=()=>{},x=()=>{let g={setting_key:t.setting_key,setting_value:t.size};a.post(a.urls.team_global_setting_update.format(t.team),g).then(function(b){b.data.code===200&&(i.hide(),n())}).catch(function(b){a.bus.emit("alertDanger",b.response.data.errcode)})};return(g,b)=>(d(),p($,null,[e("div",Ao,[f(Ne,{title:"\u6307\u6D3E\u7ED9\u6211\u7684\u4EFB\u52A1",count:s(t).assign,index:1},null,8,["count"]),f(Ne,{title:"\u6211\u521B\u5EFA\u7684\u4EFB\u52A1",count:s(t).owner,index:2},null,8,["count"]),f(Ne,{title:"\u6211\u5173\u6CE8\u7684\u4EFB\u52A1",count:s(t).watcher,index:3},null,8,["count"])]),e("div",Ro,[e("div",Oo,[Go,e("div",Wo,[Ko,e("div",{style:{"margin-left":"5px","font-size":"15px",color:"inherit"},class:"flex-row flex align-items-center pointer",onClick:b[0]||(b[0]=(...v)=>s(_)&&s(_)(...v)),"data-bs-toggle":"modal","data-bs-target":"#settingSize"}," \u663E\u793A\u8BBE\u7F6E ")])]),e("div",Jo,[(d(!0),p($,null,M(s(t).projects,v=>(d(),A(Vo,{project:v,key:v.uuid,onLoadProjectList:s(c)},null,8,["project","onLoadProjectList"]))),128))])]),e("div",Yo,[e("div",Qo,[Zo,e("div",Xo,[ei,e("div",{style:{"margin-left":"5px","font-size":"15px",color:"inherit"},class:"flex-row flex align-items-center pointer",onClick:b[1]||(b[1]=(...v)=>s(m)&&s(m)(...v)),"data-bs-toggle":"modal","data-bs-target":"#settingSize"}," \u663E\u793A\u8BBE\u7F6E ")])]),e("div",ti,[(d(!0),p($,null,M(s(t).spaces,v=>(d(),A(Tt,{key:v.uuid,space:v,onLoadSpaceList:s(u)},null,8,["space","onLoadSpaceList"]))),128))])]),e("div",si,[e("div",ai,[e("div",li,[e("div",oi,[e("form",{ref:"form",onSubmit:b[3]||(b[3]=ve((...v)=>s(h)&&s(h)(...v),["stop","prevent"]))},[e("div",ii,[ni,e("div",ri,[N(e("input",{type:"text","onUpdate:modelValue":b[2]||(b[2]=v=>s(t).size=v),name:"name",class:"form-control"},null,512),[[O,s(t).size]])])])],544)]),e("div",di,[ci,e("button",{type:"button",class:"btn btn-primary",onClick:b[4]||(b[4]=(...v)=>s(x)&&s(x)(...v))},"\u786E\u5B9A")])])])])],64))}};const ui={props:{bgColor:String,color:String,name:String},setup(l){return(a,o)=>(d(),p("div",{class:"status",style:ke("background-color: "+l.bgColor+";color:"+l.color+";")},y(l.name),5))}};var Ue=D(ui,[["__scopeId","data-v-492642d4"]]);const pi={style:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center"}},he={props:{name:String,color:String},setup(l){const a=l,o=Y(()=>{let i=a.name;switch(a.name){case"1":case"to_do":i="\u672A\u5F00\u59CB";break;case"2":case"in_progress":i="\u672A\u5F00\u59CB";break;case"3":case"done":i="\u5DF2\u5B8C\u6210";break}return i}),t=Y(()=>{let i=a.color;switch(a.color){case"1":i="to_do";break;case"2":i="in_progress";break;case"3":i="done";break}return i});return(i,n)=>(d(),p("div",pi,[e("div",{class:L(["status",s(t)])},y(s(o)),3)]))}},_i={class:"flex-row flex align-items-center"},mi={style:{flex:"0 0 auto",display:"flex","align-items":"center"}},fi=["src","title"],hi={key:0,style:{flex:"0 0 auto",display:"flex","align-items":"center","margin-left":"5px"}},Be={props:{user:Object,includeName:{default:!0}},setup(l){return(a,o)=>(d(),p("div",_i,[e("div",mi,[e("img",{style:{height:"20px"},src:l.user.avatar,title:l.user.name,class:"rounded-circle"},null,8,fi)]),l.includeName?(d(),p("div",hi,y(l.user.name),1)):S("",!0)]))}},xi={style:{flex:"1",overflow:"hidden","max-width":"360px"},class:"flex-row flex"},vi={class:"flex-column flex",style:{border:"1px solid #eef2f7","border-radius":"3px",flex:"1",overflow:"hidden"}},gi={style:{flex:"0 0 auto",padding:"15px 20px","font-weight":"700","background-color":"#f1f3fa","border-radius":"3px 3px 0 0"}},yi={style:{flex:"1","overflow-y":"auto"},class:"flex-column flex"},bi={id:"task-list",style:{padding:"0 15px 15px 15px","background-color":"#fafbfe",height:"0"},class:"flex-column flex"},$i=["title"],wi={class:"flex-row flex"},ki={style:{flex:"0 0 auto"}},ji={style:{flex:"1"},class:"flex-row flex"},Si=e("div",{style:{flex:"1"}}," \xA0 ",-1),Ci={style:{flex:"0 0 auto"}},Ii={style:{color:"#98a6ad","font-size":"12px"}},Ti={style:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap","font-weight":"600",margin:"15px 0",cursor:"pointer","max-width":"288px"}},zi={class:"flex-row flex"},Mi=e("div",{style:{flex:"0 0 30px"}},[e("i",{class:"bi bi-diagram-3-fill"})],-1),Di={style:{flex:"1"}},Li={class:"flex-row flex",style:{"margin-top":"15px"}},Bi={style:{flex:"1"}},Pi={style:{flex:"0 0 auto"}},De={props:{title:String,tasks:Array,count:Number},setup(l){let o=w().params.team;return(t,i)=>{const n=R("router-link");return d(),p("div",xi,[e("div",vi,[e("div",gi,y(l.title)+" ("+y(l.count)+")",1),e("div",yi,[e("div",bi,[(d(!0),p($,null,M(l.tasks,r=>(d(),p("div",{key:r.uuid,class:"task-item",style:{flex:"0 0 auto"}},[e("div",{title:r.summary,style:{border:"none","background-color":"#ffffff",flex:"1",padding:"20px","margin-top":"15px","border-radius":"5px","box-shadow":"0 0 35px 0 rgba(154,161,171, 0.15)"}},[e("div",wi,[e("div",ki,[f(Ue,{color:r.priority.color,name:r.priority.value,bgColor:r.priority.background_color},null,8,["color","name","bgColor"])]),e("div",ji,[Si,e("div",Ci,[e("div",Ii,y(t.filters.formatDay(r.create_time)),1)])])]),e("div",Ti,y(r.summary),1),e("div",zi,[Mi,e("div",Di,[f(n,{to:{name:"Project",params:{team:s(o),project:r.project.uuid}}},{default:P(()=>[V(y(r.project.name),1)]),_:2},1032,["to"])])]),e("div",Li,[e("div",Bi,[f(Be,{user:r.owner},null,8,["user"])]),e("div",Pi,[f(he,{name:r.task_status.name,color:r.task_status.category.toString()},null,8,["name","color"])])])],8,$i)]))),128))])])])])}}},Vi={class:"flex-column flex flex-fill h-100"},Ui=e("div",{class:"flex-row flex"},[e("div",{class:"flex-row flex-fill align-items-center"},[e("div",{class:"fs-c12"},"\u4EEA\u8868\u76D8")])],-1),Hi={class:"flex-row flex justify-content-between",style:{padding:"20px 0 0 0",flex:"1"}},Fi={setup(l){const{proxy:a}=T();let o=w(),t=k({tasks_assign:[],tasks_owner:[],tasks_watcher:[],tasks_done:[]});return C(()=>{let i=o.params.team;a.post(a.urls.task_list_by_assign.format(i)).then(function(n){if(n.data&&n.data.length>0)for(let r=0;r<n.data.length;r++)if(n.data[r].category===3){let c=!0;for(let u=0;u<t.tasks_done.length;u++)if(t.tasks_done[u].uuid===n.data[r].uuid){c=!1;break}c&&t.tasks_done.push(n.data[r])}else t.tasks_assign.push(n.data[r])}),a.post(a.urls.task_list_by_owner.format(i)).then(function(n){if(n.data&&n.data.length>0)for(let r=0;r<n.data.length;r++)if(n.data[r].category===3){let c=!0;for(let u=0;u<t.tasks_done.length;u++)if(t.tasks_done[u].uuid===n.data[r].uuid){c=!1;break}c&&t.tasks_done.push(n.data[r])}else t.tasks_owner.push(n.data[r])}),a.post(a.urls.task_list_by_watcher.format(i)).then(function(n){if(n.data&&n.data.length>0)for(let r=0;r<n.data.length;r++)if(n.data[r].category===3){let c=!0;for(let u=0;u<t.tasks_done.length;u++)if(t.tasks_done[u].uuid===n.data[r].uuid){c=!1;break}c&&t.tasks_done.push(n.data[r])}else t.tasks_watcher.push(n.data[r])})}),(i,n)=>(d(),p("div",Vi,[Ui,e("div",Hi,[f(De,{tasks:s(t).tasks_assign,count:s(t).tasks_assign.length,title:"\u6211\u8D1F\u8D23\u7684\u5DE5\u4F5C\u9879"},null,8,["tasks","count"]),f(De,{tasks:s(t).tasks_owner,count:s(t).tasks_owner.length,title:"\u6211\u63D0\u4EA4\u7684\u5DE5\u4F5C\u9879"},null,8,["tasks","count"]),f(De,{tasks:s(t).tasks_watcher,count:s(t).tasks_watcher.length,title:"\u6211\u5173\u6CE8\u7684\u5DE5\u4F5C\u9879"},null,8,["tasks","count"]),f(De,{tasks:s(t).tasks_done,count:s(t).tasks_done.length,title:"\u5B8C\u6210\u7684\u5DE5\u4F5C\u9879"},null,8,["tasks","count"])])]))}},Ei={class:"flex-fill p-4 overflow-auto"},Ni={setup(l){let a=w(),o=W("overview");C(()=>{o.value=a.params.type}),K(()=>a.params,i=>{o.value=i.type});let t=Y(()=>{let i=nt;switch(o.value){case"overview":i=nt;break;case"dashboard":i=Fi;break}return i});return(i,n)=>(d(),p("div",Ei,[(d(),A(ce(s(t))))]))}};const qi=l=>(H("data-v-4827498b"),l=l(),F(),l),Ai={class:"search"},Ri=qi(()=>e("div",{class:"flex-column flex",style:{position:"absolute","margin-left":"10px",height:"100%"}},[e("div",{style:{flex:"1",display:"flex","align-items":"center","justify-content":"center"}},[e("i",{class:"bi bi-search"})])],-1)),Oi=["placeholder"],Gi={props:{placeholder:String},emits:["search"],setup(l,{emit:a}){let o=W(""),t=()=>{a("search",o.value)};return(i,n)=>(d(),p("div",Ai,[Ri,N(e("input",{class:"form-control ps-c7","onUpdate:modelValue":n[0]||(n[0]=r=>le(o)?o.value=r:o=r),onBlur:n[1]||(n[1]=(...r)=>s(t)&&s(t)(...r)),placeholder:l.placeholder},null,40,Oi),[[O,s(o)]])]))}};var Q=D(Gi,[["__scopeId","data-v-4827498b"]]);const zt=l=>(H("data-v-17cc4444"),l=l(),F(),l),Wi={style:{flex:"0 0 auto"},class:"flex-row flex align-items-center"},Ki=["src"],Ji={style:{flex:"0 0 auto","margin-left":"5px"},class:"flex-row flex align-items-center"},Yi={key:0,style:{flex:"0 0 auto",display:"flex","align-items":"center","margin-left":"5px","font-size":"12px"}},Qi={key:1,style:{flex:"1"},class:"flex-row flex align-items-center"},Zi=zt(()=>e("div",{style:{flex:"1","min-width":"50px"}},null,-1)),Xi=zt(()=>e("div",{style:{flex:"0 0 auto",display:"flex","align-items":"center","text-align":"right"}},[e("i",{class:"bi bi-check"})],-1)),en=[Zi,Xi],tn={props:{user:Object,hasEmail:{default:!1},selected:{default:!1}},emits:["submit"],setup(l,{emit:a}){const o=l,t=()=>{a("submit",o.user.uuid)};return(i,n)=>(d(),p("div",{class:L(["flex-row flex user align-items-center",{selected:l.selected}]),onClick:t},[e("div",Wi,[e("img",{style:{height:"16px"},src:l.user.avatar,class:"rounded-circle"},null,8,Ki)]),e("div",Ji,y(l.user.name),1),l.hasEmail?(d(),p("div",Yi," ("+y(l.user.email)+") ",1)):S("",!0),l.selected?(d(),p("div",Qi,en)):S("",!0)],2))}};var ye=D(tn,[["__scopeId","data-v-17cc4444"]]);const Ke=l=>(H("data-v-f534fd8c"),l=l(),F(),l),sn={class:"flex-column flex flex-fill h-100 overflow-auto"},an={class:"m-4 flex-fill jiBox"},ln={class:"b-line mt-3 flex-row flex"},on={class:"flex-row flex tab-title ps-4"},nn=["onClick"],rn=Ke(()=>e("div",{style:{flex:"1"}},"\xA0",-1)),dn={class:"flex-row flex mt-3 px-3"},cn={style:{flex:"0 0 auto","flex-direction":"row","text-align":"left"}},un=Ke(()=>e("div",{style:{flex:"1",display:"inline-block"}},null,-1)),pn={style:{flex:"0 0 auto","flex-direction":"column","align-items":"center",display:"flex"}},_n={style:{width:"100%","text-align":"right",flex:"1","align-items":"center",display:"flex"}},mn={style:{flex:"1",display:"inline-block"}},fn={class:"mt-3 px-3"},hn={class:"table table-hover"},xn=Ke(()=>e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-2"},"\u9879\u76EE\u540D\u79F0"),e("th",{scope:"col",class:"col-1"},"\u9879\u76EE\u72B6\u6001"),e("th",{scope:"col",class:"col-1"},"\u9879\u76EE\u8D1F\u8D23\u4EBA"),e("th",{scope:"col",class:"col-2"},"\u5DE5\u4F5C\u9879\u76EE\u5B8C\u6210\u5EA6"),e("th",{scope:"col",class:"col-1"},"\u8FDB\u884C\u4E2D\u5DE5\u4F5C\u9879"),e("th",{scope:"col",class:"col-1"},"\u5B8C\u6210\u5DE5\u4F5C\u9879"),e("th",{scope:"col",class:"col-1"},"\u5DE5\u4F5C\u9879\u6570\u91CF"),e("th",{scope:"col",class:"col-1"},"\u8BA1\u5212\u5F00\u59CB\u65F6\u95F4"),e("th",{scope:"col",class:"col-1"},"\u8BA1\u5212\u5B8C\u6210\u65F6\u95F4")])],-1)),vn={key:0},gn={class:"progress"},yn={setup(l){const{proxy:a}=T();let o=z(),t=w(),i=k({team:t.params.team,cur:0,tabTitle:["\u5168\u90E8\u9879\u76EE","\u672A\u5F00\u59CB","\u8FDB\u884C\u4E2D","\u5DF2\u5B8C\u6210"],items:[],tasks_completed:!1,name:""});C(()=>{n()});let n=()=>{let _=a.urls.team_project_list.format(i.team),h={categories:i.cur===0?[]:[i.cur],name:i.name};a.post(_,h).then(function(x){i.items=x.data,i.tasks_completed=!0})},r=()=>{o.push({name:"AddProject",params:{team:i.team}})},c=_=>{i.name=_,n()},u=_=>{i.cur=_,n()};return(_,m)=>{const h=R("router-link");return d(),p("div",sn,[e("div",an,[e("div",ln,[e("div",on,[(d(!0),p($,null,M(s(i).tabTitle,(x,g)=>(d(),p("div",{class:L(["justify-content-between align-items-center pointer px-3 pb-2",{active:s(i).cur===g}]),onClick:b=>s(u)(g),key:g},y(x),11,nn))),128))]),rn]),e("div",dn,[e("div",cn,[f(se,{title:"\u65B0\u589E\u9879\u76EE",plus:!0,onSubmit:s(r)},null,8,["onSubmit"])]),un,e("div",pn,[e("div",_n,[e("div",mn,[f(Q,{onSearch:s(c),placeholder:"\u9879\u76EE\u540D\u79F0"},null,8,["onSearch"])])])])]),e("div",fn,[e("table",hn,[xn,s(i).tasks_completed?(d(),p("tbody",vn,[(d(!0),p($,null,M(s(i).items,x=>(d(),p("tr",null,[e("td",null,[f(h,{to:{name:"Project",params:{team:s(i).team,project:x.uuid}}},{default:P(()=>[V(y(x.name),1)]),_:2},1032,["to"])]),e("td",null,[f(he,{name:x.status_category,color:x.status_uuid},null,8,["name","color"])]),e("td",null,[f(ye,{user:x.assign},null,8,["user"])]),e("td",null,[e("div",gn,[e("div",{class:"progress-bar progress-bar-striped bg-success",role:"progressbar",style:ke("width:"+(x.done_count*100/(x.to_do_count+x.in_progress_count+x.done_count)).toFixed(0)+"%"),"aria-valuemax":"100"},null,4)])]),e("td",null,y(x.in_progress_count),1),e("td",null,y(x.done_count),1),e("td",null,y(x.to_do_count+x.in_progress_count+x.done_count),1),e("td",null,y(_.filters.formatDay(x.plan_start_time)),1),e("td",null,y(_.filters.formatDay(x.plan_end_time)),1)]))),256))])):S("",!0)])])])])}}};var bn=D(yn,[["__scopeId","data-v-f534fd8c"]]);const Je=l=>(H("data-v-3480a539"),l=l(),F(),l),$n={id:"project-setting-menu",class:"pt-4"},wn=Je(()=>e("div",{style:{flex:"0",padding:"5px 0 5px 30px",width:"100%","font-size":"18px","margin-bottom":"20px"}},"\u914D\u7F6E\u4E2D\u5FC3",-1)),kn=Je(()=>e("div",{style:{flex:"0",padding:"5px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u9879\u76EE",-1)),jn=V("\u9879\u76EE\u7BA1\u7406"),Sn=V("\u9879\u76EE\u5C5E\u6027"),Cn=V("\u9879\u76EE\u72B6\u6001"),In=V("\u6743\u9650\u914D\u7F6E"),Tn=Je(()=>e("div",{style:{flex:"0",padding:"20px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u5DE5\u4F5C\u9879",-1)),zn=V("\u5DE5\u4F5C\u9879\u7C7B\u578B"),Mn=V("\u5DE5\u4F5C\u9879\u5C5E\u6027"),Dn=V("\u5DE5\u4F5C\u9879\u72B6\u6001"),Ln=V("\u4F18\u5148\u7EA7"),Bn={props:{tagIndex:Number},setup(l){let o=w().params.team;return(t,i)=>{const n=R("router-link");return d(),p("div",$n,[wn,kn,e("div",{class:L({active:l.tagIndex===1})},[f(n,{to:{name:"ProjectSettingManager",params:{team:s(o)}}},{default:P(()=>[jn]),_:1},8,["to"])],2),e("div",{class:L({active:l.tagIndex===2})},[f(n,{to:{name:"ProjectSettingField",params:{team:s(o)}}},{default:P(()=>[Sn]),_:1},8,["to"])],2),e("div",{class:L({active:l.tagIndex===3})},[f(n,{to:{name:"ProjectSettingStatus",params:{team:s(o)}}},{default:P(()=>[Cn]),_:1},8,["to"])],2),e("div",{class:L({active:l.tagIndex===4})},[f(n,{to:{name:"ProjectSettingPermission",params:{team:s(o)}}},{default:P(()=>[In]),_:1},8,["to"])],2),Tn,e("div",{class:L({active:l.tagIndex===11})},[f(n,{to:{name:"IssueTypeSettingManager",params:{team:s(o)}}},{default:P(()=>[zn]),_:1},8,["to"])],2),e("div",{class:L({active:l.tagIndex===12})},[f(n,{to:{name:"IssueTypeSettingField",params:{team:s(o)}}},{default:P(()=>[Mn]),_:1},8,["to"])],2),e("div",{class:L({active:l.tagIndex===13})},[f(n,{to:{name:"IssueTypeSettingStatus",params:{team:s(o)}}},{default:P(()=>[Dn]),_:1},8,["to"])],2),e("div",{class:L({active:l.tagIndex===14})},[f(n,{to:{name:"IssueTypeSettingPriority",params:{team:s(o)}}},{default:P(()=>[Ln]),_:1},8,["to"])],2)])}}};var Pn=D(Bn,[["__scopeId","data-v-3480a539"]]);const Vn={class:"flex-row flex flex-fill",style:{height:"0"}},Un={class:"flex-column flex flex-fill py-4 pe-4 overflow-auto"},Hn={class:"jiBox flex-fill"},rt={setup(l){let a=w(),o=k({tagIndex:1});C(()=>{let i=a.name;t("{0}".format(i))}),K(()=>a.params,i=>{let n=a.name;t("{0}".format(n))});let t=i=>{switch(i){case"ProjectSettingManager":o.tagIndex=1;break;case"ProjectSettingField":o.tagIndex=2;break;case"ProjectSettingStatus":o.tagIndex=3;break;case"ProjectSettingPermission":o.tagIndex=4;break;case"IssueTypeSetting":case"IssueTypeSettingManager":o.tagIndex=11;break;case"IssueTypeSettingField":o.tagIndex=12;break;case"IssueTypeSettingStatus":o.tagIndex=13;break;case"IssueTypeSettingPriority":o.tagIndex=14;break}};return(i,n)=>{const r=R("router-view");return d(),p("div",Vn,[f(Pn,{tagIndex:s(o).tagIndex,onTag_switch:s(t)},null,8,["tagIndex","onTag_switch"]),e("div",Un,[e("div",Hn,[f(r)])])])}}},Fn={class:"modal fade",id:"addSpace","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},En={class:"modal-dialog modal-lg modal-dialog-scrollable"},Nn={class:"modal-content"},qn=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},"\u65B0\u5EFA\u9875\u9762\u7EC4"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),An={class:"modal-body"},Rn={style:{"margin-top":"6px"}},On={class:"flex-column my-3"},Gn=e("label",{class:"col-md-12 control-label"},"\u9875\u9762\u7EC4\u540D\u79F0",-1),Wn={class:"col-md-12 mt-2"},Kn={class:"flex-column my-3"},Jn=e("label",{class:"col-md-12 control-label"},"\u9875\u9762\u7EC4\u63CF\u8FF0",-1),Yn={class:"col-md-12 mt-2"},Qn={class:"modal-footer"},Zn=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1),Xn={emits:["loadSpaces"],setup(l,{emit:a}){const{proxy:o}=T();z();let t=w(),i=k({team:t.params.team,title:"",description:"",titleState:null}),n=null;C(()=>{n=new bootstrap.Modal(document.getElementById("addSpace"),{keyboard:!1})});let r=()=>{let c={title:i.title,description:i.description};o.post(o.urls.space_add.format(i.team),c).then(function(u){u.data.code===200&&(n.hide(),a("loadSpaces"))}).catch(function(u){o.bus.emit("alertDanger",u.response.data.errcode)})};return(c,u)=>(d(),p("div",Fn,[e("div",En,[e("div",Nn,[qn,e("div",An,[e("form",{ref:"form",onSubmit:u[2]||(u[2]=ve((..._)=>s(r)&&s(r)(..._),["stop","prevent"]))},[e("div",Rn,[e("div",On,[Gn,e("div",Wn,[N(e("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=_=>s(i).title=_),name:"title",class:"form-control",required:""},null,512),[[O,s(i).title]])])]),e("div",Kn,[Jn,e("div",Yn,[N(e("textarea",{"onUpdate:modelValue":u[1]||(u[1]=_=>s(i).description=_),name:"description",class:"form-control",rows:"3"},null,512),[[O,s(i).description]])])])])],544)]),e("div",Qn,[Zn,e("button",{type:"button",class:"btn btn-primary",onClick:u[3]||(u[3]=(..._)=>s(r)&&s(r)(..._))},"\u786E\u5B9A")])])])]))}},er={class:"flex-column flex flex-fill pt-3 px-4 overflow-auto"},tr={class:"flex-row flex header-container-inner"},sr={style:{flex:"0 0 auto"}},ar={class:"flex-row flex flex-wrap pt-3 d-grid grid-task"},lr={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,spaces:[]});C(()=>{i()});let i=()=>{a.get(a.urls.my_spaces.format(t.team)).then(function(n){t.spaces=n.data.spaces})};return(n,r)=>(d(),p("div",er,[e("div",tr,[e("div",sr,[f(se,{title:"\u65B0\u5EFA\u9875\u9762\u7EC4",plus:!0,"data-bs-toggle":"modal","data-bs-target":"#addSpace"})])]),e("div",ar,[(d(!0),p($,null,M(s(t).spaces,c=>(d(),A(Tt,{key:c.uuid,space:c,desc:"\u6700\u8FD1\u9875\u9762\u66F4\u65B0\u4E8E 8 \u5C0F\u65F6\u524D",onLoadSpaceList:s(i)},null,8,["space","onLoadSpaceList"]))),128))]),f(Xn,{onLoadSpaces:s(i)},null,8,["onLoadSpaces"])]))}};const Ye=l=>(H("data-v-5e701986"),l=l(),F(),l),or={id:"project-setting-menu",class:"pt-4"},ir=Ye(()=>e("div",{style:{flex:"0",padding:"5px 0 5px 30px",width:"100%","font-size":"18px","margin-bottom":"20px"}},"\u914D\u7F6E\u4E2D\u5FC3",-1)),nr=Ye(()=>e("div",{style:{flex:"0",padding:"5px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u9875\u9762\u7EC4",-1)),rr=V("\u9875\u9762\u7EC4\u7BA1\u7406"),dr=Ye(()=>e("div",{style:{flex:"0",padding:"20px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u6743\u9650",-1)),cr=V("\u6743\u9650\u914D\u7F6E"),ur={props:["tagIndex"],setup(l){const a=l;let o=w(),{tagIndex:t}=_t(a),i=k({team:o.params.team});return(n,r)=>{const c=R("router-link");return d(),p("div",or,[ir,nr,e("div",{class:L({active:s(t)===1})},[f(c,{to:{name:"WikiSetting",params:{team:s(i).team,type:"list"}}},{default:P(()=>[rr]),_:1},8,["to"])],2),dr,e("div",{class:L({active:s(t)===11})},[f(c,{to:{name:"WikiSetting",params:{team:s(i).team,type:"permission"}}},{default:P(()=>[cr]),_:1},8,["to"])],2)])}}};var pr=D(ur,[["__scopeId","data-v-5e701986"]]);const _r=["title"],mr=e("i",{class:"bi bi-question-octagon"},null,-1),fr=[mr],Se={props:{desc:String},setup(l){return(a,o)=>l.desc?(d(),p("div",{key:0,style:{flex:"0 0 auto","align-items":"center",cursor:"pointer"},title:l.desc,tabindex:"0"},fr,8,_r)):S("",!0)}},hr={class:"flex-row flex b-line align-items-center px-4 py-3 task-flex-auto"},xr={class:"flex-fill fs-c10",style:{"white-space":"nowrap"}},vr={class:"flex-row flex align-items-center justify-content-end"},Z={props:["title","desc"],setup(l){return(a,o)=>(d(),p("div",hr,[e("div",xr,y(l.title),1),e("div",vr,[f(Se,{desc:l.desc},null,8,["desc"])])]))}};const gr={class:"flex-fill h-100 jiBox"},yr={class:"flex-column flex px-4"},br={style:{flex:"1"}},$r={class:"page-title"},wr=ie('<div class="flex-row flex" style="margin-top:10px;" data-v-6047bf9d><div style="flex:0 0 auto;color:#909090;" data-v-6047bf9d><i class="bi bi-file-earmark-medical" data-v-6047bf9d></i> 15 </div><div style="flex:0 0 auto;color:#909090;margin-left:20px;" data-v-6047bf9d><i class="bi bi-clock" data-v-6047bf9d></i> 12 \u5929\u524D\u66F4\u65B0 </div></div>',1),kr={style:{flex:"0 0 auto"}},jr=["onClick"],Sr={style:{flex:"0 0 auto","margin-left":"20px"}},Cr=["active-class","onClick"],Ir={setup(l){const{proxy:a}=T();let o=z(),t=w(),i=k({team:t.params.team,style:"active",items:[],tasks_completed:!1});C(()=>{c()});let n=u=>{o.push({name:"Space",params:{team:i.team,space:u}})},r=u=>{o.push({name:"SpaceSettings",params:{team:i.team,space:u,type:"info"}})},c=()=>{a.get(a.urls.spaces.format(i.team)).then(function(u){i.items=u.data.spaces})};return(u,_)=>{const m=R("router-link");return d(),p("div",gr,[f(Z,{title:"\u9875\u9762\u7EC4\u7BA1\u7406",desc:"\u5BF9\u9875\u9762\u7EC4\u914D\u7F6E\u6743\u9650\uFF0C\u67E5\u770B\u9875\u9762\u7EC4"}),e("div",yr,[(d(!0),p($,null,M(s(i).items,h=>(d(),p("div",{class:"flex-row flex py-4 pages b-line",key:h.uuid},[e("div",br,[e("div",$r,[f(m,{to:{name:"Space",params:{team:s(i).team,space:h.uuid}}},{default:P(()=>[V(y(h.title),1)]),_:2},1032,["to"])]),wr]),e("div",kr,[e("button",{type:"button",class:"btn btn-outline-secondary",onClick:x=>{s(n)(h.uuid)}},"\u67E5\u770B\u9875\u9762\u7EC4",8,jr)]),e("div",Sr,[e("button",{type:"button",class:"btn btn-outline-secondary","active-class":s(i).style,onClick:x=>{s(r)(h.uuid)}},"\u914D\u7F6E\u9875\u9762\u7EC4\u6743\u9650",8,Cr)])]))),128))])])}}};var dt=D(Ir,[["__scopeId","data-v-6047bf9d"]]);const Qe=l=>(H("data-v-3da1c190"),l=l(),F(),l),Tr={class:"mt-4"},zr={style:{"font-size":"16px"}},Mr={style:{color:"#a0a0a0"}},Dr={class:"border",style:{"margin-top":"15px"}},Lr=Qe(()=>e("div",{class:"p-2 b-line bg-light"}," \u4EE5\u4E0B\u6210\u5458\u57DF\u62E5\u6709\u6B64\u64CD\u4F5C\u6743\u9650 ",-1)),Br={class:"flex-fill p-3"},Pr=["onClick"],Vr=Qe(()=>e("i",{class:"bi bi-x fs-c11"},null,-1)),Ur=[Vr],Hr={key:0,class:"flex-row flex justify-content-center align-items-center b-line"},Fr=Qe(()=>e("div",{class:"justify-content-center align-items-center p-3"},"\u6682\u672A\u6DFB\u52A0\u6210\u5458",-1)),Er=[Fr],Nr={class:"content"},qr={key:0,style:{color:"#a0a0a0"},class:"domain-group-header"},Ar={style:{"background-color":"#ffffff"}},Rr=["onClick"],Or={key:0,style:{"margin-left":"5px",color:"#a0a0a0","font-size":"12px"}},Gr={key:1,style:{"margin-left":"5px",color:"#a0a0a0","font-size":"12px"}},Wr={props:{title:String,desc:String,exist:Array,items:Array},emits:["add","del"],setup(l,{emit:a}){const{proxy:o}=T();let t=W(!1),i=W(!1),n=(m,h)=>{t.value=!1,a("add",m,h)},r=m=>{a("del",m)},c=m=>{if(t.value===!0)u();else{let h=document.documentElement.clientHeight,x=m.target.getBoundingClientRect().top,g=m.target.getBoundingClientRect().bottom;i.value=h-g<x&&h-g<272,t.value=!0,document.addEventListener("click",_,!1)}},u=()=>{t.value=!1,i.value=!1,document.removeEventListener("click",_,!1)},_=m=>{o.$refs.permBody&&o.$refs.permBody.contains(m.target)||u()};return(m,h)=>(d(),p("div",Tr,[e("div",zr,y(l.title),1),e("div",Mr,y(l.desc),1),e("div",Dr,[Lr,(d(!0),p($,null,M(l.exist,x=>(d(),p("div",{key:x.uuid,class:"flex-row flex align-items-center b-line"},[e("div",Br,y(x.name),1),x.read_only?S("",!0):(d(),p("div",{key:0,class:"td",style:{flex:"0 0 40px",cursor:"pointer"},onClick:g=>s(r)(x.permission)},Ur,8,Pr))]))),128)),!l.exist||l.exist.length===0?(d(),p("div",Hr,Er)):S("",!0),e("div",Nr,[e("div",{ref:"permBody",class:L(["select",{open:s(t)}])},[e("input",{class:"form-control",onClick:h[0]||(h[0]=(...x)=>s(c)&&s(c)(...x)),placeholder:"\u641C\u7D22\u89D2\u8272\u3001\u7528\u6237\u7EC4\u3001\u90E8\u95E8\u3001\u6210\u5458"}),e("div",{style:{position:"absolute"},ref:"layer",class:L(["group jiBox",{up:s(i)}])},[(d(!0),p($,null,M(l.items,x=>(d(),p("div",{key:x.uuid},[x.groups&&x.groups.length>0?(d(),p("div",qr,y(x.title),1)):S("",!0),e("div",Ar,[(d(!0),p($,null,M(x.groups,g=>(d(),p("div",{class:"domain-item",key:g.uuid,onClick:b=>s(n)(g.param,g.type)},[e("span",null,y(g.name),1),x.isMember?(d(),p("span",Or,"("+y(g.email)+")",1)):S("",!0),g.desc?(d(),p("span",Gr,"("+y(g.desc)+")",1)):S("",!0)],8,Rr))),128))])]))),128))],2)],2)])])]))}};var Kr=D(Wr,[["__scopeId","data-v-3da1c190"]]);const te={props:{group:Object,data:Object},emits:["loadPermissionData"],setup(l,{emit:a}){const o=l,{proxy:t}=T();z();let i=w(),n=k({visible:!1,everyone:{uuid:"s3",name:"\u6240\u6709\u6210\u5458",desc:"\u5F53\u524D\u56E2\u961F\u6240\u6709\u6210\u5458",type:"everyone",param:""},project_assign:{uuid:"s16",name:"\u9879\u76EE\u8D1F\u8D23\u4EBA",type:"project_assign",param:""},project_member:{uuid:"s18",name:"\u9879\u76EE\u6210\u5458",type:"project_member",param:""},team_owner:{uuid:"s10",name:"\u56E2\u961F\u8D1F\u8D23\u4EBA",type:"team_owner",param:""},template:{roles:{uuid:"role",title:"\u89D2\u8272",groups:[],exist:[]},members:{uuid:"member",title:"\u6210\u5458",groups:[],exist:[],isMember:!0}},exist:[],title:"",desc:"",permission:""});C(()=>{n.title=o.group.title,n.desc=o.group.desc,n.permission=o.group.permission});let r=(_,m)=>{n.team=i.params.team,o.data.permission_rule.permission=n.permission,o.data.permission_rule.user_domain_type=m,o.data.permission_rule.user_domain_param=_,t.post(t.urls.permission_rules_add.format(n.team),o.data).then(function(){a("loadPermissionData")})},c=_=>{n.team=i.params.team,t.get(t.urls.permission_rule_delete.format(n.team,_)).then(function(){a("loadPermissionData")})},u=Y(()=>{let _=[],m=[],h=[];n.exist=[];for(let I=0;I<o.group.groups.length;I++){let E=o.group.groups[I],X="",ae=!1;switch(E.type){case 1:X="single_user";for(let G=0;G<E.params.length;G++){let J=E.params[G];h.push(J.param);for(let ne=0;ne<o.group.members.length;ne++){let U=o.group.members[ne];if(U.uuid===J.param){let B={uuid:J.uuid,permission:J.uuid,name:U.name,type:X,read_only:J.read_only};n.exist.push(B);break}}}break;case 3:X="everyone";for(let G=0;G<E.params.length;G++){let J=E.params[G];n.everyone.permission=J.uuid,n.everyone.read_only=J.read_only,n.exist.push(n.everyone)}break;case 6:X="project_member";for(let G=0;G<E.params.length;G++){let J=E.params[G];n.project_member.permission=J.uuid,n.project_member.read_only=J.read_only,n.exist.push(n.project_member)}break;case 10:X="team_owner";for(let G=0;G<E.params.length;G++){let J=E.params[G];n.team_owner.permission=J.uuid,n.team_owner.read_only=J.read_only,n.exist.push(n.team_owner)}break;case 11:X="role";for(let G=0;G<E.params.length;G++){let J=E.params[G];for(let ne=0;ne<o.group.roles.length;ne++){let U=o.group.roles[ne];if(U.uuid===J.param){let B={name:U.name,name_pinyin:U.name_pinyin,uuid:U.uuid,permission:J.uuid,read_only:J.read_only};n.exist.push(B);break}}}break;case 16:X="project_assign";for(let G=0;G<E.params.length;G++){let J=E.params[G];n.project_assign.permission=J.uuid,n.project_assign.read_only=J.read_only,n.exist.push(n.project_assign)}break;default:ae=!0;break}ae||_.push(X)}let x=[];for(let I=0;I<o.group.in_roles.length;I++){let E=o.group.in_roles[I];x.push(n[E])}for(let I=0;I<o.group.roles.length;I++){let E=o.group.roles[I];E.param=E.uuid,x.push(E)}let g=[];for(let I=0;I<o.group.members.length;I++){let E=o.group.members[I];E.param=E.uuid,g.push(E)}let b=n.template,v=[];for(let I=0;I<x.length;I++){let E=x[I],X=!1;for(let ae=0;ae<_.length;ae++)if(E.type===_[ae]){X=!0;break}X||v.push(E)}b.roles.groups=v,m.push(b.roles);let j=[];for(let I=0;I<g.length;I++){let E=g[I],X=!1;for(let ae=0;ae<h.length;ae++)if(E.uuid===h[ae]){X=!0;break}X||j.push(E)}return b.members.groups=j,m.push(b.members),m});return(_,m)=>(d(),A(Kr,{exist:s(n).exist,items:s(u),title:s(n).title,desc:s(n).desc,onAdd:s(r),onDel:s(c)},null,8,["exist","items","title","desc","onAdd","onDel"]))}};const Jr={class:"flex-fill h-100 jiBox"},Yr={class:"px-4 pb-4"},Qr={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:"",project:"",maps:{manage:{code:2020,permission:"create_space",title:"\u65B0\u5EFA\u9875\u9762\u7EC4\u6743\u9650",desc:"\u5141\u8BB8\u7528\u6237\u65B0\u5EFA\u9875\u9762\u7EC4",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],loaded:!1,data:{}});C(()=>{t.team=o.params.team,t.data={permission_rule:{context_type:"wiki"}},i()});let i=()=>{let r=[];for(let c in t.maps)r.push(t.maps[c].code);a.post(a.urls.team_permission_rules.format(t.team),r).then(function(c){for(let u in t.maps){let _=t.maps[u];_.groups=[]}if(c.data&&c.data.length>0)for(let u in t.maps){let _=t.maps[u];for(let m=0;m<c.data.length;m++){let h=c.data[m];if(h.permission===_.code){_.groups=h.groups;break}}}n()})},n=()=>{a.get(a.urls.team_member_list.format(t.team)).then(function(r){if(r.data&&r.data&&r.data.length>0){let c=[];for(let u=0;u<r.data.length;u++){let _=r.data[u];_.type="single_user",c.push(_)}for(let u in t.maps){let _=t.maps[u];_.members=c}}t.loaded=!0})};return(r,c)=>(d(),p("div",Jr,[f(Z,{title:"\u6743\u9650\u914D\u7F6E",desc:"\u5141\u8BB8\u521B\u5EFA\u9875\u9762\u7EC4\u3002"}),e("div",Yr,[s(t).loaded?(d(),A(te,{key:0,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.manage,onLoadPermissionData:s(i)},null,8,["role_members","data","group","onLoadPermissionData"])):S("",!0)])]))}};var Zr=D(Qr,[["__scopeId","data-v-9413ad3c"]]);const Xr={class:"flex-fill flex-row flex",style:{height:"0"}},ed={class:"flex-column flex flex-fill py-4 pe-4 overflow-auto"},td={class:"jiBox flex-fill"},sd={setup(l){let a=w(),o=k({com:"list",tagIndex:1});C(()=>{o.com=a.params.type}),K(()=>a.params,i=>{o.com=a.params.type});let t=Y(()=>{let i=dt;switch(o.com){case"list":o.tagIndex=1,i=dt;break;case"permission":o.tagIndex=11,i=Zr;break}return i});return(i,n)=>(d(),p("div",Xr,[f(pr,{tagIndex:s(o).tagIndex},null,8,["tagIndex"]),e("div",ed,[e("div",td,[(d(),A(ce(s(t))))])])]))}};const He=l=>(H("data-v-45466dd8"),l=l(),F(),l),ad={id:"project-setting-menu",class:"pt-4"},ld=He(()=>e("div",{style:{flex:"0",padding:"5px 0 5px 30px",width:"100%","font-size":"18px","margin-bottom":"20px"}},"\u914D\u7F6E\u4E2D\u5FC3",-1)),od=He(()=>e("div",{style:{flex:"0",padding:"5px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u4FE1\u606F",-1)),id=V("\u56E2\u961F\u7BA1\u7406"),nd=He(()=>e("div",{style:{flex:"0",padding:"20px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u6210\u5458",-1)),rd=V("\u6210\u5458\u7BA1\u7406"),dd=He(()=>e("div",{style:{flex:"0",padding:"20px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u6743\u9650",-1)),cd=V("\u56E2\u961F\u6743\u9650"),ud={props:{tagIndex:Number},setup(l){let o=w().params.team;return(t,i)=>{const n=R("router-link");return d(),p("div",ad,[ld,od,e("div",{class:L({active:l.tagIndex===1})},[f(n,{to:{name:"TeamSetting",params:{team:s(o),type:"manager"}}},{default:P(()=>[id]),_:1},8,["to"])],2),nd,e("div",{class:L({active:l.tagIndex===11})},[f(n,{to:{name:"TeamSetting",params:{team:s(o),type:"member"}}},{default:P(()=>[rd]),_:1},8,["to"])],2),dd,e("div",{class:L({active:l.tagIndex===21})},[f(n,{to:{name:"TeamSetting",params:{team:s(o),type:"permission"}}},{default:P(()=>[cd]),_:1},8,["to"])],2)])}}};var pd=D(ud,[["__scopeId","data-v-45466dd8"]]);const _d={style:{"margin-left":"10px"}},md={class:"modal fade",id:"addTeam","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},fd={class:"modal-dialog modal-lg modal-dialog-scrollable"},hd={class:"modal-content"},xd=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},"\u65B0\u5EFA\u56E2\u961F"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),vd={class:"modal-body"},gd=e("div",{style:{height:"40px","margin-bottom":"10px","border-top":"1px solid #e8e8e8","border-bottom":"1px solid #e8e8e8","border-left":"3px solid #f0ad4e","border-right":"1px solid #e8e8e8"}},[e("div",{style:{flex:"1","align-items":"center",height:"100%",display:"flex","margin-left":"20px"}},[e("div",{style:{flex:"0 0 auto"}}," \u521B\u5EFA\u65B0\u7684\u56E2\u961F\uFF0C\u8FD8\u53EF\u4EE5\u9009\u4E2D\u4E3A\u9ED8\u8BA4\u767B\u5F55\u8FDB\u5165\u7684\u56E2\u961F\u3002 ")])],-1),yd={class:"flex-column my-3"},bd=e("label",{class:"col-md-12 control-label"},"\u56E2\u961F\u540D\u79F0",-1),$d={class:"col-md-12 mt-2"},wd={class:"modal-footer"},kd=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1),jd={emits:["loadTeams"],setup(l,{emit:a}){const{proxy:o}=T();z(),w();let t=k({name:""}),i=null;C(()=>{i=new bootstrap.Modal(document.getElementById("addTeam"),{keyboard:!1})});let n=()=>{let r={team_name:t.name};o.post(o.urls.team_add,r).then(function(c){c.data.code===200&&(i.hide(),a("loadTeams"))}).catch(function(c){o.bus.emit("alertDanger",c.response.data.errcode)})};return(r,c)=>(d(),p("div",_d,[f(se,{title:"\u65B0\u5EFA\u56E2\u961F","data-bs-toggle":"modal","data-bs-target":"#addTeam"}),e("div",md,[e("div",fd,[e("div",hd,[xd,e("div",vd,[e("form",{ref:"form",onSubmit:c[1]||(c[1]=ve((...u)=>r.handleSubmit&&r.handleSubmit(...u),["stop","prevent"]))},[gd,e("div",yd,[bd,e("div",$d,[N(e("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=u=>s(t).name=u),name:"name",class:"form-control"},null,512),[[O,s(t).name]])])])],544)]),e("div",wd,[kd,e("button",{type:"button",class:"btn btn-primary",onClick:c[2]||(c[2]=(...u)=>s(n)&&s(n)(...u))},"\u786E\u5B9A")])])])])]))}};const Mt=l=>(H("data-v-1f06dc53"),l=l(),F(),l),Sd={class:"px-4"},Cd={class:"flex-row flex mt-3"},Id={style:{flex:"1"}},Td={class:"table flex-fill mt-3"},zd={class:"table table-hover"},Md=Mt(()=>e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-2"},"\u56E2\u961F\u540D"),e("th",{scope:"col",class:"col-2"},"\u56E2\u961F\u72B6\u6001"),e("th",{scope:"col",class:"col-2"},"\u9650\u989D"),e("th",{scope:"col",class:"col-2"},"\u7C7B\u578B"),e("th",{scope:"col",class:"col-2"},"\u521B\u5EFA\u65F6\u95F4"),e("th",{scope:"col",class:"col-1"},"\u9ED8\u8BA4"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1)),Dd={key:0,class:"bi bi-check-lg",title:"\u767B\u5F55\u9ED8\u8BA4\u8FDB\u5165\u7684\u56E2\u961F"},Ld=["onClick"],Bd={key:0},Pd=Mt(()=>e("i",{class:"bi bi-pencil-square"},null,-1)),Vd={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,departmentTree:{},teams:[],show:!1,modifyMember:{},modify_title:"",departMembers:[],departmentUUID:"all",desc:"\u521B\u5EFA\u65B0\u7684\u56E2\u961F\uFF0C\u767B\u5F55\u9ED8\u8BA4\u8FDB\u5165\u56E2\u961F\u8BBE\u7F6E\u3002"});C(()=>{i()});let i=()=>{a.post(a.urls.teams_get).then(function(r){t.teams=r.data})},n=r=>{a.post(a.urls.team_default_set.format(r),{is_default:1}).then(function(c){c.data.code===200&&(i(),a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"))}).catch(function(c){a.bus.emit("alertDanger",c.response.data.errcode)})};return(r,c)=>{const u=R("router-link");return d(),p($,null,[f(Z,{title:"\u56E2\u961F\u5217\u8868",desc:s(t).desc},null,8,["desc"]),e("div",Sd,[e("div",Cd,[e("div",Id,[f(Q,{placeholder:"\u8F93\u5165\u56E2\u961F\u540D"})]),f(jd,{onLoadTeams:s(i)},null,8,["onLoadTeams"])]),e("div",Td,[e("table",zd,[Md,e("tbody",null,[(d(!0),p($,null,M(s(t).teams,_=>(d(),p("tr",{key:_.uuid,class:"default"},[e("td",null,[f(u,{to:{name:"Workbench",params:{team:_.uuid,type:"overview",title:"\u6211\u7684\u5DE5\u4F5C\u53F0"}}},{default:P(()=>[V(y(_.name),1)]),_:2},1032,["to"])]),e("td",null,y(_.status===1?"\u6B63\u5E38":"\u505C\u7528"),1),e("td",null,y(_.scale===-1?"\u4E0D\u9650":_.scale+"\u4EBA"),1),e("td",null,y(_.type),1),e("td",null,y(r.filters.formatDate(_.create_time)),1),e("td",null,[_.default_login?(d(),p("i",Dd)):(d(),p("i",{key:1,class:"bi bi-check-lg selected pointer",onClick:m=>s(n)(_.uuid)},null,8,Ld))]),e("td",null,[s(t).team===_.uuid?(d(),p("div",Bd,[f(u,{to:{name:"TeamSetting",params:{team:s(t).team,type:"info"}}},{default:P(()=>[Pd]),_:1},8,["to"])])):S("",!0)])]))),128))])])])])],64)}}};var ct=D(Vd,[["__scopeId","data-v-1f06dc53"]]);const Ud={style:{"margin-left":"10px"}},Hd={class:"modal fade",id:"addTeamMember","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Fd={class:"modal-dialog modal-lg modal-dialog-scrollable"},Ed={class:"modal-content"},Nd=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},"\u9080\u8BF7\u65B0\u7528\u6237"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),qd={class:"modal-body"},Ad=e("div",{style:{height:"40px","margin-bottom":"10px","border-top":"1px solid #e8e8e8","border-bottom":"1px solid #e8e8e8","border-left":"3px solid #f0ad4e","border-right":"1px solid #e8e8e8"}},[e("div",{style:{flex:"1","align-items":"center",height:"100%",display:"flex","margin-left":"20px"}},[e("div",{style:{flex:"0 0 auto"}}," \u53EF\u4EE5\u5C06\u65B0\u7684\u90E8\u95E8\u6DFB\u52A0\u5230\u4EFB\u4F55\u7684\u4E00\u4E2A\u90E8\u95E8\u4E0B\u9762\u4F5C\u4E3A\u5B50\u90E8\u95E8\uFF0C\u6216\u8005\u6DFB\u52A0\u5230\u56E2\u961F\u4E0B\u9762\u4F5C\u4E3A\u4E00\u7EA7\u90E8\u95E8\u3002 ")])],-1),Rd={class:"flex-column my-3"},Od=e("label",{class:"col-md-12 control-label"},"\u90AE\u7BB1\u5730\u5740",-1),Gd={class:"col-md-12 mt-2"},Wd={class:"modal-footer"},Kd=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1),Jd={emits:["loadTeamMembers"],setup(l,{emit:a}){const{proxy:o}=T();z();let t=w(),i=k({team:t.params.team,email:""}),n=null;C(()=>{n=new bootstrap.Modal(document.getElementById("addTeamMember"),{keyboard:!1})});let r=()=>{let c={email:i.email};o.post(o.urls.team_member_add.format(i.team),c).then(function(u){u.data.code===200&&(n.hide(),a("loadTeamMembers"))}).catch(function(u){o.bus.emit("alertDanger",u.response.data.errcode)})};return(c,u)=>(d(),p("div",Ud,[f(se,{title:"\u9080\u8BF7\u65B0\u6210\u5458","data-bs-toggle":"modal","data-bs-target":"#addTeamMember"}),e("div",Hd,[e("div",Fd,[e("div",Ed,[Nd,e("div",qd,[e("form",{ref:"form",onSubmit:u[1]||(u[1]=ve((..._)=>s(r)&&s(r)(..._),["stop","prevent"]))},[Ad,e("div",Rd,[Od,e("div",Gd,[N(e("input",{type:"text","onUpdate:modelValue":u[0]||(u[0]=_=>s(i).email=_),name:"name",class:"form-control"},null,512),[[O,s(i).email]])])])],544)]),e("div",Wd,[Kd,e("button",{type:"button",class:"btn btn-primary",onClick:u[2]||(u[2]=(..._)=>s(r)&&s(r)(..._))},"\u786E\u5B9A")])])])])]))}},Yd={class:"px-4"},Qd={class:"flex-row flex mt-3"},Zd={style:{flex:"1"}},Xd={class:"table flex-fill mt-3"},ec={class:"table table-hover"},tc=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-2"},"\u7528\u6237\u540D"),e("th",{scope:"col",class:"col-2"},"\u90AE\u7BB1"),e("th",{scope:"col",class:"col-2"},"\u7535\u8BDD"),e("th",{scope:"col",class:"col-2"},"\u521B\u5EFA\u65F6\u95F4"),e("th",{scope:"col",class:"col-2"},"\u6700\u540E\u8BBF\u95EE\u65F6\u95F4"),e("th",{scope:"col",class:"col-1"},"\u72B6\u6001"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),sc={key:0,style:{width:"30px",height:"2px"}},ac=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),lc=[ac],oc={key:1,class:"pointer"},ic=e("i",{class:"bi bi-x-lg"},null,-1),nc=[ic],rc={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,departmentTree:{},members:[],show:!1,modifyMember:{},modify_title:"",departMembers:[],departmentUUID:"all"});C(()=>{t.team=o.params.team,i()}),K(()=>o.params,n=>{i()});let i=()=>{a.get(a.urls.team_member_list.format(t.team)).then(function(n){t.members=n.data})};return(n,r)=>(d(),p($,null,[f(Z,{title:"\u6210\u5458\u5217\u8868",desc:"\u5DE5\u4F5C\u9879\u7C7B\u578B\u7528\u4E8E\u5728\u540C\u4E00\u4E2A\u9879\u76EE\u4E0B\u4F7F\u7528\u4E0D\u540C\u7C7B\u578B\u7684\u5DE5\u4F5C\u9879\uFF0C\u4E0D\u540C\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u53EF\u4EE5\u5B9A\u4E49\u4E0D\u540C\u7684\u5C5E\u6027\u5B57\u6BB5\u3001\u6743\u9650\u548C\u5DE5\u4F5C\u6D41\u7B49\u3002\u9879\u76EE\u4E0B\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u914D\u7F6E\u7684\u4FEE\u6539\u4E0D\u4F1A\u540C\u6B65\u5230\u914D\u7F6E\u4E2D\u5FC3\u4E0B\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u4E2D\u3002"}),e("div",Yd,[e("div",Qd,[e("div",Zd,[f(Q,{placeholder:"\u8F93\u5165\u7528\u6237\u540D\uFF0C\u90AE\u7BB1\u67E5\u627E\u6210\u5458"})]),f(Jd,{onLoadTeamMembers:s(i)},null,8,["onLoadTeamMembers"])]),e("div",Xd,[e("table",ec,[tc,e("tbody",null,[(d(!0),p($,null,M(s(t).members,c=>(d(),p("tr",{key:c.uuid},[e("td",null,[f(ye,{user:c},null,8,["user"])]),e("td",null,y(c.email),1),e("td",null,y(c.phone),1),e("td",null,y(n.filters.formatDate(c.create_time)),1),e("td",null,y(n.filters.formatDate(c.access_time)),1),e("td",null,y(c.verify_status),1),e("td",null,[c.built_in?(d(),p("div",sc,lc)):(d(),p("div",oc,nc))])]))),128))])])])])],64))}},dc={class:"px-4 pb-4"},cc={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,project:"",maps:{invite:{code:4,permission:"invite_member",title:"\u9080\u8BF7\u56E2\u961F\u6210\u5458",desc:"\u5141\u8BB8\u7528\u6237\u9080\u8BF7\u65B0\u7684\u56E2\u961F\u6210\u5458\uFF0C\u5E76\u5728\u9876\u680F\u663E\u793A\u9080\u8BF7\u56E2\u961F\u6210\u5458\u7684\u5FEB\u6377\u5165\u53E3",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},team:{code:1,permission:"administer_team",title:"\u56E2\u961F\u7BA1\u7406\u5458",desc:"\u8D85\u7EA7\u7BA1\u7406\u5458\u6743\u9650\uFF0C\u53EF\u4EE5\u66F4\u6539\u56E2\u961F\u4FE1\u606F\u548C\u56E2\u961F\u6743\u9650",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},do:{code:2,permission:"administer_do",title:"\u300C\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3\u300D\u7BA1\u7406\u5458",desc:"\u9488\u5BF9\u9879\u76EE\u7BA1\u7406\uFF0C\u53EF\u4EE5\u5BF9\u9879\u76EE\u8FDB\u884C\u5168\u5C40\u914D\u7F6E",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},wiki:{code:3,permission:"administer_wiki",title:"\u300C\u6587\u6863\u914D\u7F6E\u4E2D\u5FC3\u300D\u7BA1\u7406\u5458",desc:"\u9488\u5BF9\u6587\u6863\u4E2D\u5FC3\uFF0C\u53EF\u4EE5\u5BF9\u6587\u6863\u8FDB\u884C\u5168\u5C40\u914D\u7F6E",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],loaded:!1,data:{permission_rule:{context_type:"team"}}});C(()=>{i()});let i=()=>{let r=[];for(let c in t.maps)r.push(t.maps[c].code);a.post(a.urls.team_permission_rules.format(t.team),r).then(function(c){for(let u in t.maps){let _=t.maps[u];_.groups=[]}if(c.data&&c.data.length>0)for(let u in t.maps){let _=t.maps[u];for(let m=0;m<c.data.length;m++){let h=c.data[m];if(h.permission===_.code){_.groups=h.groups;break}}}n()})},n=()=>{a.get(a.urls.team_member_list.format(t.team)).then(function(r){if(r.data&&r.data&&r.data.length>0){let c=[];for(let u=0;u<r.data.length;u++){let _=r.data[u];_.type="single_user",c.push(_)}for(let u in t.maps){let _=t.maps[u];_.members=c}}t.loaded=!0})};return(r,c)=>(d(),p($,null,[f(Z,{title:"\u56E2\u961F\u6743\u9650",desc:"\u56E2\u961F\u6743\u9650\u53EF\u4EE5\u7528\u4E8E\u7BA1\u7406\u56E2\u961F\u6210\u5458\u3002"}),e("div",dc,[s(t).loaded?(d(),A(te,{key:0,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.invite,onLoadPermissionData:s(i)},null,8,["role_members","data","group","onLoadPermissionData"])):S("",!0),s(t).loaded?(d(),A(te,{key:1,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.team,onLoadPermissionData:s(i)},null,8,["role_members","data","group","onLoadPermissionData"])):S("",!0),s(t).loaded?(d(),A(te,{key:2,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.do,onLoadPermissionData:s(i)},null,8,["role_members","data","group","onLoadPermissionData"])):S("",!0),s(t).loaded?(d(),A(te,{key:3,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.wiki,onLoadPermissionData:s(i)},null,8,["role_members","data","group","onLoadPermissionData"])):S("",!0)])],64))}};var uc="https://cdn.jsdelivr.net/gh/jitask/cache/dist/images/logo.png";const Ze=l=>(H("data-v-1381405c"),l=l(),F(),l),pc={class:"mx-4"},_c={class:"mt-4 col-5"},mc=Ze(()=>e("label",{for:"team-name",class:"form-label"},"\u56E2\u961F\u540D\u5B57",-1)),fc={class:"mt-4 col-8"},hc=Ze(()=>e("label",{for:"team-name",class:"form-label"},"\u5EFA\u8BAE\u4E0A\u4F20\u957F\u5EA6\u4E3A 200px\uFF0C\u9AD8\u5EA6\u4E3A 52px\uFF0C\u80CC\u666F\u900F\u660E\u7684 PNG \u683C\u5F0F\u56FE\u7247",-1)),xc=Ze(()=>e("div",{class:"avatar-upload"},[e("img",{src:uc,style:{"max-height":"100px",border:"1px solid #e7ecf1"}}),e("input",{type:"file"})],-1)),vc={class:"mt-4 col-6"},gc={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,name:"",avatar:"",disabled:!0});C(()=>{i()});let i=()=>{a.get(a.urls.team_get.format(t.team)).then(function(c){t.name=c.data.name})},n=()=>{t.disabled=!1},r=()=>{a.post(a.urls.team_update.format(t.team,t.project),{name:t.name,uuid:t.project}).then(function(c){c.data.code===200&&(t.disabled=!0,a.bus.emit("updateTeam"),a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"))}).catch(function(c){a.bus.emit("alertDanger",c.response.data.errcode)})};return(c,u)=>(d(),p($,null,[f(Z,{title:"\u56E2\u961F\u4FE1\u606F",desc:""}),e("div",pc,[e("div",_c,[mc,N(e("input",{type:"email",class:"form-control",id:"team-name",onChange:u[0]||(u[0]=(..._)=>s(n)&&s(n)(..._)),onKeydown:u[1]||(u[1]=(..._)=>s(n)&&s(n)(..._)),"onUpdate:modelValue":u[2]||(u[2]=_=>s(t).name=_)},null,544),[[O,s(t).name]])]),e("div",fc,[hc,e("div",null,[xc,N(e("input",{type:"hidden","onUpdate:modelValue":u[3]||(u[3]=_=>s(t).avatar=_),name:"avatar",class:"form-control",placeholder:"\u5934\u50CF"},null,512),[[O,s(t).avatar]])])]),e("div",vc,[f(se,{disabled:s(t).disabled,title:"\u66F4\u65B0\u4FE1\u606F",onSubmit:s(r)},null,8,["disabled","onSubmit"])])])],64))}};var yc=D(gc,[["__scopeId","data-v-1381405c"]]);const bc={class:"flex-row flex flex-fill",style:{height:"0"}},$c={class:"flex-column flex flex-fill py-4 pe-4 overflow-auto"},wc={class:"jiBox flex-fill"},kc={setup(l){let a=w(),o=k({com:"manager",tagIndex:1});C(()=>{o.com=a.params.type}),K(()=>a.params,i=>{o.com=a.params.type});let t=Y(()=>{let i=ct;switch(o.com){case"manager":o.tagIndex=1,i=ct;break;case"member":o.tagIndex=11,i=rc;break;case"permission":o.tagIndex=21,i=cc;break;case"info":o.tagIndex=1,i=yc;break}return i});return(i,n)=>(d(),p("div",bc,[f(pd,{tagIndex:s(o).tagIndex},null,8,["tagIndex"]),e("div",$c,[e("div",wc,[(d(),A(ce(s(t))))])])]))}};const jc=l=>(H("data-v-30da611c"),l=l(),F(),l),Sc={class:"flex-row flex assign align-items-center pointer","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},Cc={style:{flex:"0 0 auto"}},Ic=["src"],Tc={style:{"margin-left":"10px"},class:"flex-column flex align-items-center"},zc={style:{"text-align":"left",color:"#363636"}},Mc=jc(()=>e("div",{style:{"text-align":"left",color:"#999999","font-size":"12px"}},"\u8D1F\u8D23\u4EBA",-1)),Dc={class:"dropdown-menu border-0 jiBox",style:{"overflow-y":"auto","overflow-x":"hidden"}},Lc={style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},Bc={props:{user:Object,project:String,task:String},emits:["loadTask"],setup(l,{emit:a}){const o=l,{proxy:t}=T();z();let i=w(),n=k({team:i.params.team,users:[]});C(()=>{n.team=i.params.team,r()});let r=()=>{t.post(t.urls.project_members.format(n.team,o.project)).then(function(u){n.users=u.data})},c=u=>{if(o.user.uuid!==u){let _={uuid:u};t.post(t.urls.task_change_assign.format(n.team,o.task),_).then(function(m){m.data.code===200&&(t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("loadTask"))}).catch(function(m){t.bus.emit("alertDanger",m.response.data.errcode)})}};return(u,_)=>(d(),p($,null,[e("div",Sc,[e("div",Cc,[e("img",{src:l.user.avatar,style:{height:"30px",width:"30px","border-radius":"30px"}},null,8,Ic)]),e("div",Tc,[e("div",zc,y(l.user.name),1),Mc])]),e("div",Dc,[f(Q,{class:"px-2",placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u8D1F\u8D23\u4EBA"}),e("div",Lc,[(d(!0),p($,null,M(s(n).users,m=>(d(),p("div",{class:"mt-2",key:m.uuid},[f(ye,{onSubmit:s(c),class:"px-2 py-1 status-item",user:m,selected:m.uuid===l.user.uuid,hasEmail:!0},null,8,["onSubmit","user","selected"])]))),128))])])],64))}};var Pc=D(Bc,[["__scopeId","data-v-30da611c"]]);const Xe=l=>(H("data-v-08a6d345"),l=l(),F(),l),Vc={class:"flex-row flex assign align-items-center pointer","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},Uc=Xe(()=>e("div",{style:{flex:"0 0 28px",color:"#17C4BB"}},[e("i",{class:"bi bi-arrow-right-circle-fill fs-c11"})],-1)),Hc={style:{"margin-left":"10px"},class:"flex-column flex"},Fc={style:{"text-align":"left",color:"#363636"}},Ec=Xe(()=>e("div",{style:{"text-align":"left",color:"#999999","font-size":"12px"}},"\u5F53\u524D\u72B6\u6001",-1)),Nc={class:"dropdown-menu border-0 jiBox",style:{"overflow-y":"auto","overflow-x":"hidden"}},qc={style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},Ac=Xe(()=>e("div",{class:"pb-2 px-2 b-line"},"\u9009\u62E9\u6B65\u9AA4\u66F4\u6539\u72B6\u6001",-1)),Rc=["onClick"],Oc={props:{status:Object,project:String,issue_type:String,task_uuid:String},emits:["loadTask"],setup(l,{emit:a}){const o=l,{proxy:t}=T();z();let i=w(),n=k({team:i.params.team,statuses:[]});C(()=>{r()});let r=()=>{t.post(t.urls.next_status_list.format(n.team,o.project,o.issue_type,o.status.uuid)).then(function(u){n.statuses=u.data})},c=u=>{let _={status:u};t.post(t.urls.task_change_status.format(n.team,o.task_uuid),_).then(function(m){m.data.code===200&&(t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("loadTask"))}).catch(function(m){t.bus.emit("alertDanger",m.response.data.errcode)})};return K(()=>o.status,(u,_)=>{u.uuid!==_.uuid&&r()}),(u,_)=>(d(),p($,null,[e("div",Vc,[Uc,e("div",Hc,[e("div",Fc,y(l.status.name),1),Ec])]),e("div",Nc,[e("div",qc,[Ac,(d(!0),p($,null,M(s(n).statuses,m=>(d(),p("div",{key:m.uuid},[e("div",{onClick:h=>s(c)(m.uuid),class:"status-item"},y(m.name),9,Rc)]))),128))])])],64))}};var Gc=D(Oc,[["__scopeId","data-v-08a6d345"]]);const Ce=l=>(H("data-v-5ea0fc63"),l=l(),F(),l),Wc={class:"flex-row flex assign align-items-center pointer","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},Kc=Ce(()=>e("div",{style:{flex:"0 0 28px",color:"#DAA520"}},[e("i",{class:"bi bi-star-fill fs-c11"})],-1)),Jc={style:{"margin-left":"10px"},class:"flex-column flex"},Yc={style:{"text-align":"left",color:"#363636"}},Qc=Ce(()=>e("div",{style:{"text-align":"left",color:"#999999","font-size":"12px"}},"\u4F18\u5148\u7EA7",-1)),Zc={class:"dropdown-menu border-0 jiBox",style:{"overflow-y":"auto","overflow-x":"hidden"}},Xc={style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},e1=Ce(()=>e("div",{class:"pb-2 px-2 b-line"},"\u66F4\u6539\u4F18\u5148\u7EA7",-1)),t1=["onClick"],s1={style:{flex:"0 0 auto"}},a1={key:0,class:"flex-row flex flex-fill align-items-center"},l1=Ce(()=>e("div",{style:{flex:"1","min-width":"50px"}},null,-1)),o1=Ce(()=>e("div",{class:"flex-row flex align-items-center"},[e("i",{class:"bi bi-check"})],-1)),i1=[l1,o1],n1={props:{project:String,priority:Object,task_uuid:String},emits:["loadTask"],setup(l,{emit:a}){const o=l,{proxy:t}=T();z();let i=w(),n=k({team:i.params.team,options:[]});C(()=>{r()});let r=()=>{t.get(t.urls.task_priority_options.format(n.team)).then(function(u){n.options=u.data})},c=u=>{let _={priority:u};t.post(t.urls.task_change_priority.format(n.team,o.task_uuid),_).then(function(m){m.data.code===200&&(t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("loadTask"))}).catch(function(m){t.bus.emit("alertDanger",m.response.data.errcode)})};return(u,_)=>(d(),p($,null,[e("div",Wc,[Kc,e("div",Jc,[e("div",Yc,y(l.priority.value),1),Qc])]),e("div",Zc,[e("div",Xc,[e1,(d(!0),p($,null,M(s(n).options,m=>(d(),p("div",{key:m.uuid},[e("div",{onClick:h=>s(c)(m.uuid),class:L([{selected:l.priority.uuid===m.uuid},"flex-row flex align-items-center status-item"])},[e("div",s1,y(m.value),1),l.priority.uuid===m.uuid?(d(),p("div",a1,i1)):S("",!0)],10,t1)]))),128))])])],64))}};var r1=D(n1,[["__scopeId","data-v-5ea0fc63"]]);const ee=l=>(H("data-v-42ef05b9"),l=l(),F(),l),d1={class:"flex flex-column fields h-100 overflow-auto"},c1={style:{"flex-direction":"column",flex:"1",display:"flex",overflow:"auto",padding:"20px"}},u1={class:"flex-row flex",style:{width:"100%"}},p1={style:{flex:"1"}},_1=ee(()=>e("div",{class:"three-dots-class flex-column flex align-items-end justify-content-center"},[e("i",{class:"bi bi-three-dots"})],-1)),m1={class:"field-block"},f1={class:"flex-row flex",style:{width:"100%"}},h1={key:0,style:{flex:"1",height:"30px"}},x1={class:"field-block"},v1={class:"flex-row flex",style:{width:"100%",padding:"0 10px 10px 10px","justify-content":"space-between"}},g1={style:{flex:"1","text-align":"center"}},y1={style:{flex:"1","text-align":"center"}},b1={style:{flex:"1","text-align":"center"}},$1=ee(()=>e("div",{class:"field-block"},[e("div",{class:"flex-row flex"},[e("div",{style:{flex:"1",padding:"0 5px 0 0"}}," \u63CF\u8FF0\uFF08\u5BCC\u6587\u672C\u7F16\u8F91\uFF09 "),e("div",{style:{padding:"0 5px 0 0",flex:"0 0 auto",cursor:"pointer",color:"#17C4BB"},class:"outline-none","data-bs-toggle":"modal","data-bs-target":"#showTaskBody"}," \u653E\u5927\u6D4F\u89C8 ")])],-1)),w1=["innerHTML"],k1={class:"modal fade",id:"showTaskBody","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","data-bs-focus":"false","aria-hidden":"true"},j1={class:"modal-dialog modal-xl modal-dialog-scrollable"},S1={class:"modal-content h-100"},C1={class:"modal-header"},I1={class:"modal-title summary",id:"staticBackdropLabel"},T1={class:"flex-row flex align-items-center"},z1=ee(()=>e("i",{class:"bi bi-pencil-square"},null,-1)),M1=V(" \u7F16\u8F91 "),D1=[z1,M1],L1=ee(()=>e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),B1={class:"modal-body flex-column flex flex-fill"},P1={key:0,class:"ck-content"},V1=["innerHTML"],U1={key:1,class:"flex-column flex flex-fill",style:{height:"100%",margin:"-1rem"}},H1=ee(()=>e("div",{id:"taskToolBar"},null,-1)),F1={id:"taskDescContainer",class:"flex-column flex flex-fill overflow-auto"},E1={key:0,class:"modal-footer"},N1=ee(()=>e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1)),q1={class:"field-type-group option"},A1={class:"field-cell"},R1=["onClick"],O1={key:0},G1={key:1},W1={key:2,class:"none"},K1=["onClick"],J1={style:{color:"#909090"}},Y1={class:"flex-row flex field-row"},Q1=ee(()=>e("div",{class:"field-cell"},"\u622A\u6B62\u65E5\u671F",-1)),Z1={class:"field-cell-time header field-edit"},X1={class:"field-type-group-last option"},e0={class:"flex-row flex field-row"},t0=ee(()=>e("div",{class:"field-cell"},"\u6240\u5C5E\u9879\u76EE",-1)),s0={class:"field-cell-value header"},a0={class:"flex-row flex field-row"},l0=ee(()=>e("div",{class:"field-cell"},"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1)),o0={class:"field-cell-value header"},i0={class:"flex-row flex field-row"},n0=ee(()=>e("div",{class:"field-cell"},"\u521B\u5EFA\u8005",-1)),r0={class:"field-cell-value header"},d0={class:"flex-row flex field-row"},c0=ee(()=>e("div",{class:"field-cell"},"\u521B\u5EFA\u65F6\u95F4",-1)),u0={class:"field-cell-value header"},p0={class:"flex-row flex field-row"},_0=ee(()=>e("div",{class:"field-cell"},"\u66F4\u65B0\u65F6\u95F4",-1)),m0={class:"field-cell-value header"},f0={style:{flex:"0 0 auto","border-top":"1px solid #e8e8e8",padding:"10px"},class:"flex-row flex align-items-center"},h0={class:"watchers flex-row flex",style:{flex:"1"}},x0=ee(()=>e("div",{style:{flex:"0 0 auto",color:"inherit"}},[e("i",{class:"bi bi-eye-slash"})],-1)),v0=ee(()=>e("div",{style:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}}," \u53D6\u6D88\u5173\u6CE8 ",-1)),g0=[x0,v0],y0=ee(()=>e("div",{style:{flex:"0 0 auto",color:"inherit"}},[e("i",{class:"bi bi-eyeglasses"})],-1)),b0=ee(()=>e("div",{style:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}}," \u5173\u6CE8 ",-1)),$0=[y0,b0],w0={props:{task:Object,issue_type:String},emits:["reloadTaskList"],setup(l,{emit:a}){const o=l,{proxy:t}=T();z();let i=w(),n=W(null),r=k({team:i.params.team,project:i.params.project,visible:!1,optionValue:"",options:[],selectField:"",deadlineChanged:!1,summaryEditing:!1,editor:Re,isDisplay:!0,editDescModel:"",watched:!1,issue_type:o.issue_type});K(()=>o.task,U=>{r.summaryEditing=!1,r.editDescModel=U.desc,_(),G()});let c=null;C(()=>{r.deadlineChanged=!1,r.editDescModel=o.task.desc,document.getElementById("showTaskBody").addEventListener("show.bs.modal",function(B){r.isDisplay=!0}),c=new bootstrap.Modal(document.getElementById("showTaskBody"),{keyboard:!1}),_(),G()});let u=U=>{let B=document.querySelector("#taskToolBar"),_e=document.querySelector("#taskDescContainer");B.hasChildNodes()&&(B.innerHTML=""),_e.hasChildNodes()&&(_e.innerHTML=""),B.appendChild(U.ui.view.toolbar.element),_e.appendChild(U.ui.getEditableElement())},_=()=>{o.task.deadline&&(n.value=new Date(o.task.deadline))},m=()=>{r.team=i.params.team,t.post(t.urls.watchers_update.format(r.team,r.project,o.task.uuid,"add")).then(function(U){U.data.code===200&&(t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("reloadTaskList",o.task.uuid))}).catch(function(U){t.bus.emit("alertDanger",U.response.data.errcode)})},h=()=>{r.team=i.params.team,t.post(t.urls.watchers_update.format(r.team,r.project,o.task.uuid,"cancel")).then(function(U){U.data.code===200&&(t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("reloadTaskList",o.task.uuid))}).catch(function(U){t.bus.emit("alertDanger",U.response.data.errcode)})},x=U=>{r.options=[],r.selectField=U,r.visible=!0,document.addEventListener("click",b,!1),t.get(t.urls.field_option_value_list.format(r.team,r.project,r.issue_type,U),{}).then(function(B){r.options=B.data})},g=()=>{r.visible=!1,document.removeEventListener("click",b,!1)},b=U=>{t.$refs[J.value]&&t.$refs[J.value][0].contains(U.target)||g()},v=(U,B)=>{r.visible=!1;let _e={task:o.task.uuid,field:U,option:B};t.post(t.urls.field_option_update.format(r.team,r.project,r.issue_type),_e).then(function(q){q.data.code===200&&(t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("reloadTaskList",o.task.uuid))}).catch(function(q){t.bus.emit("alertDanger",q.response.data.errcode)})},j=()=>{if(n.value){let U={deadline:n.value.getTime(),which_field:"deadline"};t.post(t.urls.task_update.format(r.team,r.project,r.issue_type,o.task.uuid),U).then(function(B){B.data.code===200&&(t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("reloadTaskList",o.task.uuid))}).catch(function(B){t.bus.emit("alertDanger",B.response.data.errcode)})}},I=()=>{r.summaryEditing=!0},E=()=>{if(o.task.summary){r.summaryEditing=!1;let U={summary:o.task.summary,which_field:"summary"};t.post(t.urls.task_update.format(r.team,r.project,r.issue_type,o.task.uuid),U).then(function(B){B.data.code===200&&(t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("reloadTaskList",o.task.uuid))}).catch(function(B){t.bus.emit("alertDanger",B.response.data.errcode)})}},X=()=>{if(r.editDescModel){let U={desc:r.editDescModel,which_field:"desc"};t.post(t.urls.task_update.format(r.team,r.project,r.issue_type,o.task.uuid),U).then(function(B){B.data.code===200&&(c.hide(),t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("reloadTaskList",o.task.uuid))}).catch(function(B){t.bus.emit("alertDanger",B.response.data.errcode)})}},ae=()=>{r.isDisplay=!1},G=()=>{r.watched=!1;let U=we();if(o.task.watchers)for(let B=0;B<o.task.watchers.length;B++)o.task.watchers[B].uuid===U&&(r.watched=!0)},J=Y(()=>"permBody"+r.selectField);const ne=Y(()=>({toolbar:{items:["undo","redo","heading","fontFamily","fontSize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","numberedList","bulletedList","outdent","indent","|","link","blockquote","imageUpload","insertTable"]},ckfinder:{uploadUrl:t.urls.upload.format(r.team),options:{resourceType:"Images"}}}));return(U,B)=>{const _e=R("ckeditor");return d(),p("div",d1,[e("div",c1,[e("div",null,[e("div",u1,[e("div",p1,"#"+y(l.task.number),1),_1])]),e("div",m1,[e("div",f1,[s(r).summaryEditing?(d(),p("div",h1,[N(e("input",{class:"form-control",autofocus:"","onUpdate:modelValue":B[0]||(B[0]=q=>l.task.summary=q),onBlur:B[1]||(B[1]=(...q)=>s(E)&&s(E)(...q))},null,544),[[O,l.task.summary]])])):(d(),p("div",{key:1,class:"summary",onClick:B[2]||(B[2]=(...q)=>s(I)&&s(I)(...q)),style:{height:"30px"}},y(l.task.summary),1))])]),e("div",x1,[e("div",v1,[e("div",g1,[f(Pc,{user:l.task.assign,project:l.task.project.uuid,task:l.task.uuid,onLoadTask:B[3]||(B[3]=q=>U.$emit("reloadTaskList",l.task.uuid))},null,8,["user","project","task"])]),e("div",y1,[f(Gc,{status:l.task.task_status,project:l.task.project.uuid,issue_type:l.task.issue_type.uuid,task_uuid:l.task.uuid,onLoadTask:B[4]||(B[4]=q=>U.$emit("reloadTaskList",l.task.uuid))},null,8,["status","project","issue_type","task_uuid"])]),e("div",b1,[f(r1,{project:l.task.project.uuid,priority:l.task.priority,task_uuid:l.task.uuid,onLoadTask:B[5]||(B[5]=q=>U.$emit("reloadTaskList",l.task.uuid))},null,8,["project","priority","task_uuid"])])])]),$1,e("div",{style:{flex:"0 0 auto","margin-top":"5px","border-radius":"5px","min-height":"180px",padding:"10px"},class:"ck-content overflow-hidden border",innerHTML:l.task.desc},null,8,w1),e("div",k1,[e("div",j1,[e("div",S1,[e("div",C1,[e("h5",I1,y(l.task.summary),1),e("div",T1,[s(r).isDisplay?(d(),p("div",{key:0,class:"flex-fill me-4 pe-4 pointer edit-desc",style:{"border-right":"1px solid #cccccc"},onClick:B[6]||(B[6]=(...q)=>s(ae)&&s(ae)(...q))},D1)):S("",!0),L1])]),e("div",B1,[s(r).isDisplay?(d(),p("div",P1,[e("div",{innerHTML:l.task.desc},null,8,V1)])):(d(),p("div",U1,[H1,e("div",F1,[f(_e,{editor:s(r).editor,onReady:s(u),modelValue:s(r).editDescModel,"onUpdate:modelValue":B[7]||(B[7]=q=>s(r).editDescModel=q),config:s(ne)},null,8,["editor","onReady","modelValue","config"])])]))]),s(r).isDisplay?S("",!0):(d(),p("div",E1,[N1,e("button",{type:"button",class:"btn btn-primary",onClick:B[8]||(B[8]=(...q)=>s(X)&&s(X)(...q))},"\u786E\u5B9A")]))])])]),mt(U.$slots,"workField",{},void 0,!0),e("div",q1,[(d(!0),p($,null,M(l.task.field_values,q=>(d(),p("div",{class:"flex-row flex field-row",key:q.uuid},[e("div",A1,y(q.name),1),e("div",{ref_for:!0,ref:"permBody"+q.uuid,class:L(["field-cell-value header field-edit",{active:s(r).visible&&s(r).selectField===q.uuid}])},[e("div",{onClick:Me=>s(x)(q.uuid),class:"flex-row flex align-items-center",style:{flex:"1"}},[q.value?(d(),p("div",O1,y(q.value),1)):q.number_value?(d(),p("div",G1,y(q.number_value),1)):(d(),p("div",W1,"\u672A\u8BBE\u7F6E"))],8,R1),e("div",{style:{position:"absolute"},class:L(["field-edit jiBox",{open:s(r).visible&&s(r).selectField===q.uuid}])},[(d(!0),p($,null,M(s(r).options,Me=>(d(),p("div",{class:"option-item flex-row flex align-items-center",key:Me.uuid,onClick:ov=>s(v)(q.uuid,Me.uuid)},[e("div",J1,y(Me.value),1)],8,K1))),128))],2)],2)]))),128)),e("div",Y1,[Q1,e("div",Z1,[f(s(qe),{style:{"padding-left":"5px"},modelValue:s(n),"onUpdate:modelValue":[B[9]||(B[9]=q=>le(n)?n.value=q:n=q),s(j)],placeholder:"\u672A\u8BBE\u7F6E",clearable:!1},null,8,["modelValue","onUpdate:modelValue"])])])]),e("div",X1,[e("div",e0,[t0,e("div",s0,y(l.task.project.name),1)]),e("div",a0,[l0,e("div",o0,y(l.task.issue_type.name),1)]),e("div",i0,[n0,e("div",r0,[f(Be,{user:l.task.owner},null,8,["user"])])]),e("div",d0,[c0,e("div",u0,y(U.filters.formatDate(l.task.create_time)),1)]),e("div",p0,[_0,e("div",m0,y(U.filters.formatDate(l.task.server_update_stamp/1e3)),1)])])]),e("div",f0,[e("div",h0,[(d(!0),p($,null,M(l.task.watchers,q=>(d(),A(Be,{user:q,key:q.uuid,includeName:!1},null,8,["user"]))),128))]),s(r).watched?(d(),p("div",{key:0,style:{flex:"0 0 auto",cursor:"pointer"},class:"flex-row flex align-items-center watch",onClick:B[10]||(B[10]=(...q)=>s(h)&&s(h)(...q))},g0)):(d(),p("div",{key:1,style:{flex:"0 0 auto",cursor:"pointer"},class:"flex-row flex align-items-center watch",onClick:B[11]||(B[11]=(...q)=>s(m)&&s(m)(...q))},$0))])])}}};var k0=D(w0,[["__scopeId","data-v-42ef05b9"]]);const ue=l=>(H("data-v-ef1bde58"),l=l(),F(),l),j0={class:"modal fade",id:"addTask","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","data-bs-focus":"false","aria-hidden":"true"},S0={class:"modal-dialog modal-xl modal-dialog-scrollable"},C0={class:"modal-content h-100"},I0={class:"modal-header"},T0={class:"modal-title",id:"staticBackdropLabel"},z0=ue(()=>e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),M0={class:"flex-column flex modal-body"},D0={class:"flex-column flex"},L0=ue(()=>e("label",{class:"control-label fs-c8"},"\u6807\u9898",-1)),B0={class:"mt-2"},P0={class:"flex-row flex align-items-center mt-3"},V0={class:"flex-column flex w-50"},U0=ue(()=>e("label",{class:"control-label fs-c8"},"\u8D1F\u8D23\u4EBA",-1)),H0={class:"mt-2"},F0=["value"],E0=ue(()=>e("div",{style:{width:"1.5rem"}},null,-1)),N0={class:"flex-column flex w-50"},q0=ue(()=>e("label",{class:"control-label fs-c8"},"\u4F18\u5148\u7EA7",-1)),A0={class:"mt-2"},R0=["value"],O0=ue(()=>e("div",{class:"mt-3 fs-c8"}," \u63CF\u8FF0\uFF08\u5BCC\u6587\u672C\u7F16\u8F91\uFF09 ",-1)),G0={class:"flex-column flex flex-fill mt-3"},W0=ue(()=>e("div",{id:"addTaskToolBar"},null,-1)),K0={id:"addTaskContainer",class:"flex-column flex flex-fill overflow-auto",style:{height:"0"}},J0={class:"modal-footer"},Y0=ue(()=>e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1)),Q0={props:{title:String,issue_type:String},emits:["reloadTaskList"],setup(l,{emit:a}){const o=l,{proxy:t}=T();z();let i=w(),n=k({team:i.params.team,project:i.params.project,com:i.params.com,name:"",desc:"",projectSelect:"",issueTypeSelect:"",assignSelect:"",prioritySelect:"",projects:[],issue_types:[],assigns:[],priorities:[],editor:Re}),r=null;C(()=>{r=new bootstrap.Modal(document.getElementById("addTask"),{keyboard:!1}),document.getElementById("addTask").addEventListener("shown.bs.modal",function(){_(),m()})});let c=x=>{let g=document.querySelector("#addTaskToolBar"),b=document.querySelector("#addTaskContainer");g.hasChildNodes()&&(g.innerHTML=""),b.hasChildNodes()&&(b.innerHTML=""),g.appendChild(x.ui.view.toolbar.element),b.appendChild(x.ui.getEditableElement())},u=()=>{let x={summary:n.name,desc:n.desc,priority:n.prioritySelect,assign:n.assignSelect,project:n.project,issue_type:o.issue_type};t.post(t.urls.task_add.format(n.team,n.project,n.project),x).then(function(g){r.hide(),a("reloadTaskList",g.data.uuid)})},_=()=>{t.post(t.urls.project_members.format(n.team,n.project)).then(function(x){n.assigns=x.data,n.assignSelect=n.assigns[0].uuid})},m=()=>{t.post(t.urls.issue_type_priority.format(n.team)).then(function(x){let g=x.data.options;if(g&&g.length>0)for(let b=0;b<g.length;b++)g[b].default_selected&&(n.prioritySelect=g[b].uuid),n.priorities.push({value:g[b].uuid,text:g[b].value})})};const h=Y(()=>({toolbar:{items:["undo","redo","heading","fontFamily","fontSize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","numberedList","bulletedList","outdent","indent","|","link","blockquote","imageUpload","insertTable"]},ckfinder:{uploadUrl:t.urls.upload.format(n.team),options:{resourceType:"Images"}}}));return(x,g)=>{const b=R("ckeditor");return d(),p($,null,[f(se,{title:l.title,plus:!0,"data-bs-toggle":"modal","data-bs-target":"#addTask"},null,8,["title"]),e("div",j0,[e("div",S0,[e("div",C0,[e("div",I0,[e("h5",T0,y(l.title),1),z0]),e("div",M0,[e("div",D0,[L0,e("div",B0,[N(e("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=v=>s(n).name=v),name:"name",class:"form-control"},null,512),[[O,s(n).name]])])]),e("div",P0,[e("div",V0,[U0,e("div",H0,[N(e("select",{"onUpdate:modelValue":g[1]||(g[1]=v=>s(n).assignSelect=v),class:"form-select"},[(d(!0),p($,null,M(s(n).assigns,v=>(d(),p("option",{value:v.uuid,key:v.uuid},[f(ye,{user:v,hasEmail:!0},null,8,["user"])],8,F0))),128))],512),[[it,s(n).assignSelect]])])]),E0,e("div",N0,[q0,e("div",A0,[N(e("select",{"onUpdate:modelValue":g[2]||(g[2]=v=>s(n).prioritySelect=v),class:"form-select"},[(d(!0),p($,null,M(s(n).priorities,v=>(d(),p("option",{value:v.value,key:v.value},y(v.text),9,R0))),128))],512),[[it,s(n).prioritySelect]])])])]),O0,e("div",G0,[W0,e("div",K0,[f(b,{editor:s(n).editor,onReady:s(c),modelValue:s(n).desc,"onUpdate:modelValue":g[3]||(g[3]=v=>s(n).desc=v),config:s(h)},null,8,["editor","onReady","modelValue","config"])])])]),e("div",J0,[Y0,e("button",{type:"button",class:"btn btn-primary",onClick:g[4]||(g[4]=(...v)=>s(u)&&s(u)(...v))},"\u786E\u5B9A")])])])])],64)}}};var Z0=D(Q0,[["__scopeId","data-v-ef1bde58"]]);const et=l=>(H("data-v-50ed4464"),l=l(),F(),l),X0={class:"flex-row flex flex-fill h-100"},eu={class:"flex-column flex-fill jiBox h-100"},tu={class:"flex flex-column flex-fill h-100"},su={class:"flex-row flex mt-3 b-line"},au={class:"flex-row flex ps-4 tab-title"},lu=["onClick"],ou=et(()=>e("div",{style:{flex:"1"}},"\xA0",-1)),iu={class:"flex-row flex p-3"},nu=et(()=>e("div",{style:{flex:"1",display:"inline-block"}},null,-1)),ru={style:{flex:"0 0 auto","flex-direction":"column","align-items":"center",display:"flex"}},du={style:{width:"100%","text-align":"right",flex:"1","align-items":"center",display:"flex"}},cu={style:{flex:"1",display:"inline-block"}},uu={class:"t-line flex flex-column flex-fill",style:{height:"0"}},pu={key:0,class:"flex-row flex flex-fill overflow-auto"},_u={id:"task-list",class:"w-100"},mu=["onClick"],fu={class:"flex-row flex",style:{"border-bottom":"1px solid #f8f8f8",flex:"1",padding:"10px 10px 10px 7px"}},hu={style:{flex:"0 0 auto","margin-left":"10px"},class:"flex-row flex"},xu={style:{flex:"0 0 auto","margin-left":"5px","background-color":"#efefef","border-radius":"4px!important",padding:"0 6px 0 6px",height:"20px"}},vu={style:{flex:"1","margin-left":"10px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap",width:"0"}},gu={style:{flex:"0 0 auto","margin-right":"10px","margin-left":"5px","background-color":"rgb(239, 239, 239)","border-radius":"4px !important",padding:"0px 6px",height:"20px"},class:"flex-row flex align-items-center"},yu=et(()=>e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1623897554814",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4488",width:"12",height:"12"},[e("path",{d:"M64 128a128 128 0 0 1 128-128h64a128 128 0 0 1 128 128v64a128 128 0 0 1-121.6 127.872V425.6h409.6a166.4 166.4 0 0 1 166.4 166.4v112.128A128 128 0 0 1 960 832v64a128 128 0 0 1-128 128h-64a128 128 0 0 1-128-128v-64a128 128 0 0 1 121.6-127.872V592a89.6 89.6 0 0 0-89.6-89.6H262.4v201.728A128 128 0 0 1 384 832v64a128 128 0 0 1-128 128H192a128 128 0 0 1-128-128v-64a128 128 0 0 1 121.6-127.872V319.872A128 128 0 0 1 64 192V128z m128-51.2a51.2 51.2 0 0 0-51.2 51.2v64a51.2 51.2 0 0 0 51.2 51.2h64a51.2 51.2 0 0 0 51.2-51.2V128a51.2 51.2 0 0 0-51.2-51.2H192z m0 704a51.2 51.2 0 0 0-51.2 51.2v64a51.2 51.2 0 0 0 51.2 51.2h64a51.2 51.2 0 0 0 51.2-51.2v-64a51.2 51.2 0 0 0-51.2-51.2H192z m576 0a51.2 51.2 0 0 0-51.2 51.2v64a51.2 51.2 0 0 0 51.2 51.2h64a51.2 51.2 0 0 0 51.2-51.2v-64a51.2 51.2 0 0 0-51.2-51.2h-64z","p-id":"4489",fill:"#515151"})])],-1)),bu={style:{flex:"0 0 auto","margin-left":"5px","font-size":"12px"}},$u={style:{flex:"0 0 auto"}},wu={key:1,class:"flex flex-fill"},ku={key:0,style:{"-webkit-flex":"1",flex:"1"},class:"flex-row flex align-items-center justify-content-center"},ju={key:0,style:{flex:"0 0 20px"}},Su={key:1,class:"jiBox",style:{flex:"0 0 500px","min-width":"500px"}},Cu={props:{comName:String,issue_type:String},setup(l){const a=l,{proxy:o}=T();let t=z(),i=w(),n=k({curIndex:0,cur:[1,2,3],team:"",project:"",com:"",tabTitle:[{name:"\u5168\u90E8{0}",cat:[1,2,3]},{name:"\u672A\u5F00\u59CB",cat:[1]},{name:"\u8FDB\u884C\u4E2D",cat:[2]},{name:"\u5DF2\u5B8C\u6210",cat:[3]}],task:{},tasks:[],selectedUUID:"",task_completed:!1,tasks_completed:!1,owner:"",assign:""});C(()=>{n.team=i.params.team,n.project=i.params.project,n.com=i.params.com,r()});let r=(g,b)=>{let v=o.urls.task_list.format(n.team,n.project,a.issue_type),j={category:n.cur,owner:n.owner,assign:n.assign};o.post(v,j).then(function(I){n.tasks=I.data,n.tasks_completed=!0,n.tasks&&n.tasks.length>0&&(g||(b?g=n.tasks[0].uuid:i.name==="Task"?g=i.params.task:g=n.tasks[0].uuid),c(g))})},c=g=>{g!==n.selectedUUID&&(n.selectedUUID=g),(i.name!=="Task"||i.params.task!==g)&&t.push({name:"Task",params:{team:n.team,project:n.project,com:n.com,task:g}}),u(g)},u=g=>{let b=o.urls.task_get.format(n.team,g);o.get(b).then(function(v){n.task=v.data,n.task_completed=!0})},_=(g,b)=>{n.curIndex=g,n.cur=b,r(null,!0)},m=Y(()=>"\u65B0\u589E{0}".format(a.comName)),h=Y(()=>"\u641C\u7D22{0}".format(a.comName)),x=Y(()=>n.tasks&&n.tasks.length>0);return(g,b)=>(d(),p("div",X0,[e("div",eu,[e("div",tu,[e("div",su,[e("div",au,[(d(!0),p($,null,M(s(n).tabTitle,(v,j)=>(d(),p("div",{class:L(["justify-content-between align-items-center pointer px-3 pb-2",{active:s(n).curIndex==j}]),onClick:I=>s(_)(j,v.cat),key:j},y(v.name.format(l.comName)),11,lu))),128))]),ou]),e("div",iu,[f(Z0,{title:s(m),issue_type:l.issue_type,onReloadTaskList:s(r)},null,8,["title","issue_type","onReloadTaskList"]),nu,e("div",ru,[e("div",du,[e("div",cu,[f(Q,{placeholder:s(h)},null,8,["placeholder"])])])])]),e("div",uu,[s(x)?(d(),p("div",pu,[e("div",_u,[(d(!0),p($,null,M(s(n).tasks,v=>(d(),p("div",{key:v.uuid,class:L(["flex-row flex flex-fill task-item",{active:s(n).selectedUUID===v.uuid}]),onClick:j=>s(c)(v.uuid)},[e("div",fu,[e("div",hu,[f(Ue,{color:v.priority.color,name:v.priority.value,bgColor:v.priority.background_color},null,8,["color","name","bgColor"]),e("div",xu,y(v.assign.name),1)]),e("div",vu,y(v.summary),1),e("div",gu,[yu,e("div",bu,y(v.related_task_count[0])+"/"+y(v.related_task_count[1]),1)]),e("div",$u,[f(he,{name:v.task_status.name,color:v.task_status.category.toString()},null,8,["name","color"])])])],10,mu))),128))])])):(d(),p("div",wu,[s(n).tasks_completed?(d(),p("div",ku," \u6682\u65E0"+y(l.comName),1)):S("",!0)]))])])]),s(x)?(d(),p("div",ju)):S("",!0),s(x)?(d(),p("div",Su,[s(n).task_completed?(d(),A(k0,{key:0,task:s(n).task,issue_type:l.issue_type,onReloadTaskList:s(r)},{workField:P(()=>[mt(g.$slots,"workField",{},void 0,!0)]),_:3},8,["task","issue_type","onReloadTaskList"])):S("",!0)])):S("",!0)]))}};var tt=D(Cu,[["__scopeId","data-v-50ed4464"]]);const be=l=>(H("data-v-783e6e9a"),l=l(),F(),l),Iu={class:"field-type-group option"},Tu=be(()=>e("div",{class:"flex-row flex field-row"},[e("div",{class:"field-cell"},"\u5173\u8054\u4EFB\u52A1"),e("div",{class:"field-cell-value header"},[e("div",{class:"flex-row flex"},[e("div",{style:{flex:"1"}}),e("div",{style:{color:"#303030",height:"1.5rem"},class:"flex-row flex align-items-center pointer","data-bs-toggle":"modal","data-bs-target":"#addLinkTasks"},[e("i",{class:"bi bi-link",style:{"font-size":"1.5rem"}})])])])],-1)),zu={class:"flex-row flex field-row"},Mu={key:0,class:"flex-row flex",style:{"-webkit-flex":"1",flex:"1",position:"relative"}},Du={style:{overflow:"auto",flex:"1",display:"flex",height:"100%"}},Lu={id:"linked-task-list",class:"flex-column flex flex-fill"},Bu=["onMouseover"],Pu=["onClick"],Vu=be(()=>e("i",{class:"bi bi-x-lg"},null,-1)),Uu=[Vu],Hu={key:1},Fu={class:"modal fade",id:"addLinkTasks","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Eu={class:"modal-dialog modal-lg modal-dialog-scrollable"},Nu={class:"modal-content"},qu=be(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},"\u5173\u8054\u4EFB\u52A1"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Au={class:"modal-body"},Ru={style:{flex:"0 0 auto",padding:"0 10px"}},Ou=be(()=>e("label",{class:"col-md-12 control-label"},"\u4EFB\u52A1\u6807\u9898",-1)),Gu={class:"col-md-12 mt-2"},Wu=be(()=>e("div",null,"\u8F93\u5165\u4EFB\u52A1\u6807\u9898\u5305\u542B\u7684\u5173\u952E\u5B57",-1)),Ku={style:{flex:"1"},class:"mt-3"},Ju={key:0,class:"flex-row flex",style:{"-webkit-flex":"1",flex:"1",position:"relative"}},Yu={style:{overflow:"auto",flex:"1",display:"flex",height:"100%"}},Qu={id:"task-list",style:{"flex-direction":"column",flex:"1",display:"flex",overflow:"auto"}},Zu={class:"flex-row flex",style:{"border-bottom":"1px solid #f8f8f8",flex:"1",padding:"10px 10px 10px 7px"}},Xu={style:{flex:"0 0 auto"},class:"flex-row flex align-items-center justify-content-center"},ep={key:0,type:"checkbox",style:{width:"14px",height:"14px"},disabled:"",checked:""},tp=["onUpdate:modelValue"],sp={style:{flex:"0 0 auto","margin-left":"10px"},class:"flex-row flex"},ap={style:{flex:"0 0 auto","margin-left":"5px","background-color":"#efefef","border-radius":"4px!important",padding:"0 6px 0 6px",height:"20px"}},lp={style:{flex:"1","margin-left":"10px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap",width:"0"}},op={style:{flex:"0 0 auto"}},ip={class:"modal-footer"},np=be(()=>e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1)),rp={props:{comName:String,issue_type:String},setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:"",project:"",summary:"",task:"",tasks:[],linkedTasks:[],addingTasks:[],delUUID:""});K(()=>o.params,m=>{t.team=o.params.team,t.project=o.params.project,t.task=o.params.task,r()});let i=null;C(()=>{t.team=o.params.team,t.project=o.params.project,t.task=o.params.task,r(),i=new bootstrap.Modal(document.getElementById("addLinkTasks"),{keyboard:!1}),document.getElementById("addLinkTasks").addEventListener("shown.bs.modal",function(){t.addingTasks.length=0,n()})});let n=m=>{let h=a.urls.link_tasks.format(t.team,t.project);a.post(h,{issueType_name:"\u4EFB\u52A1",summary:t.summary}).then(function(x){t.tasks=x.data})},r=()=>{let m=a.urls.linked_tasks.format(t.team,t.task);a.get(m).then(function(h){t.linkedTasks=h.data})},c=m=>{if(t.linkedTasks){for(let h=0;h<t.linkedTasks.length;h++)if(t.linkedTasks[h].uuid===m)return!0}return!1},u=()=>{if(t.tasks)for(let h=0;h<t.tasks.length;h++){let x=t.tasks[h];if(x.sel){let g={uuid:x.uuid,issue_type:x.issue_type.uuid};t.addingTasks.push(g)}}let m=t.addingTasks;a.post(a.urls.linked_tasks_add.format(t.team,t.task),m).then(function(h){h.data.code===200&&(i.hide(),r(),a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"))}).catch(function(h){a.bus.emit("alertDanger",h.response.data.errcode)})},_=m=>{a.post(a.urls.linked_tasks_del.format(t.team,t.task,m)).then(function(h){h.data.code===200&&(r(),a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"))}).catch(function(h){a.bus.emit("alertDanger",h.response.data.errcode)})};return(m,h)=>(d(),p($,null,[f(tt,{comName:l.comName,issue_type:l.issue_type,ref:"com"},{workField:P(()=>[e("div",Iu,[Tu,e("div",zu,[s(t).linkedTasks&&s(t).linkedTasks.length>0?(d(),p("div",Mu,[e("div",Du,[e("div",Lu,[(d(!0),p($,null,M(s(t).linkedTasks,x=>(d(),p("div",{key:x.uuid,class:"flex-row flex flex-fill task-item align-items-center hover"},[e("div",{class:"flex-row flex flex-fill related-task align-items-center",style:{flex:"1",padding:"5px 0"},onMouseover:g=>{s(t).delUUID=x.uuid},onMouseleave:h[0]||(h[0]=g=>{s(t).delUUID=""})},[e("div",{style:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap",width:"0"},class:L(["flex-fill",{del:x.task_status.category===3}])}," #"+y(x.number)+" "+y(x.summary),3),x.uuid===s(t).delUUID?(d(),p("div",{key:0,style:{flex:"0 0 20px","margin-left":"5px"},onClick:g=>s(_)(x.uuid),class:"flex-row flex align-items-center pointer"},Uu,8,Pu)):S("",!0)],40,Bu)]))),128))])])])):(d(),p("div",Hu,"\u6682\u65E0\u5173\u8054"))])])]),_:1},8,["comName","issue_type"]),e("div",Fu,[e("div",Eu,[e("div",Nu,[qu,e("div",Au,[e("div",Ru,[Ou,e("div",Gu,[N(e("input",{type:"text","onUpdate:modelValue":h[1]||(h[1]=x=>s(t).summary=x),onBlur:h[2]||(h[2]=(...x)=>s(n)&&s(n)(...x)),name:"name",class:"form-control"},null,544),[[O,s(t).summary]])]),Wu]),e("div",Ku,[s(t).tasks&&s(t).tasks.length>0?(d(),p("div",Ju,[e("div",Yu,[e("div",Qu,[(d(!0),p($,null,M(s(t).tasks,x=>(d(),p("div",{key:x.uuid,class:"flex-row flex task-item"},[e("div",Zu,[e("div",Xu,[s(c)(x.uuid)?(d(),p("input",ep)):N((d(),p("input",{key:1,type:"checkbox","onUpdate:modelValue":g=>x.sel=g,style:{width:"14px",height:"14px"}},null,8,tp)),[[ge,x.sel]])]),e("div",sp,[f(Ue,{color:x.priority.color,name:x.priority.value,bgColor:x.priority.background_color},null,8,["color","name","bgColor"]),e("div",ap,y(x.assign.name),1)]),e("div",lp,y(x.summary),1),e("div",op,[f(he,{name:x.task_status.name,color:x.task_status.category.toString()},null,8,["name","color"])])])]))),128))])])])):S("",!0)])]),e("div",ip,[np,e("button",{type:"button",class:"btn btn-primary",onClick:h[3]||(h[3]=(...x)=>s(u)&&s(u)(...x))},"\u786E\u5B9A")])])])])],64))}};var dp=D(rp,[["__scopeId","data-v-783e6e9a"]]);const cp={props:{comName:String,issue_type:String},setup(l){return(a,o)=>(d(),A(tt,{comName:l.comName,issue_type:l.issue_type},{workField:P(()=>[]),_:1},8,["comName","issue_type"]))}};const up=l=>(H("data-v-7bea95a2"),l=l(),F(),l),pp={class:"field-type-group option"},_p=up(()=>e("div",{class:"flex-row flex field-row"},[e("div",{class:"field-cell"},"\u5173\u8054\u9700\u6C42")],-1)),mp={class:"flex-row field-row flex"},fp={key:0,class:"flex-row flex",style:{"-webkit-flex":"1",flex:"1",position:"relative"}},hp={style:{overflow:"auto",flex:"1",display:"flex",height:"100%"}},xp={id:"linked-task-list",class:"flex-column flex flex-fill"},vp={class:"flex-row flex",style:{flex:"1",padding:"5px 0"}},gp={key:1,style:{padding:"3px 0"}},yp={props:{comName:String,issue_type:String},setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,project:o.params.project,task:o.params.task,tasks:[],linkedTasks:[]});C(()=>{i()}),K(()=>o.params,n=>{t.task=o.params.task,i()});let i=()=>{let n=a.urls.linked_source_tasks.format(t.team,t.task);a.get(n).then(function(r){t.linkedTasks=r.data})};return(n,r)=>(d(),A(tt,{comName:l.comName,issue_type:l.issue_type},{workField:P(()=>[e("div",pp,[_p,e("div",mp,[s(t).linkedTasks&&s(t).linkedTasks.length>0?(d(),p("div",fp,[e("div",hp,[e("div",xp,[(d(!0),p($,null,M(s(t).linkedTasks,c=>(d(),p("div",{key:c.uuid,class:"flex-row flex flex-fill task-item align-items-center"},[e("div",vp,[e("div",{style:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap",width:"0"},class:L(["flex-fill",{del:c.task_status.category===3}])}," #"+y(c.number)+" "+y(c.summary),3)])]))),128))])])])):(d(),p("div",gp,"\u6682\u65E0\u5173\u8054"))])])]),_:1},8,["comName","issue_type"]))}};var bp=D(yp,[["__scopeId","data-v-7bea95a2"]]);const $p={class:"modal fade",id:"addRoleMember","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},wp={class:"modal-dialog modal-lg modal-dialog-scrollable"},kp={class:"modal-content"},jp=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"exampleModalLabel"},"\u9080\u8BF7\u65B0\u7528\u6237"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Sp={class:"modal-body"},Cp={style:{flex:"1",height:"100%"},class:"flex-row flex align-items-center"},Ip=e("div",{style:{flex:"1",display:"flex"}}," \u9009\u62E9\u6210\u5458\u52A0\u5165\u5230\u89D2\u8272\uFF1A \u9879\u76EE\u6210\u5458 ",-1),Tp={style:{flex:"0 0 300px"}},zp={class:"table mt-4"},Mp={class:"table table-hover l-line r-line t-line"},Dp=e("thead",{class:"table-light"},[e("tr",null,[e("th",{style:{width:"50px"}},[e("div",{class:"flex-row flex align-items-center"},[e("input",{type:"checkbox",style:{width:"18px",height:"18px"}})])]),e("th",null,"\u7528\u6237\u540D"),e("th",null,"\u90AE\u7BB1"),e("th",{class:"col-2"},"\u6240\u5C5E\u90E8\u95E8"),e("th",{class:"col-2"},"\u7528\u6237\u7EC4")])],-1),Lp={style:{"vertical-align":"middle"}},Bp={class:"flex-row flex align-items-center"},Pp={key:0,type:"checkbox",style:{width:"18px",height:"18px"},disabled:"",checked:""},Vp=["onUpdate:modelValue"],Up=e("td",null," \u65E0 ",-1),Hp=e("td",null," \u65E0 ",-1),Fp={class:"modal-footer"},Ep=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1),Np={props:{curMember:Array,role:String},emits:["loadRoleMembers"],setup(l,{emit:a}){const o=l,{proxy:t}=T();z();let i=w(),n=k({team:i.params.team,project:i.params.project,name:"",items:[],members:[]}),r=null;C(()=>{_(),r=new bootstrap.Modal(document.getElementById("addRoleMember"),{keyboard:!1})});let c=()=>{u()},u=()=>{m()},_=()=>{t.get(t.urls.team_member_list.format(n.team)).then(function(x){if(n.items=x.data,n.items)for(let g=0;g<n.items.length;g++)n.items[g].sel=!1})},m=()=>{if(n.items){n.members=[];for(let g=0;g<n.items.length;g++){let b=n.items[g];b.sel&&n.members.push(b.uuid)}}let x=n.members;t.post(t.urls.project_member_add.format(n.team,n.project),x).then(function(g){g.data.code===200&&(r.hide(),a("loadRoleMembers"))})},h=x=>{if(o.curMember){for(let g=0;g<o.curMember.length;g++)if(o.curMember[g].uuid===x)return!0}return!1};return(x,g)=>(d(),p($,null,[f(se,{title:"\u6DFB\u52A0\u6210\u5458","data-bs-toggle":"modal","data-bs-target":"#addRoleMember"}),e("div",$p,[e("div",wp,[e("div",kp,[jp,e("div",Sp,[e("form",{ref:"form",onSubmit:g[0]||(g[0]=ve((...b)=>s(u)&&s(u)(...b),["stop","prevent"]))},[e("div",Cp,[Ip,e("div",Tp,[f(Q,{placeholder:"\u8F93\u5165\u7528\u6237\u540D\uFF0C\u90AE\u7BB1"})])])],544),e("div",zp,[e("table",Mp,[Dp,e("tbody",null,[(d(!0),p($,null,M(s(n).items,b=>(d(),p("tr",{key:b.uuid},[e("td",Lp,[e("div",Bp,[s(h)(b.uuid)?(d(),p("input",Pp)):N((d(),p("input",{key:1,type:"checkbox","onUpdate:modelValue":v=>b.sel=v,style:{width:"18px",height:"18px"}},null,8,Vp)),[[ge,b.sel]])])]),e("td",null,[f(ye,{user:b},null,8,["user"])]),e("td",null,y(b.email),1),Up,Hp]))),128))])])])]),e("div",Fp,[Ep,e("button",{type:"button",class:"btn btn-primary",onClick:g[1]||(g[1]=(...b)=>s(c)&&s(c)(...b))},"\u786E\u5B9A")])])])])],64))}};const st=l=>(H("data-v-4ad7684e"),l=l(),F(),l),qp={class:"flex-column flex flex-fill jiBox",style:{"min-height":"100%"}},Ap=st(()=>e("div",{class:"b-line p-3 fs-4"},"\u6210\u5458",-1)),Rp={class:"flex-row flex align-items-center",style:{flex:"0 0 auto",margin:"10px 20px"}},Op={class:"flex-fill"},Gp={class:"flex-row flex members t-line i-table",style:{flex:"1"}},Wp={style:{flex:"1",margin:"-1px 0 0 0"}},Kp={class:"table table-hover"},Jp=st(()=>e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-4"},"\u7528\u6237\u540D"),e("th",{scope:"col",class:"col-3"},"\u90AE\u7BB1"),e("th",{scope:"col",class:"col-3"},"\u624B\u673A"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1)),Yp=["onClick"],Qp=st(()=>e("i",{class:"bi bi-x-lg fs-c8"},null,-1)),Zp=[Qp],Xp={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,project:o.params.project,items:[],roles:[],fields:[{key:"user",label:"\u7528\u6237\u540D"},{key:"email",label:"\u90AE\u7BB1"},{key:"role",label:"\u89D2\u8272"},{key:"op",label:"\u64CD\u4F5C",w:"80px"}],selectedRole:""});C(()=>{i()});let i=()=>{t.roles=[],a.post(a.urls.project_members.format(t.team,t.project)).then(function(r){t.items=r.data})},n=(r,c)=>{};return(r,c)=>(d(),p("div",qp,[Ap,e("div",Rp,[e("div",Op,[f(Q,{placeholder:"\u641C\u7D22\u6210\u5458"})]),e("div",null,[f(Np,{role:s(t).selectedRole,curMember:s(t).items,onLoadRoleMembers:s(i)},null,8,["role","curMember","onLoadRoleMembers"])])]),e("div",Gp,[e("div",Wp,[e("table",Kp,[Jp,e("tbody",null,[(d(!0),p($,null,M(s(t).items,u=>(d(),p("tr",{key:u.uuid},[e("td",null,[f(Be,{user:u},null,8,["user"])]),e("td",null,y(u.email),1),e("td",null,y(u.phone),1),e("td",null,[e("div",{class:"member-delete-x",onClick:_=>s(n)(u.role_uuid,u.uuid)},Zp,8,Yp)])]))),128))])])])])]))}};var e_=D(Xp,[["__scopeId","data-v-4ad7684e"]]);const t_=l=>(H("data-v-6322a232"),l=l(),F(),l),s_={class:"app-main-content jiBox flex-column flex",style:{"min-height":"100%"}},a_=t_(()=>e("div",{class:"b-line p-3 fs-4"},"\u62A5\u8868",-1)),l_={class:"flex-row flex align-items-center",style:{flex:"0 0 auto",margin:"10px 20px"}},o_={style:{flex:"0 0 300px","text-align":"right",display:"flex"}},i_=ie('<div class="flex-row flex report t-line" style="flex:1;" data-v-6322a232><div style="flex:0 0 200px;" class="r-line" data-v-6322a232><div class="report-menu active" data-v-6322a232> \u5E38\u7528\u62A5\u8868 </div><div class="report-menu" data-v-6322a232> \u9700\u6C42\u5206\u6790 </div><div class="report-menu" data-v-6322a232> \u7F3A\u9677\u5206\u6790 </div><div class="report-menu" data-v-6322a232> \u4EFB\u52A1\u5206\u6790 </div><div class="report-menu" data-v-6322a232> \u5DE5\u65F6\u62A5\u8868 </div></div><div style="flex:1;margin:10px 20px;" class="flex-column flex" data-v-6322a232><div class="report-item report-title" data-v-6322a232>\u5E38\u7528\u62A5\u8868</div><div class="report-item flex-row flex" data-v-6322a232><div style="flex:0 0 auto;color:#CD950C;" data-v-6322a232><i class="bi bi-bar-chart-line" data-v-6322a232></i></div><div style="flex:0 0 auto;margin-left:15px;" data-v-6322a232> \u9700\u6C42\u72B6\u6001\u5206\u5E03 </div></div><div class="report-item flex-row flex" data-v-6322a232><div style="flex:0 0 auto;color:#A020F0;" data-v-6322a232><i class="bi bi-bar-chart-line" data-v-6322a232></i></div><div style="flex:0 0 auto;margin-left:15px;" data-v-6322a232> \u7F3A\u9677\u72B6\u6001\u5206\u5E03 </div></div><div class="report-item flex-row flex" data-v-6322a232><div style="flex:0 0 auto;color:#CD1076;" data-v-6322a232><i class="bi bi-bar-chart-line" data-v-6322a232></i></div><div style="flex:0 0 auto;margin-left:15px;" data-v-6322a232> \u4EFB\u52A1\u72B6\u6001\u5206\u5E03 </div></div><div class="report-item flex-row flex" data-v-6322a232><div style="flex:0 0 auto;color:#1e7e34;" data-v-6322a232><i class="bi bi-bar-chart-line" data-v-6322a232></i></div><div style="flex:0 0 auto;margin-left:15px;" data-v-6322a232> \u6BCF\u65E5\u5DE5\u65F6\u65E5\u5FD7\u62A5\u8868 </div></div></div></div>',1),n_={setup(l){return(a,o)=>(d(),p("div",s_,[a_,e("div",l_,[e("div",o_,[f(Q,{placeholder:"\u641C\u7D22\u62A5\u8868"})])]),i_]))}};var r_=D(n_,[["__scopeId","data-v-6322a232"]]);const d_=l=>(H("data-v-0e46db20"),l=l(),F(),l),c_={class:"flex-row flex"},u_={class:"flex-row flex assign align-items-center py-2 pe-4 pointer","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},p_=["src"],__={style:{"margin-left":"10px"},class:"flex-column flex"},m_={style:{"text-align":"left",color:"#363636"}},f_=d_(()=>e("div",{style:{"text-align":"left",color:"#999999","font-size":"12px"}},"\u9879\u76EE\u8D1F\u8D23\u4EBA",-1)),h_={class:"dropdown-menu border-0 jiBox",style:{"overflow-y":"auto","overflow-x":"hidden",position:"relative"}},x_={style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},v_={props:{user:Object,projectMembers:Array},setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,project:o.params.project});C(()=>{});let i=n=>{let r={uuid:n};a.post(a.urls.project_change_assign.format(t.team,t.project),r).then(function(c){c.data.code===200&&(a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a.bus.emit("updateProjectInfo",t.project))}).catch(function(c){a.bus.emit("alertDanger",c.response.data.errcode)})};return(n,r)=>(d(),p("div",c_,[e("div",u_,[e("div",null,[e("img",{src:l.user.avatar,style:{height:"30px",width:"30px","border-radius":"30px"}},null,8,p_)]),e("div",__,[e("div",m_,y(l.user.name),1),f_])]),e("div",h_,[f(Q,{class:"px-2",placeholder:"\u641C\u7D22\u9879\u76EE\u8D1F\u8D23\u4EBA"}),e("div",x_,[(d(!0),p($,null,M(l.projectMembers,c=>(d(),p("div",{class:"mt-2",key:c.uuid},[f(ye,{onSubmit:s(i),class:"px-2 py-1 status-item",user:c,selected:c.uuid===l.user.uuid,hasEmail:!0},null,8,["onSubmit","user","selected"])]))),128))])])]))}};var g_=D(v_,[["__scopeId","data-v-0e46db20"]]);const Fe=l=>(H("data-v-c7b33b04"),l=l(),F(),l),y_={class:"flex-row flex align-items-center h-100 pointer"},b_=Fe(()=>e("i",{class:"bi bi-chevron-expand"},null,-1)),$_={class:"dropdown-menu border-0 jiBox",style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},w_=Fe(()=>e("div",{class:"pb-2 px-2 b-line"},"\u66F4\u6539\u9879\u76EE\u72B6\u6001",-1)),k_=["onClick"],j_={key:0,class:"flex-row flex flex-fill align-items-center"},S_=Fe(()=>e("div",{style:{flex:"1","min-width":"50px"}},null,-1)),C_=Fe(()=>e("div",{style:{flex:"0 0 auto",display:"flex","align-items":"center","text-align":"right"}},[e("i",{class:"bi bi-check"})],-1)),I_=[S_,C_],T_={props:{team:String,project:String,name:String,color:String},setup(l){const a=l,{proxy:o}=T();z(),w();let t=k({statuses:[{uuid:"to_do",name:"\u672A\u5F00\u59CB"},{uuid:"in_progress",name:"\u8FDB\u884C\u4E2D"},{uuid:"done",name:"\u5DF2\u5B8C\u6210"}]}),i=c=>{let u={category:c};o.post(o.urls.project_change_status.format(a.team,a.project),u).then(function(_){_.data.code===200&&(o.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),o.bus.emit("updateProjectInfo",a.project))}).catch(function(_){o.bus.$emit("alertDanger",_.response.data.errcode)})},n=Y(()=>{let c=a.name;switch(a.name){case"1":case"to_do":c="\u672A\u5F00\u59CB";break;case"2":case"in_progress":c="\u8FDB\u884C\u4E2D";break;case"3":case"done":c="\u5DF2\u5B8C\u6210";break}return c}),r=Y(()=>{let c=a.color;switch(a.color){case"1":c="to_do";break;case"2":c="in_progress";break;case"3":c="done";break}return c});return(c,u)=>(d(),p("div",y_,[e("div",{class:L(["status",s(r)]),"data-bs-toggle":"dropdown","data-bs-offset":"0,2"},[V(y(s(n))+" ",1),b_],2),e("div",$_,[w_,(d(!0),p($,null,M(s(t).statuses,_=>(d(),p("div",{key:_.uuid},[e("div",{onClick:m=>s(i)(_.uuid),class:L(["status-item flex-row flex align-items-center p-2",{selected:s(r)===_.uuid}])},[e("div",null,y(_.name),1),s(r)===_.uuid?(d(),p("div",j_,I_)):S("",!0)],10,k_)]))),128))])]))}};var z_=D(T_,[["__scopeId","data-v-c7b33b04"]]);const M_={style:{"margin-right":"5px"}},D_={style:{flex:"0 0 40px",border:"1px solid #e8e8e8","border-radius":"40px",height:"40px",width:"40px"},class:"flex-row flex align-items-center justify-content-center"},L_=["src"],B_={props:["pic"],setup(l){return(a,o)=>(d(),p("div",M_,[e("div",D_,[e("img",{src:l.pic,style:{height:"30px",width:"30px","border-radius":"30px"}},null,8,L_)])]))}};const oe=l=>(H("data-v-fbd9d016"),l=l(),F(),l),P_={class:"flex-fill"},V_={class:"flex-row flex flex-fill align-items-center"},U_={style:{flex:"1"},class:"flex-row flex align-items-center"},H_=oe(()=>e("div",{class:"fs-c10"},"\u9879\u76EE\u8FDB\u5EA6",-1)),F_={class:"progress flex-fill mx-3",style:{height:"28px"}},E_={style:{flex:"0 0 auto"}},N_={class:"task-stat jiBox flex-row flex"},q_={class:"task-stat-item"},A_={class:"flex-column flex"},R_=oe(()=>e("div",{class:"task-stat-icon"},[e("svg",{t:"1602158573955",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"27927",width:"30",height:"30"},[e("path",{d:"M512.718 1.549C230.377 1.549 1.494 230.432 1.494 512.774S230.377 1024 512.718 1024s511.224-228.884 511.224-511.226S795.06 1.55 512.718 1.55z m0 971.325c-254.108 0-460.102-205.996-460.102-460.102S258.61 52.67 512.718 52.67 972.82 258.665 972.82 512.772 766.826 972.874 512.718 972.874z m232.06-496.332c-79.556-54.133-223.815-135.157-305.959-185.36-33.678-21.239-61.996-12.71-64.717 24.8-1.971 100.468 0 294.317 0 396.523 1.711 38.08 35.282 43.102 64.419 27.812 82.05-49.71 223.071-135.147 305.536-185.11-0.54-0.327 62.614-35.06 0.72-78.665z","p-id":"27928",fill:"#1296db"})])],-1)),O_={class:"task-stat-body flex-column flex align-items-center"},G_={class:"task-stat-count"},W_=oe(()=>e("div",{class:"task-stat-text"},"\u672A\u5F00\u59CB",-1)),K_={class:"task-stat-item"},J_={class:"flex-column flex"},Y_=oe(()=>e("div",{class:"task-stat-icon"},[e("svg",{t:"1602158832799",class:"icon",viewBox:"0 0 1098 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"29074",width:"30",height:"30"},[e("path",{d:"M549.47 851.316c-38.634 0-69.82-31.185-69.82-69.818V184.32c0-38.633 31.186-69.818 69.82-69.818s69.817 31.185 69.817 69.818v596.945c0 38.633-31.185 70.051-69.818 70.051z m239.708-186.181c-38.633 0-69.818-31.186-69.818-69.819V370.27c0-38.633 31.185-69.818 69.818-69.818s69.818 31.185 69.818 69.818v225.047c0 38.633-31.185 69.819-69.818 69.819z m239.942-31.884c-38.633 0-69.818-31.186-69.818-69.818V402.385c0-38.632 31.185-69.818 69.818-69.818s69.818 31.186 69.818 69.818v161.048c0 38.632-31.185 69.818-69.818 69.818z m-719.36 31.884c-38.633 0-69.818-31.186-69.818-69.819V370.27c0-38.633 31.185-69.818 69.818-69.818s69.818 31.185 69.818 69.818v225.047c0 38.633-31.418 69.819-69.818 69.819zM69.818 633.25C31.185 633.25 0 602.065 0 563.433V402.385c0-38.632 31.185-69.818 69.818-69.818s69.818 31.186 69.818 69.818v161.048c0 38.632-31.185 69.818-69.818 69.818z","p-id":"29075",fill:"#d4237a"})])],-1)),Q_={class:"task-stat-body flex-column flex align-items-center"},Z_={class:"task-stat-count"},X_=oe(()=>e("div",{class:"task-stat-text"},"\u8FDB\u884C\u4E2D",-1)),em={class:"task-stat-item"},tm={class:"flex-column flex"},sm=oe(()=>e("div",{class:"task-stat-icon"},[e("svg",{t:"1602158959005",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"30986",width:"30",height:"30"},[e("path",{d:"M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0z m273.066667 388.266667l-298.666667 298.666666c-21.333333 21.333333-59.733333 21.333333-81.066667 0l-170.666666-166.4c-21.333333-21.333333-21.333333-59.733333 0-81.066666s59.733333-21.333333 81.066666 0l123.733334 123.733333 260.266666-256c21.333333-21.333333 59.733333-21.333333 81.066667 0 29.866667 21.333333 29.866667 64 4.266667 81.066667z",fill:"#3FC591","p-id":"30987"})])],-1)),am={class:"task-stat-body flex-column flex align-items-center"},lm={class:"task-stat-count"},om=oe(()=>e("div",{class:"task-stat-text"},"\u5DF2\u5B8C\u6210",-1)),im={class:"flex-row flex flex-fill mt-4"},nm={class:"flex-fill w-50 p-4 jiBox"},rm=oe(()=>e("div",{class:"fs-c10"}," \u9879\u76EE\u7B80\u4ECB\uFF1A ",-1)),dm=oe(()=>e("div",{style:{color:"#98a6ad","padding-top":"10px",height:"200px"}},[V(" Jitask \u662F\u4E00\u6B3E\u7CBE\u7B80\u3001\u591A\u79DF\u6237\u7684\u9879\u76EE\u7BA1\u7406\u8F6F\u4EF6\uFF0C\u63D0\u4F9B\u4EFB\u52A1\u7BA1\u7406\u3001\u6587\u6863\u7BA1\u7406\u4E24\u5927\u677F\u5757\uFF0C\u5185\u7F6E\u6743\u9650\u7BA1\u7406\uFF0C\u9879\u76EE\u62A5\u8868\uFF0C\u9879\u76EE\u914D\u7F6E\uFF0C\u9700\u6C42\u4EFB\u52A1\u5173\u8054\u7B49\u529F\u80FD\uFF0C\u76EE\u524D\u4EC5\u652F\u6301saas\u90E8\u7F72\u3002\u6211\u4EEC\u7684\u8FFD\u6C42\uFF1A\u5C0F\u800C\u7CBE\uFF0C\u4E0D\u505A\u591A\u4F59\u529F\u80FD\u7684\u3002\u4F7F\u547D\uFF1A\u7528\u597D\u7CFB\u7EDF\uFF0C\u5C11\u7528\u7CFB\u7EDF\uFF0C\u4E0D\u7C98\u6EDE\u7528\u6237\u3002 "),e("br"),e("br"),V(" \u7CFB\u7EDF\u4F7F\u7528 Golang + Vue 3.x + bootstrap 5.x \u5F00\u53D1\uFF0C\u7531 Jimmy \u72EC\u81EA\u5F00\u53D1\uFF0C\u7528\u65F6\u8FD1\u4E24\u5E74\uFF0C\u4E3A\u8131\u4EA7\u671F\u95F4\u548C\u95F2\u6687\u65F6\u95F4\u5F00\u53D1\uFF0C\u6570\u636E\u5E93\u4F7F\u7528 Mysql 8.x\uFF0CRedis 5.x\u3002\u4F7F\u7528\u963F\u91CC\u4E91 docker-compose \u516C\u6709\u90E8\u7F72\u3002 "),e("br"),e("br"),V(" \u6B22\u8FCE\u4F60\u4EEC\u4F53\u9A8C\uFF0C\u60A8\u7684\u5B9D\u8D35\u610F\u89C1\u662F\u6211\u6210\u957F\u7684\u6307\u5357\u3002 ")],-1)),cm={class:"project-overview-time flex-row flex"},um={style:{flex:"1"}},pm={style:{flex:"1"},class:"py-2"},_m=oe(()=>e("div",{class:"ms-1"},"\u5F00\u59CB\u65F6\u95F4",-1)),mm={class:"flex-row flex align-item-center w-50 pointer field-cell-time field-edit"},fm={style:{flex:"1"},class:"py-2"},hm=oe(()=>e("div",{class:"ms-1"},"\u7ED3\u675F\u65F6\u95F4",-1)),xm={class:"flex-row flex align-item-center w-50 pointer field-cell-time field-edit"},vm={class:"project-overview-member"},gm=oe(()=>e("div",{class:"fs-c10"},"\u9879\u76EE\u6210\u5458\uFF1A",-1)),ym={class:"flex-row flex",style:{padding:"10px 0 0 0"}},bm=ie('<div style="width:1.5rem;" data-v-fbd9d016></div><div class="flex-column flex flex-fill w-50 jiBox p-4" data-v-fbd9d016><div class="fs-c10" data-v-fbd9d016>\u5DE5\u4F5C\u9879\u7C7B\u578B\u7EDF\u8BA1</div><div class="pt-3" style="height:420px;" data-v-fbd9d016><canvas id="projectChart" data-v-fbd9d016></canvas></div></div>',2),$m={setup(l){const{proxy:a}=T();z();let o=w(),t=W(null),i=W(null),n=k({team:o.params.team,project:o.params.project,chartData:{labels:["\u9700\u6C42","\u4EFB\u52A1","\u7F3A\u9677"],datasets:[{label:"\u672A\u5F00\u59CB",barPercentage:.6,backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"\u8FDB\u884C\u4E2D",barPercentage:.6,backgroundColor:"rgba(54, 162, 235, 0.5)"},{label:"\u5DF2\u5B8C\u6210",barPercentage:.6,backgroundColor:"rgba(255, 206, 86, 0.5)"}]},members:[]});const r=ft("project");let c={type:"bar",data:null,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{stacked:!0},y:{beginAtZero:!0,stacked:!0}}}},u=null;C(()=>{a.bus.emit("updateProjectInfo",n.project),m(),_(),u=new Chart(document.getElementById("projectChart"),c)});let _=()=>{a.post(a.urls.project_members.format(n.team,n.project)).then(function(b){n.members=b.data})},m=()=>{let b=a.urls.status_data_list.format(n.team,n.project);a.get(b).then(function(v){n.chartData.labels=v.data.labels,n.chartData.datasets[0].data=v.data.datas[0],n.chartData.datasets[1].data=v.data.datas[1],n.chartData.datasets[2].data=v.data.datas[2],u.data=n.chartData,u.update()})},h=()=>{if(t.value){let b={plan_start_time:t.value.getTime()};a.post(a.urls.project_plan_update.format(n.team,n.project),b).then(function(v){v.data.code===200&&(a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a.bus.emit("updateProjectInfo",n.project))}).catch(function(v){a.bus.emit("alertDanger",v.response.data.errcode)})}},x=()=>{if(i.value){let b={plan_end_time:i.value.getTime()};a.post(a.urls.project_plan_update.format(n.team,n.project),b).then(function(v){v.data.code===200&&(a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a.bus.emit("updateProjectInfo",n.project))}).catch(function(v){a.bus.emit("alertDanger",v.response.data.errcode)})}};K(()=>r.value,()=>{g()});let g=()=>{if(r.value.plan_start_time){let b=new Date(r.value.plan_start_time);t.value=b}if(r.value.plan_end_time){let b=new Date(r.value.plan_end_time);i.value=b}};return(b,v)=>(d(),p("div",P_,[e("div",V_,[e("div",U_,[H_,e("div",F_,[e("div",{class:"progress-bar progress-bar-striped bg-warning fs-c9",role:"progressbar",style:ke("width:"+s(r).progressRate+"%"),"aria-valuemax":"100"},y(s(r).progressRate)+"%",5)]),e("div",E_,[f(z_,{name:s(r).status_uuid,style:{"margin-left":"5px"},color:s(r).status_uuid,team:s(n).team,project:s(r).uuid},null,8,["name","color","team","project"])])])]),e("div",N_,[e("div",q_,[e("div",A_,[R_,e("div",O_,[e("div",G_,y(s(r).to_do_count),1),W_])])]),e("div",K_,[e("div",J_,[Y_,e("div",Q_,[e("div",Z_,y(s(r).in_progress_count),1),X_])])]),e("div",em,[e("div",tm,[sm,e("div",am,[e("div",lm,y(s(r).done_count),1),om])])])]),e("div",im,[e("div",nm,[rm,dm,e("div",cm,[e("div",um,[f(g_,{user:s(r).assign,projectMembers:s(n).members},null,8,["user","projectMembers"])]),e("div",pm,[_m,e("div",mm,[f(s(qe),{modelValue:s(t),"onUpdate:modelValue":[v[0]||(v[0]=j=>le(t)?t.value=j:t=j),s(h)],clearable:!1},null,8,["modelValue","onUpdate:modelValue"])])]),e("div",fm,[hm,e("div",xm,[f(s(qe),{modelValue:s(i),"onUpdate:modelValue":[v[1]||(v[1]=j=>le(i)?i.value=j:i=j),s(x)],clearable:!1},null,8,["modelValue","onUpdate:modelValue"])])])]),e("div",vm,[gm,e("div",ym,[(d(!0),p($,null,M(s(n).members,j=>(d(),A(B_,{pic:j.avatar,key:j.uuid},null,8,["pic"]))),128))])])]),bm])]))}};var wm=D($m,[["__scopeId","data-v-fbd9d016"]]);const xe=l=>(H("data-v-0d1a468b"),l=l(),F(),l),km=xe(()=>e("div",{class:"com-line-header t-line"},[e("div",{class:"com-line-header-title"},"\u5BFC\u822A\u81EA\u5B9A\u4E49")],-1)),jm={class:"flex-row flex com",style:{"margin-top":"30px","background-color":"#f8f8f8",padding:"11px 11px 1px 11px","flex-wrap":"wrap"}},Sm=["onClick"],Cm=xe(()=>e("div",{style:{flex:"0 0 auto",display:"flex"}},[e("svg",{t:"1602764784806",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"50821",width:"15",height:"15"},[e("path",{d:"M329.1136 793.6c63.488 0 115.2 51.712 115.2 115.2S392.6016 1024 329.1136 1024 214.016 972.288 214.016 908.8 265.6256 793.6 329.1136 793.6z m349.2864 0c63.488 0 115.2 51.712 115.2 115.2S741.888 1024 678.4 1024 563.2 972.288 563.2 908.8 614.912 793.6 678.4 793.6z m-349.184-396.8c63.488 0 115.0976 51.712 115.0976 115.2s-51.712 115.2-115.2 115.2S214.016 575.488 214.016 512s51.712-115.2 115.2-115.2z m349.184 0c63.488 0 115.2 51.712 115.2 115.2s-51.712 115.2-115.2 115.2S563.2 575.488 563.2 512s51.712-115.2 115.2-115.2zM329.216 0c63.488 0 115.0976 51.712 115.0976 115.2S392.6016 230.4 329.1136 230.4 214.016 178.688 214.016 115.2 265.6256 0 329.1136 0z m349.184 0c63.488 0 115.2 51.712 115.2 115.2S741.888 230.4 678.4 230.4 563.2 178.688 563.2 115.2 614.912 0 678.4 0z",fill:"#8a8a8a","p-id":"50822"})])],-1)),Im={class:"com-name"},Tm=xe(()=>e("div",{class:"com-line-header t-line"},[e("div",{class:"com-line-header-title"},"\u7EC4\u4EF6\u8BE6\u60C5")],-1)),zm={class:"tab-title flex-row flex mt-4 b-line"},Mm=["onClick"],Dm={class:"tab-content py-4"},Lm={style:{width:"420px"}},Bm={class:"flex-row flex align-items-center"},Pm=xe(()=>e("div",{style:{"text-align":"right",flex:"0 0 100px"}},[e("span",{style:{color:"#ff0000"}},"*"),V("\u7EC4\u4EF6\u663E\u793A\u540D\u79F0 ")],-1)),Vm={style:{"margin-left":"10px",flex:"1"}},Um={class:"flex-row flex align-items-center",style:{"margin-top":"20px"}},Hm=xe(()=>e("div",{style:{"text-align":"right",flex:"0 0 100px"}}," \u7EC4\u4EF6\u540D\u79F0 ",-1)),Fm={style:{"margin-left":"10px",flex:"1"}},Em={class:"flex-row flex align-items-center",style:{"margin-top":"20px"}},Nm=xe(()=>e("div",{style:{"text-align":"right",flex:"0 0 100px"}}," \u7EC4\u4EF6\u63CF\u8FF0 ",-1)),qm={style:{"margin-left":"10px",flex:"1",overflow:"hidden"}},Am={class:"flex-row flex align-items-center",style:{"margin-top":"20px"}},Rm=xe(()=>e("div",{style:{"text-align":"right",flex:"0 0 100px"}},null,-1)),Om={style:{"margin-left":"10px",flex:"1",overflow:"hidden"}},Gm={style:{}},Wm={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,project:o.params.project,tabTitle:["\u57FA\u7840\u8BBE\u7F6E"],cur:0,selectedComUUID:"",selectedComTempUUID:"",name:"",desc:"",disabled:!0});const i=ft("components");C(()=>{i.value&&i.value.length>0&&n(i.value[0])}),K(()=>i.value,()=>{i.value&&i.value.length>0&&(t.items=i.value,n(i.value[0]))});let n=u=>{t.selectedComUUID=u.uuid,t.selectedComTempUUID=u.template_uuid,t.name=u.name,t.desc=u.desc},r=()=>{t.disabled=!1},c=()=>{a.post(a.urls.component_update.format(t.team,t.project,t.selectedComUUID),{name:t.name,desc:t.desc}).then(function(u){u.data.code===200&&(t.disabled=!0,a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a.bus.emit("updateComponents"))}).catch(function(u){a.bus.emit("alertDanger",u.response.data.errcode)})};return(u,_)=>(d(),p($,null,[f(Z,{title:"\u7EC4\u5EFA\u914D\u7F6E",desc:"\u4F60\u53EF\u4EE5\u901A\u8FC7\u62D6\u653E\u7EC4\u4EF6\u5E93\u4E2D\u7684\u7EC4\u4EF6\u6765\u81EA\u5B9A\u4E49\u754C\u9762\u7684\u5BFC\u822A\u680F\u3002\u4F60\u4E5F\u53EF\u4EE5\u8BBE\u7F6E\u6BCF\u4E00\u4E2A\u7EC4\u4EF6\uFF0C\u4F7F\u5176\u62E5\u6709\u4E2A\u6027\u5316\u7684\u914D\u7F6E\u3002"}),km,e("div",jm,[(d(!0),p($,null,M(s(i),m=>(d(),p("div",{style:{width:"115px"},class:L(["com-box-border align-items-center flex-row flex",{active:s(t).selectedComUUID===m.uuid}]),key:m.uuid,onClick:h=>{s(n)(m)}},[Cm,e("div",Im,y(m.name),1)],10,Sm))),128))]),Tm,e("div",zm,[(d(!0),p($,null,M(s(t).tabTitle,(m,h)=>(d(),p("div",{onClick:x=>s(t).cur=h,class:L({active:s(t).cur===h}),key:h},y(m),11,Mm))),128))]),e("div",Dm,[N(e("div",Lm,[e("div",Bm,[Pm,e("div",Vm,[N(e("input",{class:"form-control","onUpdate:modelValue":_[0]||(_[0]=m=>s(t).name=m),onChange:_[1]||(_[1]=(...m)=>s(r)&&s(r)(...m))},null,544),[[O,s(t).name]])])]),e("div",Um,[Hm,e("div",Fm,y(u.filters.formatComponentTemplate(s(t).selectedComTempUUID)),1)]),e("div",Em,[Nm,e("div",qm,[N(e("textarea",{"onUpdate:modelValue":_[2]||(_[2]=m=>s(t).desc=m),rows:"3","max-rows":"3",style:{overflow:"hidden"},class:"form-control",onChange:_[3]||(_[3]=(...m)=>s(r)&&s(r)(...m))},null,544),[[O,s(t).desc]])])]),e("div",Am,[Rm,e("div",Om,[f(se,{disabled:s(t).disabled,title:"\u66F4\u65B0\u4FE1\u606F",onSubmit:s(c)},null,8,["disabled","onSubmit"])])])],512),[[Ae,s(t).cur===0]]),N(e("div",Gm,"\xA0",512),[[Ae,s(t).cur===1]])])],64))}};var Km=D(Wm,[["__scopeId","data-v-0d1a468b"]]);const Jm={class:"align-items-center py-2"},Ym={key:0,style:{color:"#1677FF"}},Qm=e("i",{class:"bi bi-briefcase-fill fs-c12"},null,-1),Zm=[Qm],Xm={key:1,style:{color:"#F7B621"}},e2=e("i",{class:"bi bi-bug-fill fs-c12"},null,-1),t2=[e2],s2={key:2,style:{color:"#3FD698"}},a2=e("i",{class:"bi bi-receipt fs-c12"},null,-1),l2=[a2],o2={key:3,style:{color:"#DAA520"}},i2=e("i",{class:"bi bi-flower2 fs-c12"},null,-1),n2=[i2],r2={key:4,style:{color:"#556B2F"}},d2=e("i",{class:"bi bi-flower1 fs-c12"},null,-1),c2=[d2],u2={key:5,style:{color:"#BC8F8F"}},p2=e("i",{class:"bi bi-globe fs-c12"},null,-1),_2=[p2],m2={key:6,style:{color:"#8B0000"}},f2=e("i",{class:"bi bi-bell fs-c12"},null,-1),h2=[f2],Dt={props:["to","name","icon","scale"],setup(l){return(a,o)=>(d(),p("div",Jm,[l.icon==="1"?(d(),p("div",Ym,Zm)):S("",!0),l.icon==="2"?(d(),p("div",Xm,t2)):S("",!0),l.icon==="7"?(d(),p("div",s2,l2)):S("",!0),l.icon==="9"?(d(),p("div",o2,n2)):S("",!0),l.icon==="10"?(d(),p("div",r2,c2)):S("",!0),l.icon==="13"?(d(),p("div",u2,_2)):S("",!0),l.icon==="15"?(d(),p("div",m2,h2)):S("",!0)]))}};const at=l=>(H("data-v-2397d5e7"),l=l(),F(),l),x2={class:"px-4 pb-4"},v2={class:"flex-row flex mt-3"},g2={style:{flex:"1"}},y2={class:"t-line l-line r-line mt-3"},b2={class:"flex-row flex align-items-center ms-3"},$2={class:"flex-column flex ms-3"},w2={class:"text-black-50 mt-2"},k2=at(()=>e("span",{style:{margin:"0 10px",color:"#999999"}}," | ",-1)),j2={class:"flex-row flex flex-fill align-items-center justify-content-end"},S2={class:"flex-row flex task-attr align-items-center",style:{"margin-right":"30px"}},C2=at(()=>e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1602939503677",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"59063",width:"16",height:"16"},[e("path",{d:"M510.81 959L31.93 754.63C12.77 741.86 0 722.7 12.77 703.55 19.15 684.4 44.7 678 63.85 684.4l453.34 191.54L970.52 684.4c19.16-6.39 44.7 0 51.09 19.15s0 44.7-19.16 51.08z m0 0","p-id":"59064",fill:"#515151"}),e("path",{d:"M510.81 729.09L31.93 524.77C12.77 518.38 0 492.84 12.77 473.69c6.38-19.16 25.54-25.54 44.69-19.16l453.35 191.56 453.33-191.56c19.16-6.38 44.7 0 51.08 19.16s0 44.69-19.15 51.08z m0 0","p-id":"59065",fill:"#515151"}),e("path",{d:"M510.81 499.23L0 282.14 510.81 65.05l510.8 217.09z m0 0","p-id":"59066",fill:"#515151"})])],-1)),I2={style:{flex:"0 0 auto","margin-left":"5px"}},T2=V("\u5DE5\u4F5C\u9879\u5C5E\u6027"),z2={class:"flex-row flex task-attr align-items-center",style:{"margin-right":"30px"}},M2=at(()=>e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1603325433305",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10548",width:"16",height:"16"},[e("path",{d:"M426.496 170.496h427.008v256H768V256H426.496v170.496H0V0h426.496zM597.504 597.504V768H256v-170.496H170.496v256h426.496V1024H1024v-426.496h-426.496z m340.992 340.992h-256v-256h256v256z","p-id":"10549"})])],-1)),D2={style:{flex:"0 0 auto","margin-left":"5px"}},L2=V("\u5DE5\u4F5C\u9879\u5DE5\u4F5C\u6D41"),B2={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,project:o.params.project,items:[]});C(()=>{i()});let i=()=>{a.get(a.urls.project_template.format(t.team,t.project)).then(function(n){t.items=n.data})};return(n,r)=>{const c=R("router-link");return d(),p($,null,[f(Z,{title:"\u5DE5\u4F5C\u9879\u7C7B\u578B",desc:"\u5DE5\u4F5C\u9879\u7C7B\u578B\u7528\u4E8E\u5728\u540C\u4E00\u4E2A\u9879\u76EE\u4E0B\u4F7F\u7528\u4E0D\u540C\u7C7B\u578B\u7684\u5DE5\u4F5C\u9879\uFF0C\u4E0D\u540C\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u53EF\u4EE5\u5B9A\u4E49\u4E0D\u540C\u7684\u5C5E\u6027\u5B57\u6BB5\u3001\u6743\u9650\u548C\u5DE5\u4F5C\u6D41\u7B49\u3002\u9879\u76EE\u4E0B\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u914D\u7F6E\u7684\u4FEE\u6539\u4E0D\u4F1A\u540C\u6B65\u5230\u914D\u7F6E\u4E2D\u5FC3\u4E0B\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u4E2D\u3002"}),e("div",x2,[e("div",v2,[e("div",g2,[f(Q,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u7C7B\u578B"})])]),e("div",y2,[(d(!0),p($,null,M(s(t).items,u=>(d(),p("div",{class:"flex-row flex b-line py-2",key:u.uuid},[e("div",b2,[f(Dt,{icon:u.icon.toString()},null,8,["icon"]),e("div",$2,[e("div",null,y(u.name),1),e("div",w2,[V(y(u.field_count)+" \u5DE5\u4F5C\u9879\u5C5E\u6027",1),k2,V(y(u.status_count)+" \u5DE5\u4F5C\u9879\u72B6\u6001",1)])])]),e("div",j2,[e("div",S2,[C2,e("div",I2,[f(c,{to:{name:"ComponentIssueTypeDesigner",params:{team:s(t).team,project:s(t).project,com:"designer",attr:"issue_type_field",issue_type:u.uuid,title:u.name}}},{default:P(()=>[T2]),_:2},1032,["to"])])]),e("div",z2,[M2,e("div",D2,[f(c,{to:{name:"ComponentIssueTypeDesigner",params:{team:s(t).team,project:s(t).project,com:"designer",attr:"issue_type_flow",issue_type:u.uuid,title:u.name}}},{default:P(()=>[L2]),_:2},1032,["to"])])])])]))),128))])])],64)}}};var P2=D(B2,[["__scopeId","data-v-2397d5e7"]]);const V2={class:"flex-row flex align-items-center b-line px-4 py-3"},U2=e("div",{style:{flex:"1"}},[e("div",{class:"fs-c10"},"\u9879\u76EE\u4FE1\u606F"),e("div",{style:{color:"#999999"}},"\u5220\u9664\u9879\u76EE\u4E0B\u6240\u6709\u8D44\u6E90")],-1),H2={style:{flex:"0 0 100px","text-align":"right"}},F2={setup(l){z();let a=w();k({team:a.params.team,project:a.params.project});let o=()=>{};return(t,i)=>(d(),p("div",V2,[U2,e("div",H2,[e("button",{class:"btn btn-danger",onClick:i[0]||(i[0]=(...n)=>s(o)&&s(o)(...n))},"\u5220\u9664\u9879\u76EE")])]))}},E2={class:"flex-row flex align-items-center"},N2=["src"],q2={style:{"margin-left":"10px"}},A2={style:{"text-align":"left",color:"#363636"}},R2={props:{user:Object},setup(l){return(a,o)=>{var t,i;return d(),p("div",E2,[e("div",null,[e("img",{src:(t=l.user.avatar)!=null?t:"/images/default_avatar.jpg",style:{height:"20px",width:"20px","border-radius":"20px"}},null,8,N2)]),e("div",q2,[e("div",A2,y((i=l.user.name)!=null?i:"I am creator.")+" "+y(l.user.email?"("+l.user.email+")":""),1)])])}}},O2=e("div",{class:"px-4 py-3 b-line fs-c10"},"\u9879\u76EE\u4FE1\u606F",-1),G2={class:"p-4"},W2={style:{"margin-bottom":"20px"},class:"flex-row flex"},K2=e("div",{style:{flex:"0 0 120px"}},[e("label",null,"\u521B\u5EFA\u8005")],-1),J2={style:{flex:"0 0 300px"}},Y2=e("div",{style:{"margin-bottom":"20px"},class:"flex-row flex"},[e("div",{style:{flex:"0 0 120px"}},[e("label",null,"\u521B\u5EFA\u65F6\u95F4")]),e("div",{style:{flex:"0 0 300px"}}," 2019-01-01 12:12:12 ")],-1),Q2={style:{"margin-bottom":"20px"},class:"flex-row flex"},Z2=e("div",{style:{flex:"0 0 120px"}},[e("label",null,"\u9879\u76EE\u540D\u79F0")],-1),X2={style:{flex:"0 0 300px"}},ef={style:{"margin-bottom":"20px"},class:"flex-row flex"},tf=e("div",{style:{flex:"0 0 120px"}},[e("label")],-1),sf={style:{flex:"0 0 300px"}},af={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,project:o.params.project,name:"",disabled:!0,creator:{}});C(()=>{r()});let i=()=>{t.disabled=!1},n=()=>{a.post(a.urls.project_update.format(t.team,t.project),{name:t.name,uuid:t.project}).then(function(c){c.data.code===200&&(t.disabled=!0,a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a.bus.emit("updateProjectInfo",t.project))}).catch(function(c){a.bus.$emit("alertDanger",c.response.data.errcode)})},r=()=>{a.get(a.urls.project_get.format(t.team,t.project)).then(function(c){t.name=c.data.name,c.data.owner&&(t.creator=c.data.owner)})};return(c,u)=>(d(),p($,null,[O2,e("div",G2,[e("div",W2,[K2,e("div",J2,[f(R2,{user:s(t).creator},null,8,["user"])])]),Y2,e("div",Q2,[Z2,e("div",X2,[N(e("input",{class:"form-control",onChange:u[0]||(u[0]=(..._)=>s(i)&&s(i)(..._)),onKeydown:u[1]||(u[1]=(..._)=>s(i)&&s(i)(..._)),"onUpdate:modelValue":u[2]||(u[2]=_=>s(t).name=_)},null,544),[[O,s(t).name]])])]),e("div",ef,[tf,e("div",sf,[f(se,{disabled:s(t).disabled,title:"\u66F4\u65B0\u4FE1\u606F",onSubmit:s(n)},null,8,["disabled","onSubmit"])])])])],64))}},lf={class:"px-4 pb-4"},of={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,project:o.params.project,maps:{browse:{code:1102,permission:"browse_project",title:"\u67E5\u770B\u9879\u76EE",desc:"\u5141\u8BB8\u6210\u5458\u6D4F\u89C8\u5F53\u524D\u9879\u76EE\uFF0C\u5305\u62EC\u5DE5\u4F5C\u9879\uFF0C\u7B5B\u9009\u5668\uFF0C\u62A5\u8868\u7B49\u4FE1\u606F",groups:[],roles:[],members:[],in_roles:["everyone","project_assign","project_member"]},manage:{code:1101,permission:"manage_project",title:"\u7BA1\u7406\u9879\u76EE",desc:"\u7BA1\u7406\u5F53\u524D\u9879\u76EE\u5E76\u66F4\u65B0\u9879\u76EE\u7684\u914D\u7F6E\u4FE1\u606F",groups:[],roles:[],members:[],in_roles:["everyone","project_assign","project_member"]},reports:{code:1104,permission:"view_project_reports",title:"\u67E5\u770B\u9879\u76EE\u62A5\u8868",desc:"\u5141\u8BB8\u6210\u5458\u67E5\u770B\u5F53\u524D\u9879\u76EE\u7684\u6570\u636E\u62A5\u8868",groups:[],roles:[],members:[],in_roles:["everyone","project_assign","project_member"]}},role_members:[],loaded:!1,data:{permission_rule:{context_type:"project",context_param:{}}}});C(()=>{i(),t.data={permission_rule:{context_type:"project",context_param:{project_uuid:t.project}}}});let i=()=>{let r=[];for(let c in t.maps)r.push(t.maps[c].code);a.post(a.urls.project_user_domain_group.format(t.team,t.project),r).then(function(c){for(let u in t.maps){let _=t.maps[u];_.groups=[]}if(c.data&&c.data.length>0)for(let u in t.maps){let _=t.maps[u];for(let m=0;m<c.data.length;m++){let h=c.data[m];if(h.permission===_.code){_.groups=h.groups;break}}}n()})},n=()=>{a.post(a.urls.project_members.format(t.team,t.project)).then(function(r){for(let c in t.maps){let u=t.maps[c];u.members=[];for(let _=0;_<r.data.length;_++){let m=r.data[_];m.type="single_user",u.members.push(m)}}t.loaded=!0})};return(r,c)=>(d(),p($,null,[f(Z,{title:"\u9879\u76EE\u6743\u9650",desc:"\u9879\u76EE\u6743\u9650\u53EF\u4EE5\u7528\u4E8E\u5B9A\u5236\u9879\u76EE\u7684\u64CD\u4F5C\u6743\u9650\u63A7\u5236\u3002"}),e("div",lf,[s(t).loaded?(d(),A(te,{key:0,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.browse,onLoadPermissionData:s(i)},null,8,["role_members","data","group","onLoadPermissionData"])):S("",!0),s(t).loaded?(d(),A(te,{key:1,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.manage,onLoadPermissionData:s(i)},null,8,["role_members","data","group","onLoadPermissionData"])):S("",!0),s(t).loaded?(d(),A(te,{key:2,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.reports,onLoadPermissionData:s(i)},null,8,["role_members","data","group","onLoadPermissionData"])):S("",!0)])],64))}};const nf={class:"badge badge-sys"},rf={props:{name:{default:"\u7CFB\u7EDF"}},setup(l){return(a,o)=>(d(),p("span",nf,y(l.name),1))}};var re=D(rf,[["__scopeId","data-v-bbc6798a"]]);const df={class:"px-4"},cf={class:"table table-hover"},uf=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-6"},"\u5C5E\u6027\u540D\u79F0"),e("th",{scope:"col",class:"col-5"},"\u5C5E\u6027\u7C7B\u578B"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),pf={class:"flex-row flex align-items-center"},_f={style:{flex:"0 0 auto"}},mf={key:0,class:"flex-row flex align-items-center",style:{"margin-left":"5px"}},ff={key:0,style:{width:"30px",height:"2px"}},hf=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),xf=[hf],vf={key:1},gf={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,project:o.params.project,items:[],desc:"\u9879\u76EE\u5C5E\u6027\u8BBE\u7F6E\u53EF\u4EE5\u8BBE\u7F6E\u9879\u76EE\u6982\u89C8\u9875\u9762\u9700\u8981\u663E\u793A\u7684\u9879\u76EE\u81EA\u5B9A\u4E49\u5C5E\u6027\u3002"});C(()=>{i(!0)});let i=()=>{a.post(a.urls.project_field.format(t.team),{project:t.project}).then(function(n){t.items=n.data})};return(n,r)=>(d(),p($,null,[f(Z,{title:"\u9879\u76EE\u5C5E\u6027",desc:s(t).desc},null,8,["desc"]),f(Q,{style:{margin:"15px 20px"},placeholder:"\u641C\u7D22\u9879\u76EE\u5C5E\u6027"}),e("div",df,[e("table",cf,[uf,e("tbody",null,[(d(!0),p($,null,M(s(t).items,c=>(d(),p("tr",{key:c.uuid},[e("td",null,[e("div",pf,[e("div",_f,y(c.name),1),c.built_in?(d(),p("div",mf,[f(re)])):S("",!0)])]),e("td",null,y(n.filters.projectFieldType(c.field_type)),1),e("td",null,[c.built_in?(d(),p("div",ff,xf)):(d(),p("div",vf," x "))])]))),128))])])])],64))}},yf={class:"px-4"},bf={class:"table table-hover"},$f=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-6"},"\u72B6\u6001\u540D\u79F0"),e("th",{scope:"col",class:"col-5"},"\u72B6\u6001\u7C7B\u578B"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),wf={class:"flex-row flex align-items-center"},kf={style:{flex:"0 0 auto"}},jf={class:"flex-row flex",style:{"margin-left":"5px"}},Sf={class:"td",style:{display:"flex","align-items":"center"}},Cf=e("td",null,[e("div",{style:{width:"30px",height:"2px"}},[e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])],-1),If={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,project:o.params.project,items:[],desc:"\u9879\u76EE\u72B6\u6001\u7528\u4E8E\u5B9A\u5236\u9879\u76EE\u6240\u5904\u7684\u4E0D\u540C\u72B6\u6001\uFF0C\u652F\u6301\u4E0D\u540C\u72B6\u6001\u95F4\u7684\u5207\u6362\u3002"});C(()=>{i(!0)});let i=()=>{a.post(a.urls.project_status.format(t.team)).then(function(n){t.items=n.data})};return(n,r)=>(d(),p($,null,[f(Z,{title:"\u9879\u76EE\u72B6\u6001",desc:s(t).desc},null,8,["desc"]),f(Q,{style:{margin:"15px 20px"},placeholder:"\u641C\u7D22\u9879\u76EE\u72B6\u6001"}),e("div",yf,[e("table",bf,[$f,e("tbody",null,[(d(!0),p($,null,M(s(t).items,c=>(d(),p("tr",{key:c.uuid},[e("td",null,[e("div",wf,[e("div",kf,y(c.name),1),e("div",jf,[f(re)])])]),e("td",null,[e("div",Sf,[f(he,{name:c.name,color:c.uuid},null,8,["name","color"])])]),Cf]))),128))])])])],64))}},Tf={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},zf=e("div",{style:{flex:"0 0 auto",display:"flex"}},[e("span",null,"\u5DE5\u4F5C\u9879\u7C7B\u578B")],-1),Mf=e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),Df=e("div",{style:{margin:"0 10px"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),Lf=e("div",{class:"flex-fill"},[e("span",{style:{color:"#909090"}},"\u5DE5\u4F5C\u9879\u5C5E\u6027")],-1),Bf={class:"flex-row flex align-items-center justify-content-end;"},Pf={class:"px-4"},Vf={class:"flex-row flex mt-3"},Uf={style:{flex:"1"}},Hf={class:"t-line l-line r-line mt-3"},Ff={class:"table table-hover"},Ef=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u5C5E\u6027\u540D\u79F0"),e("th",{scope:"col"},"\u5C5E\u6027\u7C7B\u578B"),e("th",{scope:"col"},"\u5C5E\u6027\u9ED8\u8BA4\u503C"),e("th",{scope:"col"},"\u662F\u5426\u5FC5\u586B"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),Nf={class:"flex-row flex align-items-center"},qf={key:0,class:"flex-row flex align-items-center",style:{"margin-left":"5px"}},Af={key:0,style:{width:"30px","font-weight":"bolder"},class:"flex align-items-center justify-content-center"},Rf=["onUpdate:modelValue","onChange"],Of={key:1,style:{width:"30px",height:"2px"}},Gf=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),Wf=[Gf],Kf={class:"align-items-center",style:{display:"flex",flex:"0 0 80px"}},Jf={key:0,style:{"font-weight":"bolder","text-align":"center",width:"30px"},class:"del"},Yf=e("svg",{t:"1619925824323",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"24636",width:"12",height:"12"},[e("path",{d:"M647.168 512L1024 888.832 888.832 1024 512 647.168 135.168 1024 0 888.832 376.832 512 0 135.168 135.168 0 512 376.832 888.832 0 1024 135.168 647.168 512z","p-id":"24637",fill:"#2c2c2c"})],-1),Qf=[Yf],Zf={key:1,style:{width:"30px",height:"2px"}},Xf=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),e3=[Xf],t3={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,project:o.params.project,desc:"\u5DE5\u4F5C\u9879\u5C5E\u6027\u7528\u4E8E\u914D\u7F6E\u5DE5\u4F5C\u9879\u9700\u8981\u7684\u663E\u793A\u5B57\u6BB5\uFF0C\u53EF\u4EE5\u7528\u591A\u79CD\u5C5E\u6027\u7C7B\u578B\u6765\u8FDB\u884C\u914D\u7F6E\uFF0C\u4E0D\u540C\u9879\u76EE\u53EF\u4EE5\u5171\u7528\u540C\u4E00\u4E2A\u5C5E\u6027\u3002",issue_type:o.params.issue_type,title:o.params.title,name:"",items:[]});C(()=>{i(),n()});let i=()=>{a.get(a.urls.project_issue_type_field.format(t.team,t.project,t.issue_type)).then(function(c){t.items=c.data.field_configs})},n=()=>{t.title||a.get(a.urls.issue_type_get.format(t.team,t.issue_type)).then(function(c){t.title=c.data.name})},r=c=>{console.log(c.uuid,c.fixed)};return(c,u)=>(d(),p($,null,[e("div",Tf,[zf,Mf,e("span",null,y(s(t).title),1),Df,Lf,e("div",Bf,[f(Se,{desc:s(t).desc},null,8,["desc"])])]),e("div",Pf,[e("div",Vf,[e("div",Uf,[f(Q,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u5C5E\u6027"})])]),e("div",Hf,[e("table",Ff,[Ef,e("tbody",null,[(d(!0),p($,null,M(s(t).items,_=>(d(),p("tr",{key:_.uuid},[e("td",null,[e("div",Nf,[e("div",null,y(_.name),1),_.built_in?(d(),p("div",qf,[f(re)])):S("",!0)])]),e("td",null,y(c.filters.taskFieldType(_.type)),1),e("td",null,y(_.default_value||"---"),1),e("td",null,[_.can_modify_required?(d(),p("div",Af,[N(e("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":m=>_.required=m,name:"check-button",onChange:m=>s(r)(_)},null,40,Rf),[[ge,_.required]])])):(d(),p("div",Of,Wf))]),e("td",null,[e("div",Kf,[_.can_delete?(d(),p("div",Jf,Qf)):(d(),p("div",Zf,e3))])])]))),128))])])])])],64))}};const s3={props:{name:String,color:String},setup(l){const a=l;let o=Y(()=>{let t=a.color;switch(a.color){case"1":t="to_do";break;case"2":t="in_progress";break;case"3":t="done";break}return t});return(t,i)=>(d(),p("div",{class:L(s(o))},y(l.name),3))}};var Pe=D(s3,[["__scopeId","data-v-248e9274"]]);const Ie=l=>(H("data-v-8906ca2e"),l=l(),F(),l),a3={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},l3=Ie(()=>e("div",{style:{flex:"0 0 auto",display:"flex"}},[e("span",null,"\u5DE5\u4F5C\u9879\u7C7B\u578B")],-1)),o3=Ie(()=>e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1)),i3=Ie(()=>e("div",{style:{margin:"0 10px"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1)),n3=Ie(()=>e("div",{class:"flex-fill"},[e("span",{style:{color:"#909090"}},"\u5DE5\u4F5C\u9879\u5DE5\u4F5C\u6D41")],-1)),r3={class:"flex-row flex align-items-center justify-content-end;"},d3={id:"project-main",style:{margin:"20px"}},c3={class:"flex-column flex workFlowTable",style:{"border-left":"1px solid #dedede","border-top":"1px solid #dedede"}},u3={style:{flex:"1"}},p3={class:"flex-row flex",style:{flex:"1","background-color":"#f8f8f8","border-bottom":"1px solid #dedede",height:"60px"}},_3=ie('<div style="flex:0 0 auto;display:flex;width:200px;height:60px;position:relative;" data-v-8906ca2e><div style="flex:0 0 auto;border-right:1px solid #dedede;position:absolute;height:60px;width:200px;" data-v-8906ca2e><div style="" class="table-head-title" data-v-8906ca2e><div data-v-8906ca2e><div class="start-status-title" style="height:initial;" data-v-8906ca2e>\u5F00\u59CB\u72B6\u6001</div></div><div data-v-8906ca2e><div class="end-status-title" style="height:initial;" data-v-8906ca2e>\u76EE\u6807\u72B6\u6001</div></div></div></div></div>',1),m3={style:{flex:"1"},class:"flex-column flex"},f3={style:{flex:"0 0 200px",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px",width:"200px"}},h3={class:"flex-row flex"},x3={style:{flex:"0 0 auto"}},v3={key:0,style:{"margin-left":"5px"}},g3=Ie(()=>e("div",{style:{"font-size":"12px",color:"#909090",display:"inline-block",height:"20px","line-height":"18px",border:"1px solid rgba(134,147,160,0.5)","border-radius":"20px",padding:"0px 8px"}},"\u521D\u59CB\u72B6\u6001",-1)),y3=[g3],b3=["onUpdate:modelValue","onChange"],$3={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,project:o.params.project,issue_type:o.params.issue_type,title:o.params.title,desc:"\u5DE5\u4F5C\u6D41\u53EF\u4EE5\u7528\u4E8E\u5B9A\u5236\u5BF9\u5E94\u5DE5\u4F5C\u9879\u7684\u5728\u4E0D\u540C\u72B6\u6001\u9636\u6BB5\u7684\u6D41\u8F6C\u3002\u4F60\u53EF\u4EE5\u5728\u8868\u683C\u89C6\u56FE\u4E2D\uFF0C\u901A\u8FC7\u52FE\u9009\u590D\u9009\u6846\u7684\u65B9\u5F0F\u65B0\u5EFA\u5DE5\u4F5C\u6D41\u6B65\u9AA4\u3002\u4F60\u4E5F\u53EF\u4EE5\u5207\u6362\u5230\u8BE6\u60C5\u89C6\u56FE\u4E2D\u65B0\u5EFA\u5DE5\u4F5C\u6D41\u6B65\u9AA4\u3002",flows:[],headers:[],lock:!0});C(()=>{n(),r()});let i=(c,u,_,m,h)=>{if(t.lock){t.lock=!1;let x={uuid:c,name:u,start_status:_,end_status:m,state:h};a.post(a.urls.project_issue_type_flow_submit.format(t.team,t.project,t.issue_type),x).then(function(){r(),t.lock=!0})}},n=()=>{t.title||a.get(a.urls.issue_type_get.format(t.team,t.issue_type)).then(function(c){t.title=c.data.name})},r=()=>{a.get(a.urls.project_issue_type_flow.format(t.team,t.project,t.issue_type)).then(function(c){t.headers=c.data.headers,t.flows=c.data.flows})};return(c,u)=>(d(),p($,null,[e("div",a3,[l3,o3,e("span",null,y(s(t).title),1),i3,n3,e("div",r3,[f(Se,{desc:s(t).desc},null,8,["desc"])])]),e("div",d3,[e("div",c3,[e("div",u3,[e("div",p3,[_3,(d(!0),p($,null,M(s(t).headers,_=>(d(),p("div",{class:"flex-row flex align-items-center justify-content-center",style:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede"},key:_.uuid},[e("div",null,[f(Pe,{color:_.category.toString(),name:_.name},null,8,["color","name"])])]))),128))])]),e("div",m3,[(d(!0),p($,null,M(s(t).flows,_=>(d(),p("div",{class:"flex-row flex align-items-center",style:{flex:"1","border-bottom":"1px solid #dedede"},key:_.uuid},[e("div",f3,[e("div",h3,[e("div",x3,[f(Pe,{color:_.category.toString(),name:_.name},null,8,["color","name"])]),_.default?(d(),p("div",v3,y3)):S("",!0)])]),(d(!0),p($,null,M(_.items,m=>(d(),p("div",{class:"align-items-center flex-row flex justify-content-center",style:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px"},key:m.uuid},[N(e("input",{style:{height:"16px",width:"16px"},type:"checkbox","onUpdate:modelValue":h=>m.sel=h,onChange:h=>s(i)(m.uuid,m.name,m.start_uuid,m.end_uuid,m.sel)},null,40,b3),[[ge,m.sel]])]))),128))]))),128))])])])],64))}};var w3=D($3,[["__scopeId","data-v-8906ca2e"]]);const k3={setup(){z();let l=w(),a=k({team:l.params.team,project:l.params.project,currentTabComponent:"com",items:[]});C(()=>{a.currentTabComponent=o.value}),K(()=>l.params,t=>{a.currentTabComponent=o.value});let o=Y(()=>{var t;return(t=l.params.attr)!=null?t:"com"});return{self:a}},components:{com:Km,issue_type:P2,more:F2,project_info:af,project_permission:of,project_field:gf,project_status:If,issue_type_field:t3,issue_type_flow:w3}},j3={class:"flex flex-column flex-fill jiBox",style:{"min-height":"100%"}};function S3(l,a,o,t,i,n){return d(),p("div",j3,[(d(),A(ce(t.self.currentTabComponent)))])}var C3=D(k3,[["render",S3]]);const I3={setup(){const{proxy:l}=T();z();let a=w(),o=k({team:a.params.team,project:a.params.project,com:a.params.com,issue_type:"",comName:"",currentTabComponent:""});C(()=>{t()}),K(()=>a.params,i=>{o.com=a.params.com,a.name!=="Task"&&o.com&&t()});let t=()=>{if(o.com==="designer"){o.currentTabComponent="designer";return}l.get(l.urls.component_get.format(o.team,o.project,o.com)).then(function(i){i.data.objects.length>0&&(o.issue_type=i.data.objects[0].uuid),o.comName=i.data.name,o.currentTabComponent=i.data.template_uuid})};return{self:o}},components:{com00001:dp,com00002:cp,com00003:bp,com00004:e_,com00005:r_,com00009:wm,designer:C3}},T3={class:"flex-fill p-4 overflow-auto"};function z3(l,a,o,t,i,n){return d(),p("div",T3,[t.self.currentTabComponent?(d(),A(ce(t.self.currentTabComponent),{key:0,comName:t.self.comName,issue_type:t.self.issue_type},null,8,["comName","issue_type"])):S("",!0)])}var Le=D(I3,[["render",z3]]);const lt=l=>(H("data-v-f0c41ee4"),l=l(),F(),l),M3={id:"personal"},D3=lt(()=>e("div",{style:{flex:"0",padding:"5px 0 5px 30px",width:"100%","font-size":"18px","margin-bottom":"20px"}},"\u8D26\u53F7\u7BA1\u7406",-1)),L3=lt(()=>e("div",{style:{flex:"0",padding:"5px 0 5px 30px",width:"100%",color:"#aaaaaa"}},"\u4E2A\u4EBA\u4FE1\u606F",-1)),B3=V("\u8D26\u53F7\u4FE1\u606F"),P3=V("\u5B89\u5168\u8BBE\u7F6E"),V3=lt(()=>e("div",{style:{flex:"0",padding:"20px 0 5px 30px",width:"100%",color:"#aaaaaa"}},"\u9489\u9489\u8D26\u53F7",-1)),U3=V("\u767B\u9646\u51ED\u8BC1"),H3={setup(l){let a=W(1),o=w();K(()=>o.params,i=>{t()}),C(()=>{t()});let t=()=>{switch(o.params.type){case"account":a.value=1;break;case"safe":a.value=2;break;case"certificate":a.value=11;break}};return(i,n)=>{const r=R("router-link");return d(),p("div",M3,[D3,L3,e("div",{class:L({active:s(a)===1})},[f(r,{to:{name:"Center",params:{type:"account"}}},{default:P(()=>[B3]),_:1})],2),e("div",{class:L({active:s(a)===2})},[f(r,{to:{name:"Center",params:{type:"safe"}}},{default:P(()=>[P3]),_:1})],2),V3,e("div",{class:L({active:s(a)===11})},[f(r,{to:{name:"Center",params:{type:"certificate"}}},{default:P(()=>[U3]),_:1})],2)])}}};var F3=D(H3,[["__scopeId","data-v-f0c41ee4"]]);const Ee=l=>(H("data-v-f9ec3e12"),l=l(),F(),l),E3={class:"flex-fill p-4 jiBox"},N3={class:"form-body",style:{padding:"20px"}},q3={class:"pointer"},A3={class:"col-md-1"},R3={class:"avatar-upload pointer"},O3=["src"],G3=Ee(()=>e("input",{type:"file"},null,-1)),W3={class:"mt-4"},K3=Ee(()=>e("label",{class:"col-md-1 control-label"},"\u540D\u5B57",-1)),J3={class:"col-md-5"},Y3={class:"mt-4"},Q3=Ee(()=>e("label",{class:"col-md-1 control-label"},"\u90AE\u7BB1",-1)),Z3={class:"col-md-5"},X3={class:"mt-4"},e6=Ee(()=>e("label",{class:"col-md-1 control-label"},"\u7535\u8BDD",-1)),t6={class:"col-md-5"},s6={class:"mt-4"},a6={class:"col-md-5"},l6={setup(l){const{proxy:a}=T();let o=k({}),t=k({avatar:"",name:"",email:"",phone:"",disabled:!1});C(()=>{n()});let i=()=>{let r={user_name:o.title,email:o.email,phone:o.phone};a.post(a.urls.user_update.format(we()),r).then(function(c){c.data.code===200&&(t.disabled=!0)}).catch(function(c){a.bus.emit("alertDanger",c.response.data.errcode)})},n=()=>{let r=a.urls.user_get.format(we());a.get(r).then(function(c){let{avatar:u,name:_,email:m,phone:h}=c.data;o.avatar=u,o.title=_,o.email=m,o.phone=h})};return(r,c)=>(d(),p("div",E3,[e("div",N3,[e("div",q3,[e("div",A3,[e("div",R3,[e("img",{src:s(o).avatar,style:{"max-height":"100px"}},null,8,O3),G3]),N(e("input",{type:"hidden","onUpdate:modelValue":c[0]||(c[0]=u=>s(o).avatar=u),name:"avatar",class:"form-control",placeholder:"\u5934\u50CF"},null,512),[[O,s(o).avatar]])])]),e("div",W3,[K3,e("div",J3,[N(e("input",{type:"text","onUpdate:modelValue":c[1]||(c[1]=u=>s(o).title=u),name:"name",class:"form-control",placeholder:"\u540D\u5B57"},null,512),[[O,s(o).title]])])]),e("div",Y3,[Q3,e("div",Z3,[N(e("input",{type:"text","onUpdate:modelValue":c[2]||(c[2]=u=>s(o).email=u),name:"email",class:"form-control",placeholder:"\u90AE\u7BB1"},null,512),[[O,s(o).email]])])]),e("div",X3,[e6,e("div",t6,[N(e("input",{type:"text","onUpdate:modelValue":c[3]||(c[3]=u=>s(o).phone=u),name:"phone",class:"form-control",placeholder:"\u7535\u8BDD"},null,512),[[O,s(o).phone]])])]),e("div",s6,[e("div",a6,[f(se,{title:"\u66F4\u65B0\u4FE1\u606F",onSubmit:s(i),disabled:s(t).disabled},null,8,["onSubmit","disabled"])])])])]))}};var o6=D(l6,[["__scopeId","data-v-f9ec3e12"]]);const i6={},n6={class:"flex-fill h-100 jiBox p-4 fs-c8"};function r6(l,a){return d(),p("div",n6," \u5F85\u5F00\u53D1\uFF0C\u656C\u8BF7\u5173\u6CE8\uFF01 ")}var d6=D(i6,[["render",r6]]);const c6={},u6={class:"flex-fill h-100 jiBox"},p6=e("div",{class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},[e("div",{style:{flex:"0 0 auto",display:"flex"}},[e("span",{class:"fs-c10"},"\u5B89\u5168\u8BBE\u7F6E")])],-1),_6=e("div",{class:"px-4"},[e("div",{class:"flex-row flex px-4 py-4 b-line align-items-center"},[e("div",{style:{flex:"0 0 auto"}},[e("div",{class:"flex-column flex flex-fill align-items-center justify-content-center"},[e("svg",{t:"1600093044171",class:"icon",viewBox:"0 0 1536 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2745",width:"48",height:"48"},[e("path",{d:"M1450.666667 0H85.333333a85.333333 85.333333 0 0 0-85.333333 85.333333v51.2l724.48 434.346667a85.333333 85.333333 0 0 0 85.333333 0L1536 136.533333V85.333333a85.333333 85.333333 0 0 0-85.333333-85.333333zM682.666667 715.093333L0 307.2V938.666667a85.333333 85.333333 0 0 0 85.333333 85.333333h1365.333334a85.333333 85.333333 0 0 0 85.333333-85.333333V307.2l-682.666667 407.893333a170.666667 170.666667 0 0 1-170.666666 0z",fill:"#FAB200","p-id":"2746"})])])]),e("div",{class:"ms-4 flex-fill"},[e("div",{class:"fs-c8"},"\u90AE\u7BB1\u786E\u8BA4(pinbor@iissy.com)"),e("div",{style:{color:"#aaaaaa"}},"\u8BF7\u6536\u5230\u90AE\u4EF6\u540E\uFF0C\u70B9\u51FB\u90AE\u7BB1\u91CC\u9762\u786E\u8BA4\u8FDE\u63A5")]),e("div",null,[e("i",{class:"bi bi-chevron-right fs-c10"})])]),e("div",{class:"flex-row flex px-4 py-4 b-line align-items-center"},[e("div",{style:{flex:"0 0 auto"}},[e("div",{class:"flex-column flex flex-fill align-items-center justify-content-center"},[e("svg",{t:"1600123151164",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5723",width:"48",height:"48"},[e("path",{d:"M654.990991 196.036036H371.315315c-25.945946 0-47.279279 21.333333-47.279279 47.279279s21.333333 47.279279 47.279279 47.27928h283.675676c25.945946 0 47.279279-21.333333 47.279279-47.27928s-21.333333-47.279279-47.279279-47.279279z m173.54955-189.693694H197.765766c-69.765766 0-126.27027 56.504505-126.270271 126.270271v757.045045c0 69.765766 56.504505 126.27027 126.270271 126.27027h630.774775c69.765766 0 126.27027-56.504505 126.27027-126.27027V132.612613c-0.576577-69.765766-56.504505-126.27027-126.27027-126.270271z m31.135135 851.603604c0 34.594595-28.252252 62.846847-62.846847 62.846847H229.477477c-34.594595 0-62.846847-28.252252-62.846846-62.846847V164.324324c0-34.594595 28.252252-62.846847 62.846846-62.846847h567.351352c34.594595 0 62.846847 28.252252 62.846847 62.846847v693.621622zM513.153153 731.675676c-34.594595 0-62.846847 28.252252-62.846847 62.846847S478.558559 857.369369 513.153153 857.369369s62.846847-28.252252 62.846847-62.846846S547.747748 731.675676 513.153153 731.675676z",fill:"#2185F5","p-id":"5724"})])])]),e("div",{class:"ms-4 flex-fill"},[e("div",{class:"fs-c8"},"\u624B\u673A\u786E\u8BA4"),e("div",{style:{color:"#aaaaaa"}},"\u901A\u8FC7\u624B\u673A\u8BA4\u8BC1\u7801\u786E\u8BA4\u624B\u673A\u53F7\u7801")]),e("div",null,[e("i",{class:"bi bi-chevron-right fs-c10"})])]),e("div",{class:"flex-row flex px-4 py-4 b-line align-items-center"},[e("div",{style:{flex:"0 0 auto"}},[e("div",{class:"flex-column flex flex-fill align-items-center justify-content-center"},[e("svg",{t:"1600123506120",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6528",width:"48",height:"48"},[e("path",{d:"M893.632 382.976h-127.616V255.36a255.36 255.36 0 1 0-510.72 0v127.68H127.68A127.552 127.552 0 0 0 0 510.656v382.976c0 70.528 57.152 127.68 127.68 127.68h765.952a127.744 127.744 0 0 0 127.744-127.68V510.656a127.744 127.744 0 0 0-127.744-127.68zM319.168 255.36a191.424 191.424 0 1 1 382.976 0v127.68H319.168V255.36z m638.336 638.336a63.872 63.872 0 0 1-63.872 63.872H127.68a63.872 63.872 0 0 1-63.872-63.872V510.656c0-35.264 28.544-63.872 63.872-63.872h765.952c35.328 0 63.872 28.608 63.872 63.872v383.04zM510.656 542.592a95.488 95.488 0 1 0-31.872 185.664v133.568h63.808v-133.568a95.36 95.36 0 0 0 63.808-89.856c0-52.992-42.88-95.808-95.744-95.808z m0 143.68a47.936 47.936 0 1 1 0.128-95.872 47.936 47.936 0 0 1-0.128 95.872z",fill:"#27D400","p-id":"6529"})])])]),e("div",{class:"ms-4 flex-fill"},[e("div",{class:"fs-c8"},"\u8BBE\u7F6E\u5BC6\u7801"),e("div",{style:{color:"#aaaaaa"}},"\u5FC5\u987B\u5148\u8BBE\u7F6E\u90AE\u7BB1\u786E\u8BA4\u6216\u8005\u624B\u673A\u786E\u8BA4\uFF0C\u624D\u53EF\u4EE5\u8BBE\u7F6E\u5BC6\u7801\uFF0C\u8BBE\u7F6E\u5BC6\u7801\u540E\u5C31\u53EF\u4EE5\u51ED\u90AE\u7BB1\u6216\u8005\u624B\u673A\u767B\u9646\u7CFB\u7EDF")]),e("div",null,[e("i",{class:"bi bi-chevron-right fs-c10"})])])],-1),m6=[p6,_6];function f6(l,a){return d(),p("div",u6,m6)}var h6=D(c6,[["render",f6]]);const x6={components:{Personal:F3,Account:o6,Certificate:d6,Safe:h6},setup(){let l=w(),a=W("account");C(()=>{o()}),K(()=>l.params,t=>{o()});let o=()=>{var t;a.value=(t=l.params.type)!=null?t:a};return{currentTabComponent:a}}},v6={class:"flex-row flex h-100 my-4 me-4"};function g6(l,a,o,t,i,n){const r=R("personal");return d(),p("div",v6,[f(r),(d(),A(ce(t.currentTabComponent)))])}var y6=D(x6,[["render",g6]]);const b6={class:"app-main-center jiBox flex-column flex h-100"},$6={style:{flex:"1"},class:"flex-column flex"},w6=e("div",{style:{flex:"0 0 auto",padding:"20px","font-size":"18px"}}," \u65B0\u5EFA\u9879\u76EE ",-1),k6={class:"form-horizontal mg0 t-line",style:{flex:"1",padding:"20px"}},j6=e("div",{style:{}},[e("label",{class:"col-md-8"},[V("\u9879\u76EE\u540D\u5B57"),e("span",{style:{color:"#ff0000"}},"*")])],-1),S6={class:"col-md-8"},C6={class:"text-end p-3 t-line"},I6={setup(l){let{proxy:a}=T(),o=z(),t=w(),i=k({name:"",team:"",disabled:!1});je(()=>{i.team=t.params.team});let n=()=>{i.name&&(i.disabled=!0,a.post(a.urls.project_add.format(i.team),{project:{name:i.name},template_id:"project-t1"}).then(function(r){r.data.code===200?o.push({name:"Projects",params:{team:i.team}}):i.disabled=!1}))};return(r,c)=>(d(),p("div",b6,[e("div",$6,[w6,e("div",k6,[j6,e("div",null,[e("div",S6,[N(e("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=u=>s(i).name=u),name:"name",class:"form-control",placeholder:"\u9879\u76EE\u540D\u5B57"},null,512),[[O,s(i).name,void 0,{trim:!0}]])])])]),e("div",C6,[f(se,{title:"\u786E\u5B9A\u63D0\u4EA4",onSubmit:s(n),disabled:s(i).disabled},null,8,["onSubmit","disabled"])])])]))}},T6={setup(l){const{proxy:a}=T();let o=z(),t=w();return je(()=>{let i=t.params.team,n=t.params.project;a.get(a.urls.project_first_component.format(i,n)).then(function(r){o.push({name:"Component",params:{team:i,project:n,com:r.data.uuid}})})}),(i,n)=>(d(),p("div"))}},z6={class:"pb-3 px-3 pt-3"},M6={class:"table table-hover mt-3"},D6=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u9879\u76EE\u540D\u79F0"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),L6=e("i",{class:"bi bi-pencil-square"},null,-1),B6={setup(l){const{proxy:a}=T();let o=w(),t=k({name:"",team:"",items:[]});C(()=>{t.team=o.params.team,i()});let i=()=>{a.post(a.urls.project_list.format(t.team)).then(function(n){t.items=n.data})};return(n,r)=>{const c=R("router-link");return d(),p($,null,[f(Z,{title:"\u9879\u76EE\u7BA1\u7406",desc:"\u9879\u76EE\u7BA1\u7406\u9875\u5C55\u793A\u5F53\u524D\u6240\u6709\u9879\u76EE\uFF0C\u53EF\u5BF9\u9879\u76EE\u8FDB\u884C\u6743\u9650\u7F16\u8F91\u548C\u5220\u9664\u64CD\u4F5C\u3002"}),e("div",z6,[f(Q,{placeholder:"\u641C\u7D22\u9879\u76EE"}),e("table",M6,[D6,e("tbody",null,[(d(!0),p($,null,M(s(t).items,u=>(d(),p("tr",{key:u.uuid},[e("td",null,[f(c,{to:{name:"Project",params:{team:s(t).team,project:u.uuid}}},{default:P(()=>[V(y(u.name),1)]),_:2},1032,["to"])]),e("td",null,[f(c,{to:{name:"ProjectPermissionSetting",params:{team:s(t).team,project:u.uuid,title:u.name}}},{default:P(()=>[L6]),_:2},1032,["to"])])]))),128))])])])],64)}}},P6={class:"pb-3 px-3 pt-3"},V6={class:"table table-hover mt-3"},U6=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-4"},"\u5C5E\u6027\u540D\u79F0"),e("th",{scope:"col",class:"col-4"},"\u5C5E\u6027\u7C7B\u578B"),e("th",{scope:"col",class:"col-3"},"\u4F7F\u7528\u5230\u7684\u9879\u76EE"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),H6={class:"flex-row flex align-items-center"},F6={style:{flex:"0 0 auto"}},E6={key:0,class:"flex-row flex align-items-center",style:{"margin-left":"5px"}},N6=e("td",null," \u6240\u6709\u9879\u76EE ",-1),q6={key:0,style:{width:"30px",height:"2px"}},A6=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),R6=[A6],O6={key:1},G6={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,items:[]});C(()=>{i()});let i=()=>{let n=o.params.project;a.post(a.urls.project_field.format(t.team),{project:n}).then(function(r){t.items=r.data})};return(n,r)=>(d(),p($,null,[f(Z,{title:"\u9879\u76EE\u5C5E\u6027",desc:"\u9879\u76EE\u5C5E\u6027\u8BBE\u7F6E\u53EF\u4EE5\u8BBE\u7F6E\u9879\u76EE\u6982\u89C8\u9875\u9762\u9700\u8981\u663E\u793A\u7684\u9879\u76EE\u81EA\u5B9A\u4E49\u5C5E\u6027\u3002"}),e("div",P6,[f(Q,{placeholder:"\u641C\u7D22\u9879\u76EE\u5C5E\u6027"}),e("table",V6,[U6,e("tbody",null,[(d(!0),p($,null,M(s(t).items,c=>(d(),p("tr",{key:c.alias},[e("td",null,[e("div",H6,[e("div",F6,y(c.name),1),c.built_in?(d(),p("div",E6,[f(re)])):S("",!0)])]),e("td",null,y(n.filters.projectFieldType(c.field_type)),1),N6,e("td",null,[c.built_in?(d(),p("div",q6,R6)):(d(),p("div",O6," x "))])]))),128))])])])],64))}},W6={class:"pb-3 px-3 pt-3"},K6={class:"table table-hover mt-3"},J6=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-4"},"\u72B6\u6001\u540D\u79F0"),e("th",{scope:"col",class:"col-4"},"\u72B6\u6001\u7C7B\u578B"),e("th",{scope:"col",class:"col-3"},"\u4F7F\u7528\u5230\u7684\u9879\u76EE"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),Y6={class:"flex-row flex align-items-center"},Q6={style:{flex:"0 0 auto"}},Z6={key:0,class:"flex-row flex align-items-center",style:{"margin-left":"5px"}},X6=e("td",null," \u6240\u6709\u9879\u76EE ",-1),e4=e("td",null,[e("div",{style:{width:"30px",height:"2px"}},[e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])],-1),t4={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,items:[]});C(()=>{i()});let i=()=>{a.post(a.urls.project_status.format(t.team)).then(function(n){t.items=n.data})};return(n,r)=>(d(),p($,null,[f(Z,{title:"\u9879\u76EE\u72B6\u6001",desc:"\u9879\u76EE\u72B6\u6001\u7528\u4E8E\u6807\u793A\u9879\u76EE\u6240\u5904\u72B6\u6001\uFF0C\u4E0D\u540C\u72B6\u6001\u7C7B\u578B\u4E0B\u53EF\u4EE5\u6709\u591A\u79CD\u72B6\u6001\uFF0C\u5F53\u524D\u4E3A\u7CFB\u7EDF\u9879\u76EE\u72B6\u6001\u5217\u8868\uFF0C\u4E0D\u540C\u9879\u76EE\u53EF\u4EE5\u5171\u7528\u540C\u4E00\u4E2A\u72B6\u6001\u3002"}),e("div",W6,[f(Q,{placeholder:"\u641C\u7D22\u9879\u76EE\u72B6\u6001"}),e("table",K6,[J6,e("tbody",null,[(d(!0),p($,null,M(s(t).items,c=>(d(),p("tr",{key:c.alias},[e("td",null,[e("div",Y6,[e("div",Q6,y(c.name),1),c.built_in?(d(),p("div",Z6,[f(re)])):S("",!0)])]),e("td",null,[f(he,{name:c.name,color:c.uuid},null,8,["name","color"])]),X6,e4]))),128))])])])],64))}};const s4={class:"flex-fill h-100 jiBox"},a4={class:"px-4 pb-4"},l4={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:"",project:"",maps:{manage:{code:10,permission:"create_project",title:"\u65B0\u5EFA\u9879\u76EE\u6743\u9650",desc:"\u5141\u8BB8\u7528\u6237\u65B0\u5EFA\u9879\u76EE",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],loaded:!1,data:{}});C(()=>{t.team=o.params.team,t.data={permission_rule:{context_type:"do"}},i()});let i=()=>{let r=[];for(let c in t.maps)r.push(t.maps[c].code);a.post(a.urls.team_permission_rules.format(t.team),r).then(function(c){for(let u in t.maps){let _=t.maps[u];_.groups=[]}if(c.data&&c.data.length>0)for(let u in t.maps){let _=t.maps[u];for(let m=0;m<c.data.length;m++){let h=c.data[m];if(h.permission===_.code){_.groups=h.groups;break}}}n()})},n=()=>{a.get(a.urls.team_member_list.format(t.team)).then(function(r){if(r.data&&r.data&&r.data.length>0){let c=[];for(let u=0;u<r.data.length;u++){let _=r.data[u];_.type="single_user",c.push(_)}for(let u in t.maps){let _=t.maps[u];_.members=c}}t.loaded=!0})};return(r,c)=>(d(),p("div",s4,[f(Z,{title:"\u6743\u9650\u914D\u7F6E",desc:"\u5141\u8BB8\u521B\u5EFA\u9879\u76EE\u3002"}),e("div",a4,[s(t).loaded?(d(),A(te,{key:0,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.manage,onLoadPermissionData:s(i)},null,8,["role_members","data","group","onLoadPermissionData"])):S("",!0)])]))}};var o4=D(l4,[["__scopeId","data-v-77b51a14"]]);const i4={class:"pb-3 px-3 pt-3"},n4={class:"table table-hover mt-3"},r4=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-5"},"\u5DE5\u4F5C\u9879\u7C7B\u578B"),e("th",{scope:"col",class:"col-4"},"\u7C7B\u578B"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),d4={class:"py-3"},c4={class:"flex-row flex align-items-center lh-1"},u4={class:"flex-column flex",style:{"margin-left":"20px"}},p4={class:"flex-row flex align-items-center"},_4={style:{color:"#17C4BB"}},m4={key:0,class:"flex-row flex align-items-center",style:{"margin-left":"5px"}},f4={class:"text-black-50 mt-3"},h4=e("span",{style:{margin:"0 10px",color:"#999999"}}," | ",-1),x4={key:0},v4={key:1},g4={class:"flex-row flex align-items-center justify-content-between"},y4={class:"flex-row flex task-attr align-items-center",style:{"margin-right":"30px"}},b4=e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1602939503677",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"59063",width:"16",height:"16"},[e("path",{d:"M510.81 959L31.93 754.63C12.77 741.86 0 722.7 12.77 703.55 19.15 684.4 44.7 678 63.85 684.4l453.34 191.54L970.52 684.4c19.16-6.39 44.7 0 51.09 19.15s0 44.7-19.16 51.08z m0 0","p-id":"59064",fill:"#515151"}),e("path",{d:"M510.81 729.09L31.93 524.77C12.77 518.38 0 492.84 12.77 473.69c6.38-19.16 25.54-25.54 44.69-19.16l453.35 191.56 453.33-191.56c19.16-6.38 44.7 0 51.08 19.16s0 44.69-19.15 51.08z m0 0","p-id":"59065",fill:"#515151"}),e("path",{d:"M510.81 499.23L0 282.14 510.81 65.05l510.8 217.09z m0 0","p-id":"59066",fill:"#515151"})])],-1),$4={style:{flex:"0 0 auto","margin-left":"5px"}},w4=V("\u5DE5\u4F5C\u9879\u5C5E\u6027"),k4={class:"flex-row flex task-attr align-items-center",style:{"margin-right":"20px"}},j4=e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1603325433305",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10548",width:"16",height:"16"},[e("path",{d:"M426.496 170.496h427.008v256H768V256H426.496v170.496H0V0h426.496zM597.504 597.504V768H256v-170.496H170.496v256h426.496V1024H1024v-426.496h-426.496z m340.992 340.992h-256v-256h256v256z","p-id":"10549"})])],-1),S4={style:{flex:"0 0 auto","margin-left":"5px"}},C4=V("\u5DE5\u4F5C\u9879\u5DE5\u4F5C\u6D41"),I4={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,items:[]});C(()=>{i()});let i=()=>{a.post(a.urls.issue_type_list.format(t.team)).then(function(n){t.items=n.data})};return(n,r)=>{const c=R("router-link");return d(),p($,null,[f(Z,{title:"\u5DE5\u4F5C\u9879\u7C7B\u578B",desc:"\u914D\u7F6E\u4E2D\u5FC3\u4E0B\uFF0C\u5DE5\u4F5C\u9879\u7C7B\u578B\u914D\u7F6E\u9879\u7684\u4FEE\u6539\uFF0C\u4E0D\u4F1A\u540C\u6B65\u5230\u5DF2\u7ECF\u5E94\u7528\u7684\u9879\u76EE\u4E2D\u3002"}),e("div",i4,[f(Q,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u7C7B\u578B"}),e("table",n4,[r4,e("tbody",null,[(d(!0),p($,null,M(s(t).items,u=>(d(),p("tr",{key:u.uuid},[e("td",d4,[e("div",c4,[f(Dt,{icon:u.icon.toString()},null,8,["icon"]),e("div",u4,[e("div",p4,[e("div",_4,y(u.name),1),u.built_in?(d(),p("div",m4,[f(re)])):S("",!0)]),e("div",f4,[V(y(u.field_count)+" \u5DE5\u4F5C\u9879\u5C5E\u6027",1),h4,V(y(u.status_count)+" \u5DE5\u4F5C\u9879\u72B6\u6001",1)])])])]),e("td",null,[u.detail_type===0?(d(),p("div",x4,"\u81EA\u5B9A\u4E49\u7C7B\u578B")):(d(),p("div",v4,"\u6807\u51C6\u7C7B\u578B"))]),e("td",null,[e("div",g4,[e("div",y4,[b4,e("div",$4,[f(c,{to:{name:"IssueTypeSetting",params:{team:s(t).team,issue_type:u.uuid,type:"field",title:u.name}}},{default:P(()=>[w4]),_:2},1032,["to"])])]),e("div",k4,[j4,e("div",S4,[f(c,{to:{name:"IssueTypeSetting",params:{team:s(t).team,issue_type:u.uuid,type:"flow",title:u.name}}},{default:P(()=>[C4]),_:2},1032,["to"])])])])])]))),128))])])])],64)}}},T4={class:"pb-3 px-3 pt-3"},z4={class:"table table-hover mt-3"},M4=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-4"},"\u5C5E\u6027\u540D\u79F0"),e("th",{scope:"col",class:"col-4"},"\u5C5E\u6027\u7C7B\u578B"),e("th",{scope:"col",class:"col-3"},"\u4F7F\u7528\u5230\u7684\u9879\u76EE"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),D4={class:"flex-row flex align-items-center"},L4={key:0,class:"flex-row flex align-items-center",style:{"margin-left":"5px"}},B4=e("td",null," \u6240\u6709\u9879\u76EE ",-1),P4={key:0,style:{width:"30px",height:"2px"}},V4=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),U4=[V4],H4={key:1,style:{"font-weight":"bolder"},class:"flex-row iop"},F4=["onClick"],E4=e("svg",{t:"1619926041971",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"33589",width:"12",height:"12"},[e("path",{d:"M522.24 196.9152L157.4912 571.0848 0 1024l452.9152-147.6608L817.2544 512z m462.7456-29.4912L856.576 39.424a119.3984 119.3984 0 0 0-177.2544 0L571.0848 147.6608l295.424 305.2544 118.0672-118.1696A124.8256 124.8256 0 0 0 1024 245.76a121.5488 121.5488 0 0 0-39.424-78.336z",fill:"#2c2c2c","p-id":"33590"})],-1),N4=[E4],q4={class:"modal fade",id:"addIssueTypeField","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},A4={class:"modal-dialog modal-dialog-scrollable"},R4={class:"modal-content"},O4=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},"\u7F16\u8F91\u5DE5\u4F5C\u9879\u5C5E\u6027"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),G4={class:"modal-body"},W4={class:"flex-column flex my-3"},K4=e("label",{class:"col-md-12 control-label"},"\u5C5E\u6027\u540D\u79F0",-1),J4={class:"col-md-12 mt-2"},Y4={class:"flex-column flex my-3"},Q4=e("div",null,[e("label",{class:"col-md-12 control-label"},"\u9009\u9879\u503C")],-1),Z4={class:"flex-row flex mt-2"},X4={style:{flex:"1"}},eh={style:{flex:"0 0 60px","margin-left":"5px"},class:"flex-column flex align-items-center justify-content-center"},th={class:"flex-row flex",style:{"border-bottom":"1px solid #e8e8e8",padding:"5px 0"}},sh=e("div",{style:{flex:"0 0 20px","margin-left":"5px"}},[e("i",{class:"bi bi-grip-horizontal"})],-1),ah={style:{flex:"1"}},lh=e("svg",{t:"1619926041971",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"33589",width:"12",height:"12"},[e("path",{d:"M522.24 196.9152L157.4912 571.0848 0 1024l452.9152-147.6608L817.2544 512z m462.7456-29.4912L856.576 39.424a119.3984 119.3984 0 0 0-177.2544 0L571.0848 147.6608l295.424 305.2544 118.0672-118.1696A124.8256 124.8256 0 0 0 1024 245.76a121.5488 121.5488 0 0 0-39.424-78.336z",fill:"#2c2c2c","p-id":"33590"})],-1),oh=[lh],ih=["onClick"],nh=e("svg",{t:"1619925824323",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"24636",width:"12",height:"12"},[e("path",{d:"M647.168 512L1024 888.832 888.832 1024 512 647.168 135.168 1024 0 888.832 376.832 512 0 135.168 135.168 0 512 376.832 888.832 0 1024 135.168 647.168 512z","p-id":"24637",fill:"#2c2c2c"})],-1),rh=[nh],dh={class:"modal-footer"},ch=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1),uh={setup(l){const{proxy:a}=T();z();let o=w(),t=k({uuid:"",name:"",team:o.params.team,items:[],nameState:null,option:"",optionState:null,disabled:!1,options:[]}),i=null;C(()=>{n(),i=new bootstrap.Modal(document.getElementById("addIssueTypeField"),{keyboard:!1})});let n=()=>{a.post(a.urls.issue_type_field_list.format(t.team)).then(function(g){t.items=g.data})},r=()=>{a.get(a.urls.issue_type_field_option_list.format(t.team,t.uuid)).then(function(g){t.options=g.data})},c=(g,b)=>{i.toggle(),t.options=[],t.uuid=g,t.name=b,r()},u=g=>{g.preventDefault(),this.handleSubmit()},_=()=>{!this.checkFormValidity()||(this.submit(),this.$nextTick(()=>{this.$bvModal.hide("modal-edit-field")}))},m=()=>{let g={},b=!0;if(t.option){for(let v=0;v<t.options.length;v++)if(t.options[v].value===t.option){b=!1;break}b&&(g.value=t.option,g.background_color="#ff6a39",g.color="#fff",t.options.push(g),t.option="")}},h=()=>{},x=(g,b)=>{let v=this,j=[];for(let I=0;I<v.options.length;I++)v.options[I].uuid===g&&v.options[I].value===b||j.push(v.options[I]);v.options=j};return(g,b)=>(d(),p($,null,[f(Z,{title:"\u5DE5\u4F5C\u9879\u5C5E\u6027",desc:"\u5DE5\u4F5C\u9879\u5C5E\u6027\u7528\u4E8E\u914D\u7F6E\u5DE5\u4F5C\u9879\u9700\u8981\u7684\u663E\u793A\u5B57\u6BB5\uFF0C\u53EF\u4EE5\u7528\u591A\u79CD\u5C5E\u6027\u7C7B\u578B\u6765\u8FDB\u884C\u914D\u7F6E\uFF0C\u4E0D\u540C\u9879\u76EE\u53EF\u4EE5\u5171\u7528\u540C\u4E00\u4E2A\u5C5E\u6027\u3002"}),e("div",T4,[f(Q,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u5C5E\u6027"}),e("table",z4,[M4,e("tbody",null,[(d(!0),p($,null,M(s(t).items,v=>(d(),p("tr",{key:v.uuid},[e("td",null,[e("div",D4,[e("div",null,y(v.name),1),v.built_in?(d(),p("div",L4,[f(re)])):S("",!0)])]),e("td",null,y(g.filters.taskFieldType(v.type)),1),B4,e("td",null,[v.built_in?(d(),p("div",P4,U4)):(d(),p("div",H4,[e("div",{style:{flex:"0 0 20px"},class:"edit pointer",onClick:j=>s(c)(v.uuid,v.name)},N4,8,F4)]))])]))),128))])])]),e("div",q4,[e("div",A4,[e("div",R4,[O4,e("div",G4,[e("form",{ref:"form",onSubmit:b[3]||(b[3]=ve((...v)=>s(_)&&s(_)(...v),["stop","prevent"]))},[e("div",W4,[K4,e("div",J4,[N(e("input",{type:"text","onUpdate:modelValue":b[0]||(b[0]=v=>s(t).name=v),name:"name",class:"form-control"},null,512),[[O,s(t).name]])])]),e("div",Y4,[Q4,e("div",Z4,[e("div",X4,[N(e("input",{class:"form-control","onUpdate:modelValue":b[1]||(b[1]=v=>s(t).option=v)},null,512),[[O,s(t).option]])]),e("div",eh,[f(se,{disabled:s(t).disabled,title:"\u6DFB\u52A0",onSubmit:s(m)},null,8,["disabled","onSubmit"])])])]),(d(!0),p($,null,M(s(t).options,v=>(d(),p("div",{key:v.uuid,class:"iop"},[e("div",th,[sh,e("div",ah,y(v.value),1),e("div",{style:{flex:"0 0 20px"},class:"edit",onClick:b[2]||(b[2]=(...j)=>s(h)&&s(h)(...j))},oh),e("div",{style:{flex:"0 0 20px","margin-left":"10px"},class:"del",onClick:j=>s(x)(v.uuid,v.value)},rh,8,ih)])]))),128))],544)]),e("div",dh,[ch,e("button",{type:"button",class:"btn btn-primary",onClick:b[4]||(b[4]=(...v)=>s(u)&&s(u)(...v))},"\u786E\u5B9A")])])])])],64))}},ph={class:"pb-3 px-3 pt-3"},_h={class:"table table-hover mt-3"},mh=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-4"},"\u72B6\u6001\u540D\u79F0"),e("th",{scope:"col",class:"col-4"},"\u72B6\u6001\u7C7B\u578B"),e("th",{scope:"col",class:"col-3"},"\u4F7F\u7528\u5230\u7684\u9879\u76EE"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),fh={style:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center"}},hh=e("td",null," \u6240\u6709\u9879\u76EE ",-1),xh=e("td",null,[e("div",{style:{display:"flex","align-items":"center",flex:"0 0 80px"}},[e("div",{style:{width:"30px",height:"2px"}},[e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])])],-1),vh={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,name:"",items:[]});C(()=>{i()});let i=()=>{a.post(a.urls.issue_type_status.format(t.team)).then(function(n){t.items=n.data})};return(n,r)=>(d(),p($,null,[f(Z,{title:"\u5DE5\u4F5C\u9879\u72B6\u6001",desc:"\u5DE5\u4F5C\u9879\u72B6\u6001\u7528\u4E8E\u6807\u793A\u5DE5\u4F5C\u9879\u6240\u5904\u9636\u6BB5\uFF0C\u4E0D\u540C\u7684\u72B6\u6001\u53EF\u4EE5\u5728\u9879\u76EE\u4E2D\u7EC4\u88C5\u6210\u4E3A\u5DE5\u4F5C\u6D41\uFF0C\u4E0D\u540C\u9879\u76EE\u53EF\u4EE5\u5171\u7528\u540C\u4E00\u4E2A\u72B6\u6001\u3002"}),e("div",ph,[f(Q,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u72B6\u6001"}),e("table",_h,[mh,e("tbody",null,[(d(!0),p($,null,M(s(t).items,c=>(d(),p("tr",{key:c.uuid},[e("td",null,[e("div",null,y(c.name),1)]),e("td",null,[e("div",fh,[f(he,{name:c.category.toString(),color:c.category.toString()},null,8,["name","color"])])]),hh,xh]))),128))])])])],64))}},gh={class:"pb-3 px-3 pt-3"},yh={class:"table table-hover mt-3"},bh=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-4"},"\u540D\u79F0"),e("th",{scope:"col",class:"col-4"},"\u63CF\u8FF0"),e("th",{scope:"col",class:"col-3"},"\u663E\u793A\u6837\u5F0F"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),$h={class:"flex-row flex align-items-center"},wh={key:0,class:"flex-row flex align-items-center",style:{"margin-left":"5px"}},kh={class:"flex-row flex align-items-center",style:{"margin-left":"5px"}},jh=e("td",null,[e("div",{style:{display:"flex","align-items":"center",flex:"0 0 80px"}},[e("div",{style:{width:"30px",height:"2px"}},[e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])])],-1),Sh={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,name:"",items:[],defaultValue:""});C(()=>{i()});let i=()=>{a.post(a.urls.issue_type_priority.format(t.team)).then(function(n){t.items=n.data.options,t.defaultValue=n.data.default_value})};return(n,r)=>(d(),p($,null,[f(Z,{title:"\u4F18\u5148\u7EA7",desc:"\u901A\u8FC7\u4E0D\u540C\u7684\u7EC4\u5408\u8BBE\u5B9A\uFF0C\u4E2A\u6027\u5316\u60A8\u7684\u4F18\u5148\u7EA7\u663E\u793A\u65B9\u5F0F\u3002"}),e("div",gh,[f(Q,{placeholder:"\u641C\u7D22\u4F18\u5148\u7EA7"}),e("table",yh,[bh,e("tbody",null,[(d(!0),p($,null,M(s(t).items,c=>(d(),p("tr",{key:c.uuid},[e("td",null,[e("div",$h,[e("div",null,y(c.value),1),c.uuid===s(t).defaultValue?(d(),p("div",wh,[f(re,{name:"\u9ED8\u8BA4"})])):S("",!0)])]),e("td",null,y(c.desc),1),e("td",null,[e("div",kh,[f(Ue,{color:c.color,name:c.value,bgColor:c.background_color},null,8,["color","name","bgColor"])])]),jh]))),128))])])])],64))}},Ch={class:"px-4 pb-4"},Ih={setup(l){const{proxy:a}=T();let o=w(),t=W(o.params.title),i=k({dropdownActive:!1,team:"",project:"",maps:{read:{code:1102,permission:"browse_project",title:"\u67E5\u770B\u9879\u76EE",desc:"\u5141\u8BB8\u6210\u5458\u6D4F\u89C8\u5F53\u524D\u9879\u76EE\uFF0C\u5305\u62EC\u5DE5\u4F5C\u9879\uFF0C\u7B5B\u9009\u5668\uFF0C\u62A5\u8868\u7B49\u4FE1\u606F",groups:[],roles:[],members:[],in_roles:["everyone","project_assign","project_member"]},write:{code:1101,permission:"manage_project",title:"\u7BA1\u7406\u9879\u76EE",desc:"\u7BA1\u7406\u5F53\u524D\u9879\u76EE\u5E76\u66F4\u65B0\u9879\u76EE\u7684\u914D\u7F6E\u4FE1\u606F",groups:[],roles:[],members:[],in_roles:["everyone","project_assign","project_member"]}},role_members:[],data:{},loaded:!1,desc:"\u9879\u76EE\u7BA1\u7406\u3001\u67E5\u770B\u57FA\u672C\u6743\u9650\u914D\u7F6E\uFF0C\u9700\u8981\u66F4\u7EC6\u81F4\u6743\u9650\u8BF7\u5230\u5404\u4E2A\u5177\u4F53\u9879\u76EE\u4E0B\u914D\u7F6E\u3002"});C(()=>{i.team=o.params.team,i.project=o.params.project,i.data={permission_rule:{context_type:"project",context_param:{project_uuid:i.project}}},n(),r()});let n=()=>{t.value=o.params.title,t.value||a.get(a.urls.project_get.format(i.team,i.project)).then(function(u){t.value=u.data.name})},r=()=>{let u=[];for(let _ in i.maps)u.push(i.maps[_].code);a.post(a.urls.project_user_domain_group.format(i.team,i.project),u).then(function(_){for(let m in i.maps){let h=i.maps[m];h.groups=[]}if(_.data&&_.data.length>0)for(let m in i.maps){let h=i.maps[m];for(let x=0;x<_.data.length;x++){let g=_.data[x];if(g.permission===h.code){h.groups=g.groups;break}}}c()})},c=()=>{a.post(a.urls.project_members.format(i.team,i.project)).then(function(u){for(let _ in i.maps){let m=i.maps[_];m.members=[];for(let h=0;h<u.data.length;h++){let x=u.data[h];x.type="single_user",m.members.push(x)}}i.loaded=!0})};return(u,_)=>(d(),p($,null,[f(Z,{title:s(t),desc:s(i).desc},null,8,["title","desc"]),e("div",Ch,[s(i).loaded?(d(),A(te,{key:0,role_members:s(i).role_members,data:s(i).data,group:s(i).maps.read,onLoadPermissionData:s(r)},null,8,["role_members","data","group","onLoadPermissionData"])):S("",!0),s(i).loaded?(d(),A(te,{key:1,role_members:s(i).role_members,data:s(i).data,group:s(i).maps.write,onLoadPermissionData:s(r)},null,8,["role_members","data","group","onLoadPermissionData"])):S("",!0)])],64))}},Th={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},zh=e("div",{style:{flex:"0 0 auto",display:"flex"}},[e("span",{class:"fs-c10"},"\u5DE5\u4F5C\u9879\u7C7B\u578B")],-1),Mh=e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),Dh={class:"fs-c10"},Lh=e("div",{style:{margin:"0 10px"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),Bh=e("div",{class:"flex-fill"},[e("span",{style:{color:"#909090"}},"\u5DE5\u4F5C\u9879\u5C5E\u6027")],-1),Ph={class:"flex-row flex align-items-center justify-content-end;"},Vh={class:"px-4"},Uh={class:"flex-row flex mt-3"},Hh={style:{flex:"1"}},Fh={class:"t-line l-line r-line mt-3"},Eh={class:"table table-hover"},Nh=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u5C5E\u6027\u540D\u79F0"),e("th",{scope:"col"},"\u5C5E\u6027\u7C7B\u578B"),e("th",{scope:"col"},"\u662F\u5426\u5FC5\u586B"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),qh={class:"flex-row flex align-items-center"},Ah={style:{flex:"0 0 auto"}},Rh={key:0,class:"flex-row flex align-items-center",style:{"margin-left":"5px"}},Oh={class:"td"},Gh={key:0,style:{"font-weight":"bolder","text-align":"center",width:"30px"}},Wh=["onUpdate:modelValue","onChange"],Kh={key:1,style:{width:"30px",height:"2px"}},Jh=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),Yh=[Jh],Qh={class:"td align-items-center iop",style:{display:"flex",flex:"0 0 80px"}},Zh={key:0,style:{"font-weight":"bolder","text-align":"center",width:"30px"},class:"del"},Xh=e("i",{class:"bi bi-x-lg"},null,-1),e8=[Xh],t8={key:1,style:{width:"30px",height:"2px"}},s8=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),a8=[s8],l8={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,project:o.params.project,issue_type:o.params.issue_type,title:o.params.title,name:"",fields:[],fieldTemplates:[],desc:"\u914D\u7F6E\u4E2D\u5FC3\u4E0B\uFF0C\u5DE5\u4F5C\u9879\u5C5E\u6027\u4FEE\u6539\uFF0C\u4E0D\u4F1A\u540C\u6B65\u5230\u5DF2\u7ECF\u5E94\u7528\u7684\u9879\u76EE\u4E2D\u3002"});C(()=>{i(),n()});let i=()=>{a.get(a.urls.issue_type_template_get.format(t.team,t.issue_type)).then(function(c){t.title=c.data.name,t.fieldTemplates=c.data.default_configs.default_field_configs})},n=()=>{a.post(a.urls.issue_type_field_list.format(t.team)).then(function(c){t.fields=c.data})},r=Y(()=>{let c=[];if(t.fieldTemplates.length>0&&t.fields.length>0)for(let u=0;u<t.fieldTemplates.length;u++){let _={};for(let m=0;m<t.fields.length;m++)if(t.fieldTemplates[u].field_uuid===t.fields[m].uuid){Object.assign(_,t.fieldTemplates[u]),Object.assign(_,t.fields[m]);break}c.push(_)}return c});return(c,u)=>(d(),p($,null,[e("div",Th,[zh,Mh,e("div",null,[e("span",Dh,y(s(t).title),1)]),Lh,Bh,e("div",Ph,[f(Se,{desc:s(t).desc},null,8,["desc"])])]),e("div",Vh,[e("div",Uh,[e("div",Hh,[f(Q,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u5C5E\u6027"})])]),e("div",Fh,[e("table",Eh,[Nh,e("tbody",null,[(d(!0),p($,null,M(s(r),_=>(d(),p("tr",{key:_.uuid},[e("td",null,[e("div",qh,[e("div",Ah,y(_.name),1),_.built_in?(d(),p("div",Rh,[f(re)])):S("",!0)])]),e("td",null,y(c.filters.taskFieldType(_.type)),1),e("td",null,[e("div",Oh,[_.can_modify_required?(d(),p("div",Gh,[N(e("input",{type:"checkbox","onUpdate:modelValue":m=>_.required=m,name:"check-button",onChange:m=>c.toggle(_)},null,40,Wh),[[ge,_.required]])])):(d(),p("div",Kh,Yh))])]),e("td",null,[e("div",Qh,[_.can_delete?(d(),p("div",Zh,e8)):(d(),p("div",t8,a8))])])]))),128))])])])])],64))}};const Te=l=>(H("data-v-bba38acc"),l=l(),F(),l),o8={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},i8=Te(()=>e("div",{style:{flex:"0 0 auto",display:"flex"}},[e("span",{class:"fs-c10"},"\u5DE5\u4F5C\u9879\u7C7B\u578B")],-1)),n8=Te(()=>e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1)),r8={class:"fs-c10"},d8=Te(()=>e("div",{style:{margin:"0 10px"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1)),c8=Te(()=>e("div",{class:"flex-fill"},[e("span",{style:{color:"#909090"}},"\u5DE5\u4F5C\u9879\u5DE5\u4F5C\u6D41")],-1)),u8={class:"flex-row flex align-items-center justify-content-end;"},p8={class:"px-4 pb-4"},_8={class:"t-line l-line r-line mt-3"},m8={class:"flex-column flex workFlowTable",style:{"border-left":"1px solid #dedede","border-top":"1px solid #dedede"}},f8={style:{flex:"1"}},h8={class:"flex-row flex",style:{flex:"1","background-color":"#f8f8f8","border-bottom":"1px solid #dedede",height:"60px"}},x8=ie('<div style="flex:0 0 auto;display:flex;width:200px;height:60px;position:relative;" data-v-bba38acc><div style="flex:0 0 auto;border-right:1px solid #dedede;position:absolute;height:60px;width:200px;" data-v-bba38acc><div style="" class="table-head-title" data-v-bba38acc><div data-v-bba38acc><div class="start-status-title" style="height:initial;" data-v-bba38acc>\u5F00\u59CB\u72B6\u6001</div></div><div data-v-bba38acc><div class="end-status-title" style="height:initial;" data-v-bba38acc>\u76EE\u6807\u72B6\u6001</div></div></div></div></div>',1),v8={style:{flex:"1"},class:"flex-column flex"},g8={style:{flex:"0 0 200px",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px",width:"200px"}},y8={class:"flex-row flex"},b8={style:{flex:"0 0 auto"}},$8={key:0,style:{"margin-left":"5px"}},w8=Te(()=>e("div",{style:{"font-size":"12px",color:"#909090",display:"inline-block",height:"20px","line-height":"18px",border:"1px solid rgba(134,147,160,0.5)","border-radius":"20px",padding:"0px 8px"}},"\u521D\u59CB\u72B6\u6001",-1)),k8=[w8],j8=["onUpdate:modelValue","onChange"],S8={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,project:o.params.project,issue_type:o.params.issue_type,title:o.params.title,flows:[],headers:[],lock:!0,taskStatusConfigs:[],transitions:[],taskStatusItems:[],desc:"\u914D\u7F6E\u4E2D\u5FC3\u4E0B\uFF0C\u5DE5\u4F5C\u9879\u5DE5\u4F5C\u6D41\u4FEE\u6539\uFF0C\u4E0D\u4F1A\u540C\u6B65\u5230\u5DF2\u7ECF\u5E94\u7528\u7684\u9879\u76EE\u4E2D\u3002"});C(()=>{n()});let i=(c,u,_,m,h)=>{if(t.lock){t.lock=!1;let x={uuid:c,name:u,start_status:_,end_status:m,state:h};a.post(a.urls.project_issue_type_flow_submit.format(t.team,t.project,t.issue_type),x).then(function(){n(),t.lock=!0})}},n=()=>{a.get(a.urls.issue_type_template_get.format(t.team,t.issue_type)).then(function(c){t.title=c.data.name,t.taskStatusConfigs=c.data.default_configs.default_task_status_configs,t.transitions=c.data.default_configs.default_transitions,r()})},r=()=>{let c=[];for(let u=0;u<t.taskStatusConfigs.length;u++)c.push(t.taskStatusConfigs[u].status_uuid);a.post(a.urls.issue_type_task_status_list.format(t.team,t.issue_type),c).then(function(u){t.taskStatusItems=u.data,t.headers=[],t.flows=[];for(let _=0;_<t.taskStatusConfigs.length;_++){let m=t.taskStatusConfigs[_].status_uuid,h={items:[]};for(let x=0;x<t.taskStatusConfigs.length;x++){let g=t.taskStatusConfigs[x].status_uuid,b={start:m,end_uuid:g,uuid:"{0}-{1}".format(m,g)};for(let v=0;v<t.transitions.length;v++)if(t.transitions[v].start_status_uuid===m&&t.transitions[v].end_status_uuid===g){b.sel=!0;break}else b.sel=!1;h.items.push(b)}for(let x=0;x<t.taskStatusItems.length;x++)if(t.taskStatusConfigs[_].status_uuid===t.taskStatusItems[x].uuid){t.headers.push(t.taskStatusItems[x]),Object.assign(h,t.taskStatusItems[x]),t.flows.push(h);break}}})};return(c,u)=>(d(),p($,null,[e("div",o8,[i8,n8,e("div",null,[e("span",r8,y(s(t).title),1)]),d8,c8,e("div",u8,[f(Se,{desc:s(t).desc},null,8,["desc"])])]),e("div",p8,[e("div",_8,[e("div",m8,[e("div",f8,[e("div",h8,[x8,(d(!0),p($,null,M(s(t).headers,_=>(d(),p("div",{class:"flex-row flex align-items-center justify-content-center",style:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede"},key:_.uuid},[e("div",null,[f(Pe,{color:_.category.toString(),name:_.name},null,8,["color","name"])])]))),128))])]),e("div",v8,[(d(!0),p($,null,M(s(t).flows,_=>(d(),p("div",{class:"flex-row flex align-items-center",style:{flex:"1","border-bottom":"1px solid #dedede"},key:_.uuid},[e("div",g8,[e("div",y8,[e("div",b8,[f(Pe,{color:_.category.toString(),name:_.name},null,8,["color","name"])]),_.default?(d(),p("div",$8,k8)):S("",!0)])]),(d(!0),p($,null,M(_.items,m=>(d(),p("div",{class:"align-items-center flex-row flex justify-content-center",style:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px"},key:m.uuid},[N(e("input",{style:{height:"16px",width:"16px"},type:"checkbox","onUpdate:modelValue":h=>m.sel=h,onChange:h=>s(i)(m.uuid,m.name,m.start_uuid,m.end_uuid,m.sel)},null,40,j8),[[ge,m.sel]])]))),128))]))),128))])])])])],64))}};var C8=D(S8,[["__scopeId","data-v-bba38acc"]]);const I8={components:{field:l8,flow:C8},setup(){let l=w(),a=k({currentTabComponent:"field"});C(()=>{o()}),K(()=>l.params,()=>{o()});let o=()=>{a.currentTabComponent=l.params.type};return{self:a}}};function T8(l,a,o,t,i,n){return d(),A(ce(t.self.currentTabComponent))}var z8=D(I8,[["render",T8]]);const M8={setup(l){const{proxy:a}=T();let o=z(),t=w(),i=k({team:"",space:""});C(()=>{i.team=t.params.team,i.space=t.params.space,n()});let n=()=>{a.get(a.urls.default_main_page.format(i.team,i.space)).then(function(r){o.push({name:"Page",params:{team:i.team,space:i.space,page:r.data.uuid}})})};return(r,c)=>(d(),p("div"))}};const D8={name:"PageTree",props:{tree:Object,team:String,space:String,selected:String},setup(l){w();let{selected:a}=_t(l),o=k({tree:l.tree,team:l.team,space:l.space});return{selected:a,self:o}}},Lt=l=>(H("data-v-40db7f46"),l=l(),F(),l),L8={key:0,class:"arrow flex-row flex align-items-center"},B8={key:1,style:{color:"#c0c0c0","padding-left":"10px"}},P8=Lt(()=>e("i",{class:"bi bi-dot"},null,-1)),V8=[P8],U8={key:2,style:{"padding-left":"10px"}},H8=Lt(()=>e("svg",{t:"1605661940824",class:"icon",viewBox:"0 0 1152 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"177974",width:"16",height:"16"},[e("path",{d:"M1152 896a128 128 0 0 1-128 128H128a128 128 0 0 1-128-128V128a128 128 0 0 1 128-128h279.936a128 128 0 0 1 120.576 84.992l9.728 27.456H1024a128 128 0 0 1 127.68 118.528l0.32 9.536zM407.936 128H128v768h896V494.72H629.056a128 128 0 0 1-116.8-75.52l-3.84-9.408L408 128z m176 112.448l45.12 126.336L1024 366.72V240.512l-440.064-0.064z","p-id":"177975",fill:"#515151"})],-1)),F8=[H8],E8={class:"flex-row flex align-items-center"},N8={style:{overflow:"hidden","white-space":"nowrap","min-width":"0","text-overflow":"ellipsis","margin-left":"5px"}};function q8(l,a,o,t,i,n){const r=R("router-link"),c=R("PageTree");return d(),p("div",{style:ke({padding:t.self.tree.padding?"0 0 0 10px":"0"})},[e("div",{class:L(["page-item flex-row flex align-items-center",{active:t.self.tree.uuid===t.selected}])},[t.self.tree.son&&t.self.tree.parent_uuid?(d(),p("div",L8,[t.self.tree.opened?(d(),p("div",{key:0,class:"down",onClick:a[0]||(a[0]=u=>t.self.tree.opened=!1)})):(d(),p("div",{key:1,class:"right",onClick:a[1]||(a[1]=u=>t.self.tree.opened=!0)}))])):t.self.tree.parent_uuid?(d(),p("div",B8,V8)):(d(),p("div",U8,F8)),e("div",{style:{flex:"1",width:"0"},onClick:a[2]||(a[2]=u=>t.self.tree.opened=!0)},[f(r,{to:{name:"Page",params:{team:t.self.team,space:t.self.space,page:t.self.tree.uuid}}},{default:P(()=>[e("div",E8,[e("div",N8,y(t.self.tree.title?t.self.tree.title:"\u672A\u547D\u540D"),1)])]),_:1},8,["to"])])],2),N(e("div",null,[(d(!0),p($,null,M(t.self.tree.pages,u=>(d(),A(c,{key:u.uuid,tree:u,selected:t.selected,team:t.self.team,space:t.self.space},null,8,["tree","selected","team","space"]))),128))],512),[[Ae,t.self.tree.opened]])],4)}var A8=D(D8,[["render",q8],["__scopeId","data-v-40db7f46"]]);const R8={key:0,style:{padding:"20px 0 0 0"}},O8=e("div",{style:{flex:"0 0 auto",padding:"0 20px 10px 20px"},class:"flex-row flex"},[e("div",{style:{flex:"1",color:"#909090"}},"\u8349\u7A3F\u7BB1")],-1),G8={style:{padding:"0 20px"}},W8={style:{flex:"1","padding-left":"10px"},class:"flex-row flex align-items-center"},K8={style:{flex:"1",overflow:"hidden","white-space":"nowrap","min-width":"0","text-overflow":"ellipsis"}},J8={key:0,style:{flex:"0 0 auto",color:"#909090"}},Y8=e("i",{class:"bi bi-cursor-fill"},null,-1),Q8=[Y8],Z8={props:{team:String,space:String,drafts:Array,selected:{default:!1}},setup(l){return(a,o)=>{const t=R("router-link");return l.drafts&&l.drafts.length>0?(d(),p("div",R8,[O8,e("div",G8,[(d(!0),p($,null,M(l.drafts,i=>(d(),p("div",{class:L(["page-item",{active:i.uuid===l.selected}]),key:i.uuid},[f(t,{class:L({unnamed:!i.title}),to:{name:"Draft",params:{team:l.team,space:l.space,draft:i.uuid}},title:i.status===1?"\u672A\u53D1\u5E03":""},{default:P(()=>[e("div",W8,[e("div",K8,y(i.title||"\u672A\u547D\u540D"),1),i.status===1?(d(),p("div",J8,Q8)):S("",!0)])]),_:2},1032,["class","to","title"])],2))),128))])])):S("",!0)}}};const $e=l=>(H("data-v-7bbecc2c"),l=l(),F(),l),X8={id:"catalog",class:"flex-column flex r-line"},e5={style:{flex:"0 0 40px"},class:"flex-row flex align-items-center b-line"},t5=$e(()=>e("div",{"data-bs-toggle":"offcanvas","data-bs-target":"#sidebarSpaces",class:"ps-3 pointer"},[e("i",{class:"bi bi-list",style:{"font-size":"1.5rem"}})],-1)),s5={class:"flex-fill ms-2 fw-bolder"},a5=$e(()=>e("div",{"data-bs-toggle":"dropdown",class:"flex-row flex align-items-center h-100 pe-3 pointer","data-bs-offset":"-20,2"},[e("i",{class:"bi bi-gear"})],-1)),l5={class:"dropdown-menu border-0 jiBox"},o5={class:"menu-item"},i5=V("\u9875\u9762\u7EC4\u4FE1\u606F"),n5={class:"menu-item"},r5=V("\u9875\u9762\u7EC4\u6743\u9650"),d5={class:"menu-item"},c5=V("\u56DE\u6536\u7AD9"),u5={style:{"overflow-y":"auto"}},p5={style:{padding:"0 20px"}},_5=$e(()=>e("div",{style:{flex:"0 0 auto",margin:"20px 0 10px 0"},class:"flex-row flex align-items-center"},[e("div",{style:{flex:"1",color:"#909090"}},"\u9875\u9762\u6811"),e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1605536091310",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4339",width:"16",height:"16"},[e("path",{d:"M624.904671 1023.115112a27.162332 27.162332 0 0 1-18.711829-6.639682L354.488565 814.870566a30.783976 30.783976 0 0 1-13.88297-22.333473v-380.272649L14.054003 50.100016A29.576762 29.576762 0 0 1 11.035966 18.108825 30.783976 30.783976 0 0 1 38.801905 0.000604h942.834727a30.180369 30.180369 0 0 1 21.729865 51.306627l-348.281457 362.164427v582.481122a29.576762 29.576762 0 0 1-16.901007 27.162332 25.35151 25.35151 0 0 1-13.279362 0zM400.966333 778.050516l191.343539 152.712667V400.795903a28.973154 28.973154 0 0 1 8.450503-20.52265l307.839764-319.911911H106.405932l289.127934 320.515518a27.765939 27.765939 0 0 1 5.432467 19.919043z",fill:"#515151","p-id":"4340"}),e("path",{d:"M985.258276 519.706557h-193.154361a30.180369 30.180369 0 0 1-30.180369-30.180369 30.180369 30.180369 0 0 1 30.180369-30.180369h193.154361a30.783976 30.783976 0 0 1 30.180369 30.180369 30.180369 30.180369 0 0 1-30.180369 30.180369zM985.258276 648.878536h-193.154361a30.180369 30.180369 0 0 1-30.180369-30.180369 30.180369 30.180369 0 0 1 30.180369-30.180369h193.154361a30.180369 30.180369 0 0 1 30.180369 30.180369 30.783976 30.783976 0 0 1-30.180369 30.180369zM985.258276 777.446908h-193.154361a30.180369 30.180369 0 0 1 0-60.360738h193.154361a30.180369 30.180369 0 0 1 0 60.360738z",fill:"#515151","p-id":"4341"})])])],-1)),m5={class:"offcanvas offcanvas-start",style:{width:"300px"},tabindex:"-1",id:"sidebarSpaces","aria-labelledby":"offcanvasExampleLabel"},f5=$e(()=>e("div",{class:"offcanvas-header b-line"},[e("div",{class:"offcanvas-title fw-bolder",id:"offcanvasExampleLabel"},"\u5FEB\u901F\u5BFC\u822A"),e("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),h5={class:"offcanvas-body ps-4"},x5=$e(()=>e("div",{class:"tool-header"},"\u5DE5\u5177",-1)),v5={class:"mt-4 pt-3"},g5=$e(()=>e("div",{class:"tool-header"},"\u9875\u9762\u7EC4",-1)),y5={setup(l){const{proxy:a}=T();z();let o=w(),t=W(""),i=k({team:o.params.team,space:o.params.space,spaces:[],tree:{},drafts:[],inside:!1,loaded:!1,spaceName:""});C(()=>{i.page=o.params.page,n(),u(),c(),r()}),K(()=>o.params,h=>{n()});let n=()=>{o.name==="Draft"?t.value!==o.params.draft&&(t.value=o.params.draft):o.name==="Page"&&t.value!==o.params.page&&(t.value=o.params.page)},r=()=>{a.get(a.urls.my_spaces.format(i.team)).then(function(h){i.spaces=h.data.spaces;for(let x=0;x<i.spaces.length;x++)if(i.spaces[x].uuid===i.space){i.spaceName=i.spaces[x].title;break}})},c=()=>{a.get(a.urls.page_tree_get.format(i.team,i.space)).then(function(h){if(i.tree=h.data,i.tree.pages&&i.tree.pages.length>0)for(let x=0;x<i.tree.pages.length;x++){let g=i.tree.pages[x];if(_(g),i.inside)break}i.loaded=!0})},u=()=>{a.get(a.urls.drafts.format(i.team,i.space)).then(function(h){i.drafts=h.data.drafts})},_=h=>{if(h.pages&&h.pages.length>0)for(let x=0;x<h.pages.length;x++){let g=h.pages[x];if(g.uuid===i.page?(h.opened=!0,i.inside=!0):_(g),i.inside)break}i.inside&&(h.opened=!0)},m=Y(()=>[{uuid:"wiki-setting",name:"WikiSetting",params:{team:i.team,type:"list"},title:"\u6587\u6863\u914D\u7F6E\u4E2D\u5FC3"}]);return(h,x)=>{const g=R("router-link");return d(),p("div",X8,[e("div",e5,[t5,e("div",s5,y(s(i).spaceName),1),a5,e("div",l5,[e("div",o5,[f(g,{to:{name:"SpaceSettings",params:{team:s(i).team,space:s(i).space,type:"info"}}},{default:P(()=>[i5]),_:1},8,["to"])]),e("div",n5,[f(g,{to:{name:"SpaceSettings",params:{team:s(i).team,space:s(i).space,type:"permissions"}}},{default:P(()=>[r5]),_:1},8,["to"])]),e("div",d5,[f(g,{to:{name:"SpaceSettings",params:{team:s(i).team,space:s(i).space,type:"recycle"}}},{default:P(()=>[c5]),_:1},8,["to"])])])]),e("div",u5,[f(Z8,{drafts:s(i).drafts,selected:s(t),team:s(i).team,space:s(i).space},null,8,["drafts","selected","team","space"]),e("div",p5,[_5,s(i).loaded?(d(),A(A8,{key:0,tree:s(i).tree,selected:s(t),team:s(i).team,space:s(i).space},null,8,["tree","selected","team","space"])):S("",!0)]),e("div",m5,[f5,e("div",h5,[e("div",null,[x5,(d(!0),p($,null,M(s(m),b=>(d(),p("div",{class:"mt-2 ps-3",key:b.uuid},[f(g,{to:{name:b.name,params:b.params}},{default:P(()=>[V(y(b.title),1)]),_:2},1032,["to"])]))),128))]),e("div",v5,[g5,(d(!0),p($,null,M(s(i).spaces,b=>(d(),p("div",{class:L(["ps-3 py-2 menu-item",{active:b.uuid===s(i).space}]),key:b.uuid},[f(g,{to:{name:"Space",params:{team:s(i).team,space:b.uuid}}},{default:P(()=>[V(y(b.title),1)]),_:2},1032,["to"])],2))),128))])])])])])}}};var b5=D(y5,[["__scopeId","data-v-7bbecc2c"]]);const $5={class:"flex-row flex",style:{flex:"1"}},w5={setup(l){return(a,o)=>{const t=R("router-view");return d(),p("div",$5,[f(b5),f(t)])}}};const Bt=l=>(H("data-v-30286954"),l=l(),F(),l),k5={id:"dynamic",class:"flex-column flex l-line"},j5=ie('<div style="flex:0 0 40px;" class="flex-row flex align-items-center b-line" data-v-30286954><div style="flex:0 0 auto;margin-left:20px;cursor:pointer;" data-v-30286954>\u52A8\u6001</div><div style="flex:1;" data-v-30286954>\xA0</div><div style="flex:0 0 auto;margin-right:20px;" data-v-30286954><i class="bi bi-x" data-v-30286954></i></div></div>',1),S5={class:"tab-title flex-row flex align-items-center b-line",style:{"margin-top":"10px","justify-content":"space-between"}},C5=Bt(()=>e("div",{style:{flex:"1"}},null,-1)),I5=["onClick"],T5=Bt(()=>e("div",{style:{flex:"1"}},null,-1)),z5=ie('<div style="padding:20px;" class="flex-row flex" data-v-30286954><div style="flex:0 0 auto;" data-v-30286954><i class="bi bi-pencil-square" data-v-30286954></i></div><div style="flex:1;margin-left:10px;" data-v-30286954><div data-v-30286954><span style="color:#000000;font-weight:bold;" data-v-30286954>\u4F55\u654F</span>\u53D1\u5E03\u4E86\u9875\u9762</div><div style="color:#909090;font-size:12px;" data-v-30286954>9\u670814\u65E5 \u65E9\u4E0A06:42</div></div></div>',1),M5={setup(l){let a=k({cur:0,tabs:["\u5168\u90E8","\u8BC4\u8BBA","\u6587\u4EF6","\u53D8\u66F4\u8BB0\u5F55"]});return(o,t)=>(d(),p("div",k5,[j5,e("div",S5,[C5,(d(!0),p($,null,M(s(a).tabs,(i,n)=>(d(),p("div",{onClick:r=>s(a).cur=n,class:L({active:s(a).cur===n}),key:n},y(i),11,I5))),128)),T5]),z5]))}};var D5=D(M5,[["__scopeId","data-v-30286954"]]);const Pt=l=>(H("data-v-c13fda96"),l=l(),F(),l),L5={id:"article",class:"flex-column flex"},B5={style:{flex:"0 0 40px",padding:"0 20px"},class:"flex-row flex align-items-center b-line"},P5=Pt(()=>e("div",{style:{flex:"1"},class:"flex-row flex"},[e("div",{style:{flex:"0 0 auto"}},[e("i",{class:"bi bi-house-door-fill"})]),e("div",{style:{flex:"0 0 auto","margin-left":"5px"}},"\u4E3B\u9875")],-1)),V5={style:{flex:"0 0 auto"},class:"flex-row flex"},U5=Pt(()=>e("div",{style:{flex:"0 0 auto"}},[e("i",{class:"bi bi-pencil-square"})],-1)),H5={style:{flex:"0 0 auto","margin-left":"5px"}},F5=V("\u7F16\u8F91"),E5={style:{flex:"1","background-color":"#ffffff",padding:"30px","overflow-y":"auto"},class:"flex-column flex"},N5={style:{"font-size":"28px","font-weight":"800"}},q5={style:{color:"#909090","margin-top":"5px"}},A5=["innerHTML"],R5={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,space:o.params.space,page:o.params.page,user:{},item:{}});C(()=>{n()});let i=()=>{a.get(a.urls.team_user_get.format(t.team,t.item.owner_uuid)).then(function(r){t.user=r.data})};K(()=>o.params,r=>{o.params.page&&t.page!==o.params.page&&(t.page=o.params.page,n())});let n=()=>{a.get(a.urls.page_get.format(t.team,t.space,t.page)).then(function(r){t.item=r.data,i()})};return(r,c)=>{const u=R("router-link");return d(),p("div",L5,[e("div",B5,[P5,e("div",V5,[U5,e("div",H5,[f(u,{to:{name:"EditPage",params:{team:s(t).team,space:s(t).space,page:s(t).page}}},{default:P(()=>[F5]),_:1},8,["to"])])])]),e("div",E5,[e("div",N5,y(s(t).item.title),1),e("div",q5,y(s(t).user.name)+"\u4E8E "+y(r.filters.formatTime(s(t).item.updated_time))+" \u4FEE\u6539",1),e("div",{class:"ck-content",style:{"margin-top":"20px"},innerHTML:s(t).item.content},null,8,A5)])])}}};var O5=D(R5,[["__scopeId","data-v-c13fda96"]]);const G5={class:"flex-row flex flex-fill"},W5={class:"flex-fill"},K5={setup(l){return(a,o)=>(d(),p("div",G5,[e("div",W5,[f(O5)]),f(D5)]))}};const J5={style:{"box-shadow":"none",outline:"none"}},Y5={props:{title:String,disabled:{default:!1},fill:{default:!0}},emits:["submit"],setup(l,{emit:a}){const o=l;let t=()=>{o.disabled||a("submit")};return(i,n)=>(d(),p("div",J5,[e("div",{class:L(["button",{disabled:l.disabled,fill:l.fill}]),onClick:n[0]||(n[0]=(...r)=>s(t)&&s(t)(...r))},y(l.title),3)]))}};var Ve=D(Y5,[["__scopeId","data-v-74a4ff3a"]]);const ze=l=>(H("data-v-4242492c"),l=l(),F(),l),Q5={id:"article",class:"flex-column flex"},Z5={style:{flex:"0 0 40px",padding:"0 20px"},class:"flex-row flex align-items-center b-line"},X5=ze(()=>e("div",{style:{flex:"1"},class:"flex-row flex"},[e("div",{style:{flex:"0 0 auto"}},[e("i",{class:"bi bi-house-door-fill"})]),e("div",{style:{flex:"0 0 auto","margin-left":"5px"}},"\u4E3B\u9875")],-1)),ex={style:{flex:"0 0 auto"},class:"flex-row flex align-items-center"},tx=ze(()=>e("div",{style:{flex:"0 0 auto",color:"inherit"}},[e("i",{class:"bi bi-pencil-square"})],-1)),sx=ze(()=>e("div",{style:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}}," \u7F16\u8F91 ",-1)),ax=[tx,sx],lx=ze(()=>e("div",{style:{flex:"0 0 auto",color:"inherit"}},[e("i",{class:"bi bi-x"})],-1)),ox=ze(()=>e("div",{style:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}}," \u5220\u9664\u8349\u7A3F ",-1)),ix=[lx,ox],nx={style:{flex:"1","background-color":"#ffffff",padding:"30px","overflow-y":"auto"},class:"flex-column flex"},rx={style:{color:"#909090","margin-top":"5px"}},dx=["innerHTML"],cx={props:{item:Object},setup(l){const a=l,{proxy:o}=T();let t=z(),i=w(),n=k({team:i.params.team,space:i.params.space});C(()=>{n.team=i.params.team,n.space=i.params.space});let r=()=>{let _={team:n.team,space:n.space,draft:a.item.uuid};t.push({name:"EditDraft",params:_})},c=()=>{this.$bvModal.msgBoxConfirm("\u6B64\u64CD\u4F5C\u4E0D\u53EF\u64A4\u9500\uFF0C\u662F\u5426\u786E\u5B9A\uFF1F",{title:"\u5220\u9664\u8349\u7A3F",okVariant:"danger",okTitle:"\u786E\u5B9A",cancelTitle:"\u53D6\u6D88",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then(_=>{_&&o.post(o.urls.draft_delete.format(n.team,n.space,a.item.uuid)).then(function(m){m.data.code===200&&t.push({name:"Space",params:{team:n.team,space:n.space}})}).catch(function(m){o.bus.emit("alertDanger",m.response.data.errcode)})}).catch(_=>{console.log(_)})},u=()=>{let _={title:a.item.title,content:a.item.content,page_uuid:a.item.page_uuid,status:a.item.status,is_published:!0,space_uuid:n.space,from_version:a.item.from_version};o.post(o.urls.page_draft_update.format(n.team,n.space,a.item.uuid),_).then(function(m){let h={team:n.team,space:n.space,page:m.data.page_uuid};t.push({name:"Page",params:h})})};return(_,m)=>(d(),p("div",Q5,[e("div",Z5,[X5,e("div",ex,[e("div",{style:{flex:"0 0 auto","margin-left":"10px"},class:"flex-row flex align-items-center op-article",onClick:m[0]||(m[0]=(...h)=>s(r)&&s(r)(...h))},ax),e("div",{style:{flex:"0 0 auto","margin-left":"10px"},class:"flex-row flex align-items-center op-article",onClick:m[1]||(m[1]=(...h)=>s(c)&&s(c)(...h))},ix),l.item.status===1?(d(),A(Ve,{key:0,style:{"margin-left":"10px"},title:"\u53D1\u5E03",onSubmit:s(u)},null,8,["onSubmit"])):S("",!0),l.item.status===2?(d(),A(Ve,{key:1,style:{"margin-left":"10px"},title:"\u66F4\u65B0",onSubmit:s(u)},null,8,["onSubmit"])):S("",!0)])]),e("div",nx,[e("div",{class:L({unnamed:!l.item.title}),style:{"font-size":"28px","font-weight":"800"}},y(l.item.title||"\u672A\u547D\u540D"),3),e("div",rx,"\u6700\u540E\u7F16\u8F91\u4E8E "+y(_.filters.formatTime(l.item.updated_time)),1),e("div",{class:"ck-content",style:{"margin-top":"20px"},innerHTML:l.item.content},null,8,dx)])]))}};var ux=D(cx,[["__scopeId","data-v-4242492c"]]);const px={class:"h-100 flex-fill"},_x={setup(l){const{proxy:a}=T();z();let o=w(),t=k({team:o.params.team,space:o.params.space,page:o.params.page,draft:o.params.draft,item:{},loaded:!1});C(()=>{t.team=o.params.team,t.space=o.params.space,t.page=o.params.page,t.draft=o.params.draft,i()}),K(()=>o.params,n=>{o.params.draft&&t.draft!==o.params.draft&&(t.draft=o.params.draft,i())});let i=()=>{a.get(a.urls.draft_get.format(t.team,t.space,t.draft)).then(function(n){t.item=n.data,t.page=n.data.page_uuid,t.loaded=!0})};return(n,r)=>(d(),p("div",px,[s(t).loaded?(d(),A(ux,{key:0,item:s(t).item},null,8,["item"])):S("",!0)]))}};const mx=l=>(H("data-v-e1bef84a"),l=l(),F(),l),fx={class:"flex-column flex flex-fill"},hx={style:{flex:"0 0 40px","background-color":"#f8f8f8"},class:"flex-row flex align-items-center"},xx=mx(()=>e("div",{style:{flex:"1"},id:"toolbarContainer"},null,-1)),vx={style:{flex:"0 0 auto","margin-right":"20px"},class:"flex-row flex align-items-center"},gx={style:{"margin-right":"10px"}},yx={key:0,style:{color:"#909090"}},bx={key:1,style:{color:"#909090"}},$x={key:2,style:{color:"#909090"}},wx={style:{"overflow-y":"auto","background-color":"#ffffff"},id:"scrollable_container",class:"flex-row flex-fill"},kx={style:{flex:"1",height:"100%"},class:"flex-column flex"},jx={style:{flex:"0 0 auto",padding:"20px 60px 0 60px"}},Sx={id:"bodyContainer",style:{padding:"0 60px 0 60px"},class:"flex-column flex flex flex-fill"},Cx={setup(l){let{proxy:a}=T(),o=w(),t=z(),i=W(""),n=W(""),r=k({team:o.params.team,space:o.params.space,page:"",fill:!1,list:[],draft:"",editor:Re,mod:"",loaded:!1,ing:-1,status:1,version:0});C(()=>{r.mod=o.name,r.mod==="EditDraft"?(r.draft=o.params.draft,x()):r.mod==="AddPage"?(r.page=o.params.page,a.$parent.page=r.page):r.mod==="EditPage"&&(r.page=o.params.page,a.$parent.page=r.page,r.status=2,g()),setInterval(function(){r.list.length>0&&r.ing!==1&&(r.ing=1,r.list.length=0,r.draft.length===8?m():_())},3e3)}),Et(()=>{r.loaded=!0});let c=v=>{let j=document.querySelector("#toolbarContainer"),I=document.querySelector("#bodyContainer");j.hasChildNodes()&&(j.innerHTML=""),I.hasChildNodes()&&(I.innerHTML=""),j.appendChild(v.ui.view.toolbar.element),I.appendChild(v.ui.getEditableElement())},u=()=>{r.mod==="EditDraft"?t.push({name:"Draft",params:{team:r.team,space:r.space,draft:r.draft}}):r.mod==="AddPage"?t.push({name:"Page",params:{team:r.team,space:r.space,page:r.page}}):r.mod==="EditPage"&&t.push({name:"Page",params:{team:r.team,space:r.space,page:r.page}})},_=()=>{let v={title:i.value,content:n.value,page_uuid:r.page,status:r.status,from_version:r.version};a.post(a.urls.page_draft_add.format(r.team,r.space),v).then(function(j){r.draft=j.data.uuid,r.ing=2})},m=()=>{let v={title:i.value,content:n.value,page_uuid:r.page,status:r.status,is_published:!1,space_uuid:r.space,from_version:r.version};a.post(a.urls.page_draft_update.format(r.team,r.space,r.draft),v).then(function(j){j.data&&j.data.draft_uuid&&(r.draft=j.data.draft_uuid),r.ing=2})},h=()=>{let v={title:i.value,content:n.value,page_uuid:r.page,status:r.status,is_published:!0,space_uuid:r.space,from_version:r.version};a.post(a.urls.page_draft_update.format(r.team,r.space,r.draft),v).then(function(j){let I={team:r.team,space:r.space,page:j.data.page_uuid};t.push({name:"Page",params:I})})},x=()=>{a.get(a.urls.draft_get.format(r.team,r.space,r.draft)).then(function(v){i.value=v.data.title,n.value=v.data.content,r.draft=v.data.uuid,r.page=v.data.page_uuid,a.$parent.page=r.page})},g=()=>{a.get(a.urls.page_get.format(r.team,r.space,r.page)).then(function(v){v.data&&v.data.draft_uuid&&v.data.draft_uuid.length===8?(r.draft=v.data.draft_uuid,x()):(i.value=v.data.title,n.value=v.data.content,r.version=v.data.version)})};K([i,n],()=>{r.loaded&&(r.ing=0,r.list.push(!0))});const b=Y(()=>({toolbar:{items:["undo","redo","heading","fontFamily","fontSize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","numberedList","bulletedList","outdent","indent","|","link","blockquote","imageUpload","insertTable"]},ckfinder:{uploadUrl:a.urls.upload.format(r.team),options:{resourceType:"Images"}}}));return(v,j)=>{const I=R("ckeditor");return d(),p("div",fx,[e("div",hx,[xx,e("div",vx,[e("div",gx,[s(r).ing===0?(d(),p("div",yx,"\u5373\u5C06\u4FDD\u5B58...")):s(r).ing===1?(d(),p("div",bx,"\u6B63\u5728\u4FDD\u5B58...")):s(r).ing===2?(d(),p("div",$x,"\u8349\u7A3F\u5DF2\u4FDD\u5B58")):S("",!0)]),f(Ve,{onSubmit:s(u),title:"\u8FD4\u56DE",fill:s(r).fill,disabled:s(r).list&&s(r).list.length>0},null,8,["onSubmit","fill","disabled"]),f(Ve,{onSubmit:s(h),style:{"margin-left":"10px"},title:"\u53D1\u5E03",disabled:s(r).list&&s(r).list.length>0},null,8,["onSubmit","disabled"])])]),e("div",wx,[e("div",kx,[e("div",jx,[N(e("input",{type:"text",class:"title","onUpdate:modelValue":j[0]||(j[0]=E=>le(i)?i.value=E:i=E),placeholder:"\u6211\u7684\u6807\u9898"},null,512),[[O,s(i)]])]),e("div",Sx,[f(I,{editor:s(r).editor,onReady:s(c),modelValue:s(n),"onUpdate:modelValue":j[1]||(j[1]=E=>le(n)?n.value=E:n=E),config:s(b)},null,8,["editor","onReady","modelValue","config"])])])])])}}};var Vt=D(Cx,[["__scopeId","data-v-e1bef84a"]]);const Ix={setup(l){return(a,o)=>(d(),A(Vt))}},ut={setup(l){return(a,o)=>(d(),A(Vt))}},Tx=e("div",{class:"px-4 py-3 b-line fs-c10"},"\u9875\u9762\u7EC4\u7BA1\u7406",-1),zx={class:"px-3 pt-4 px-5"},Mx={class:"mb-4"},Dx=e("label",{for:"exampleFormControlInput1",class:"form-label"},"\u9875\u9762\u7EC4\u540D\u79F0",-1),Lx={class:"mb-4"},Bx=e("label",{for:"exampleFormControlInput1",class:"form-label"},"\u9875\u9762\u7EC4\u63CF\u8FF0",-1),Px={class:"flex-row flex mb-4"},Vx={style:{flex:"0 0 auto"}},Ux=e("div",{style:{flex:"1"}},null,-1),Hx=e("div",{style:{flex:"0 0 auto"}},[e("button",{type:"button",class:"btn btn-danger"},"\u5220\u9664\u9875\u9762\u7EC4")],-1),pt={setup(l){let{proxy:a}=T(),o=w();z();let t=k({team:o.params.team,space:o.params.space,title:"",description:"",disabled:!0});C(()=>{i()});let i=()=>{a.get(a.urls.space_get.format(t.team,t.space)).then(function(c){t.title=c.data.title,t.description=c.data.description})},n=()=>{t.disabled=!1},r=()=>{a.post(a.urls.space_update.format(t.team,t.space),{title:t.title,description:t.description}).then(function(c){c.data.code===200&&(t.disabled=!0,a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"))}).catch(function(c){a.bus.emit("alertDanger",c.response.data.errcode)})};return(c,u)=>(d(),p($,null,[Tx,e("div",zx,[e("div",Mx,[Dx,N(e("input",{type:"email",class:"form-control",id:"exampleFormControlInput1","onUpdate:modelValue":u[0]||(u[0]=_=>s(t).title=_),required:"",onChange:u[1]||(u[1]=(..._)=>s(n)&&s(n)(..._)),onKeydown:u[2]||(u[2]=(..._)=>s(n)&&s(n)(..._))},null,544),[[O,s(t).title]])]),e("div",Lx,[Bx,N(e("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3","onUpdate:modelValue":u[3]||(u[3]=_=>s(t).description=_),required:"",onChange:u[4]||(u[4]=(..._)=>s(n)&&s(n)(..._)),onKeydown:u[5]||(u[5]=(..._)=>s(n)&&s(n)(..._))},null,544),[[O,s(t).description]])]),e("div",Px,[e("div",Vx,[f(se,{disabled:s(t).disabled,title:"\u66F4\u65B0\u4FE1\u606F",onSubmit:s(r)},null,8,["disabled","onSubmit"])]),Ux,Hx])])],64))}},Fx={class:"flex-column flex flex-fill px-4 pb-4"},Ex={setup(l){let{proxy:a}=T(),o=w();z();let t=k({team:o.params.team,space:o.params.space,project:"",maps:{view:{code:2003,permission:"view_page",title:"\u9605\u89C8\u4E0E\u53CD\u9988",desc:"\u5141\u8BB8\u7528\u6237\u8FDB\u5165\u9875\u9762\u7EC4\u5E76\u67E5\u770B\u9875\u9762",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},create:{code:2002,permission:"create_page",title:"\u7F16\u8F91\u5185\u5BB9",desc:"\u5141\u8BB8\u7528\u6237\u65B0\u5EFA\u3001\u7F16\u8F91\u3001\u5220\u9664\u9875\u9762",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},manage:{code:2001,permission:"manage_space",title:"\u7BA1\u7406\u9875\u9762\u7EC4",desc:"\u5141\u8BB8\u7528\u6237\u4F7F\u7528\u9875\u9762\u7EC4\u63A7\u5236\u53F0\uFF0C\u7BA1\u7406\u9875\u9762\u56DE\u6536\u7AD9",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],data:{},loaded:!1});C(()=>{t.space=o.params.space,t.team=o.params.team,t.data={permission_rule:{context_type:"space",context_param:{space_uuid:t.space}}},i()});let i=()=>{let r=[];for(let c in t.maps)r.push(t.maps[c].code);a.post(a.urls.space_user_domain_group.format(t.team,t.space),r).then(function(c){for(let u in t.maps){let _=t.maps[u];_.groups=[]}if(c.data&&c.data.length>0)for(let u in t.maps){let _=t.maps[u];for(let m=0;m<c.data.length;m++){let h=c.data[m];if(h.permission===_.code){_.groups=h.groups;break}}}n()})},n=()=>{a.get(a.urls.team_member_list.format(t.team)).then(function(r){if(r.data&&r.data&&r.data.length>0){let c=[];for(let u=0;u<r.data.length;u++){let _=r.data[u];_.type="single_user",c.push(_)}for(let u in t.maps){let _=t.maps[u];_.members=c}}t.loaded=!0})};return(r,c)=>(d(),p($,null,[f(Z,{title:"\u9875\u9762\u7EC4\u6743\u9650"}),e("div",Fx,[s(t).loaded?(d(),A(te,{key:0,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.view,onLoadPermissionData:s(i)},null,8,["role_members","data","group","onLoadPermissionData"])):S("",!0),s(t).loaded?(d(),A(te,{key:1,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.create,onLoadPermissionData:s(i)},null,8,["role_members","data","group","onLoadPermissionData"])):S("",!0),s(t).loaded?(d(),A(te,{key:2,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.manage,onLoadPermissionData:s(i)},null,8,["role_members","data","group","onLoadPermissionData"])):S("",!0)])],64))}},Nx={},qx={class:"px-4 py-3 b-line fs-c10"};function Ax(l,a){return d(),p("div",qx,"\u56DE\u6536\u7AD9")}var Rx=D(Nx,[["render",Ax]]);const Ut=l=>(H("data-v-ece361ca"),l=l(),F(),l),Ox={class:"flex-row flex flex-fill"},Gx={class:"space-group-setting",style:{flex:"0 0 300px",padding:"20px 0 0 20px"}},Wx=Ut(()=>e("div",{style:{color:"#444444"}},[e("i",{class:"bi bi-arrow-left-circle-fill"})],-1)),Kx=Ut(()=>e("div",{style:{"margin-left":"10px","font-size":"18px"}}," \u6587\u6863\u914D\u7F6E\u4E2D\u5FC3 ",-1)),Jx=[Wx,Kx],Yx=V("\u9875\u9762\u7EC4\u4FE1\u606F"),Qx=V("\u9875\u9762\u7EC4\u6743\u9650"),Zx=V("\u56DE\u6536\u7AD9"),Xx={class:"flex-column flex flex-fill",style:{"overflow-y":"auto","min-height":"100%"}},ev={class:"jiBox mt-4 me-4 mb-4 flex-fill"},tv={setup(l){let{proxy:a}=T(),o=w(),t=z(),i=k({team:o.params.team,space:o.params.space,page:o.params.page,com:"info",tagIndex:1});C(()=>{i.team=o.params.team,i.space=o.params.space,i.com=o.params.type,r()}),K(()=>o.params,u=>{i.com=o.params.type});let n=Y(()=>{let u=pt;switch(i.com){case"info":i.tagIndex=1,u=pt;break;case"permissions":i.tagIndex=2,u=Ex;break;case"recycle":i.tagIndex=3,u=Rx;break}return u}),r=()=>{a.get(a.urls.default_main_page.format(i.team,i.space)).then(function(u){i.page=u.data.uuid})},c=()=>{t.push({name:"Space",params:{team:i.team,space:i.space}})};return(u,_)=>{const m=R("router-link");return d(),p("div",Ox,[e("div",Gx,[e("div",{class:"flex-row flex align-items-center",style:{flex:"0",width:"100%","margin-bottom":"10px",cursor:"pointer"},onClick:_[0]||(_[0]=(...h)=>s(c)&&s(c)(...h))},Jx),e("div",{class:L(["justify-content-center",{active:s(i).tagIndex===1}])},[f(m,{to:{name:"SpaceSettings",params:{team:s(i).team,space:s(i).space,type:"info"}}},{default:P(()=>[Yx]),_:1},8,["to"])],2),e("div",{class:L({active:s(i).tagIndex===2})},[f(m,{to:{name:"SpaceSettings",params:{team:s(i).team,space:s(i).space,type:"permissions"}}},{default:P(()=>[Qx]),_:1},8,["to"])],2),e("div",{class:L({active:s(i).tagIndex===3})},[f(m,{to:{name:"SpaceSettings",params:{team:s(i).team,space:s(i).space,type:"recycle"}}},{default:P(()=>[Zx]),_:1},8,["to"])],2)]),e("div",Xx,[e("div",ev,[(d(),A(ce(s(n))))])])])}}};var sv=D(tv,[["__scopeId","data-v-ece361ca"]]);const av=[{path:"/",meta:{title:"\u7231\u65AF\u56ED - \u4E0A\u5584\u82E5\u6C34\uFF0C\u8D24\u8D24\u6613\u8272"},name:"Index",component:nl},{path:"/reg",meta:{title:"\u6CE8\u518C - \u7231\u65AF\u56ED"},name:"Reg",component:Nl},{path:"/logout",meta:{title:"\u9000\u51FA\u767B\u5F55"},name:"Logout",component:Rl},{path:"/help",meta:{title:"\u7231\u65AF\u56ED - \u5E2E\u52A9\u6587\u6863"},name:"Help",component:ho},{path:"/team",meta:{title:"\u6211\u7684\u5DE5\u4F5C\u53F0"},name:"Layout",component:Zs,children:[{path:":team",meta:{title:"\u6211\u7684\u5DE5\u4F5C\u53F0"},name:"Main",component:Sa,children:[{path:"setting/project",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3"},name:"ProjectSetting",component:rt,children:[{path:"manager",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"ProjectSettingManager",component:B6},{path:"field",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"ProjectSettingField",component:G6},{path:"status",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"ProjectSettingStatus",component:t4},{path:"permission",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"ProjectSettingPermission",component:o4},{path:":project/permission",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"ProjectPermissionSetting",component:Ih}]},{path:"setting/issue_type",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3"},name:"TeamIssueTypeSetting",component:rt,children:[{path:"manager",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"IssueTypeSettingManager",component:I4},{path:"field",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"IssueTypeSettingField",component:uh},{path:"status",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"IssueTypeSettingStatus",component:vh},{path:"priority",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"IssueTypeSettingPriority",component:Sh},{path:":issue_type/:type",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"IssueTypeSetting",component:z8}]},{path:"project_list",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21},name:"Projects",component:bn},{path:"project_add",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21},name:"AddProject",component:I6},{path:"project/:project",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21},name:"Project",component:T6},{path:"wiki",meta:{title:"\u6587\u6863\u4E2D\u5FC3",tagIndex:23},name:"Spaces",component:lr},{path:"setting/wiki/:type",meta:{title:"\u6587\u6863\u914D\u7F6E\u4E2D\u5FC3",tagIndex:83},name:"WikiSetting",component:sd},{path:"setting/:type",meta:{title:"\u56E2\u961F\u914D\u7F6E\u4E2D\u5FC3",tagIndex:26},name:"TeamSetting",component:kc},{path:"center/:type",meta:{title:"\u4E2A\u4EBA\u4E2D\u5FC3"},name:"Center",component:y6},{path:"workbench/:type",meta:{title:"\u6211\u7684\u5DE5\u4F5C\u53F0",tagIndex:1},name:"Workbench",component:Ni}]},{path:":team/project",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3"},name:"ProjectMain",component:Ka,children:[{path:":project/component/:com",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21,tab:"project"},name:"Component",component:Le},{path:":project/component/:com/:attr",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21,tab:"project"},name:"ComponentDesigner",component:Le},{path:":project/component/:com/issue_type/:issue_type/:attr",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21,tab:"project"},name:"ComponentIssueTypeDesigner",component:Le},{path:":project/component/:com/task/:task",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21,tab:"project"},name:"Task",component:Le}]}]},{path:"/team",meta:{title:"\u6587\u6863"},name:"Wiki",component:po,children:[{path:":team/space/:space",meta:{title:"\u6587\u6863\u4E2D\u5FC3"},name:"Space",component:M8},{path:":team/space/:space/article",meta:{title:"\u6587\u6863\u4E2D\u5FC3"},name:"Article",component:w5,children:[{path:"page/:page",meta:{title:"\u6587\u6863\u4E2D\u5FC3"},name:"Page",component:K5},{path:"draft/:draft",meta:{title:"\u6587\u6863\u4E2D\u5FC3"},name:"Draft",component:_x}]},{path:":team/space/:space/page/:page/add",meta:{title:"\u6DFB\u52A0\u9875\u9762"},name:"AddPage",component:Ix},{path:":team/space/:space/page/:page/edit",meta:{title:"\u7F16\u8F91\u9875\u9762"},name:"EditPage",component:ut},{path:":team/space/:space/draft/:draft/edit",meta:{title:"\u7F16\u8F91\u9875\u9762"},name:"EditDraft",component:ut},{path:":team/space/:space/settings/:type",meta:{title:"\u9875\u9762\u7EC4\u8BBE\u7F6E",tagIndex:83},name:"SpaceSettings",component:sv}]}],Ht=Nt({history:qt(),routes:av});String.prototype.format=function(){let l=arguments;return this.replace(/\{(\d+)\}/g,function(a,o){return l[o]})};let lv={team_create:"/api/team",login_url:"/api/login",check_login_status:"/api/check_login_status",logout:"/api/logout",send_phone_code:"/api/send_phone_code/{0}",user_get:"/api/user/{0}",user_update:"/api/user/{0}/update",teams_get:"/api/get_teams",team_add:"/api/add_team",team_get:"/api/team/{0}",team_default_set:"/api/team/{0}/set_team_default",team_global_setting:"/api/team/{0}/global_setting",team_global_setting_update:"/api/team/{0}/global_setting_update",team_update:"/api/team/{0}/update",team_member_list:"/api/team/{0}/get_team_members",team_member_add:"/api/team/{0}/members/add",team_member_update:"/api/team/{0}/members/update",team_member_delete:"/api/team/{0}/members/delete",team_project_list:"/api/team/{0}/projects",team_recent_projects:"/api/team/{0}/recent_projects",team_recent_spaces:"/api/team/{0}/recent_spaces",team_user_get:"/api/team/{0}/user/{1}",upload:"/api/team/{0}/upload",space_add:"/api/team/{0}/spaces/add",space_get:"/api/team/{0}/space/{1}",space_update:"/api/team/{0}/space/{1}/update",space_pin:"/api/team/{0}/space/{1}/pin",space_unpin:"/api/team/{0}/space/{1}/unpin",space_user_domain_group:"/api/team/{0}/space/{1}/space_user_domain_group",spaces:"/api/team/{0}/spaces",my_spaces:"/api/team/{0}/my_spaces",page_tree_get:"/api/team/{0}/space/{1}/page_tree_get",default_main_page:"/api/team/{0}/space/{1}/default_main_page",page_get:"/api/team/{0}/space/{1}/page/{2}",page_draft_add:"/api/team/{0}/space/{1}/page_draft_add",page_draft_update:"/api/team/{0}/space/{1}/draft/{2}/update",drafts:"/api/team/{0}/space/{1}/drafts",draft_get:"/api/team/{0}/space/{1}/draft/{2}",draft_delete:"/api/team/{0}/space/{1}/draft/{2}/delete",issue_type_get:"/api/team/{0}/issue_type/{1}",issue_type_template_get:"/api/team/{0}/issue_type/{1}/get_issue_type_template",issue_type_field_list:"/api/team/{0}/issue_type_field",issue_type_field_option_list:"/api/team/{0}/issue_type_field_options/{1}",issue_type_field_update:"/api/team/{0}/issue_type_field/{1}/update",issue_type_list:"/api/team/{0}/issue_type_list",issue_type_priority:"/api/team/{0}/issue_type_priority",issue_type_status:"/api/team/{0}/issue_type_status",issue_type_task_status_list:"/api/team/{0}/issue_type/{1}/issue_type_task_status_list",project_field:"/api/team/{0}/projects/field",project_list:"/api/team/{0}/projects/list",project_status:"/api/team/{0}/projects/status",project_add:"/api/team/{0}/projects/add",project_update:"/api/team/{0}/project/{1}/update",project_pin:"/api/team/{0}/project/{1}/pin",project_unpin:"/api/team/{0}/project/{1}/unpin",project_plan_update:"/api/team/{0}/project/{1}/update_plan",project_first_component:"/api/team/{0}/project/{1}/components/first",project_template:"/api/team/{0}/project/{1}/setting/template",project_get:"/api/team/{0}/project/{1}",status_data_list:"/api/team/{0}/project/{1}/status_data_list",project_change_assign:"/api/team/{0}/project/{1}/change_assign",project_members:"/api/team/{0}/project/{1}/project_members",project_member_add:"/api/team/{0}/project/{1}/members/add",project_member_delete:"/api/team/{0}/project/{1}/members/delete",project_change_status:"/api/team/{0}/project/{1}/project_change_status",project_user_domain_group:"/api/team/{0}/project/{1}/project_user_domain_group",project_delete:"/api/team/{0}/project/{1}/delete",project_issue_type_field:"/api/team/{0}/project/{1}/issue_type/{2}/field",project_issue_type_flow:"/api/team/{0}/project/{1}/issue_type/{2}/get_project_issue_type_flow",project_issue_type_flow_submit:"/api/team/{0}/project/{1}/issue_type/{2}/update_project_issue_type_flow",component_get:"/api/team/{0}/project/{1}/component/{2}",component_update:"/api/team/{0}/project/{1}/component/{2}/update",components:"/api/team/{0}/project/{1}/components",next_status_list:"/api/team/{0}/project/{1}/issue_type/{2}/next_status_list/{3}",certificate_add:"/api/ding/login_certificate/add",task_add:"/api/team/{0}/project/{1}/issue_type/{2}/tasks/add",task_update:"/api/team/{0}/project/{1}/issue_type/{2}/task/{3}/update",task_list:"/api/team/{0}/project/{1}/issue_type/{2}/tasks",task_get:"/api/team/{0}/task/{1}",task_priority_options:"/api/team/{0}/task_priority_options",task_change_assign:"/api/team/{0}/task/{1}/change_assign",task_change_status:"/api/team/{0}/task/{1}/change_status",task_change_priority:"/api/team/{0}/task/{1}/change_priority",task_stat_by_team:"/api/team/{0}/task_stat_by_team",task_list_by_assign:"/api/team/{0}/tasks_by_assign",task_list_by_owner:"/api/team/{0}/tasks_by_owner",task_list_by_watcher:"/api/team/{0}/tasks_by_watcher",watchers_update:"/api/team/{0}/project/{1}/task/{2}/watchers/{3}",link_tasks:"/api/team/{0}/project/{1}/link_tasks",linked_tasks_add:"/api/team/{0}/task/{1}/linked_tasks_add",linked_tasks:"/api/team/{0}/task/{1}/linked_tasks",linked_source_tasks:"/api/team/{0}/task/{1}/linked_source_tasks",linked_tasks_del:"/api/team/{0}/task/{1}/linked_tasks_delete/{2}",permission_rules_add:"/api/team/{0}/permission_rules/add",permission_rule_delete:"/api/team/{0}/permission_rule/{1}/delete",team_permission_rules:"/api/team/{0}/team_permission_rules",field_option_value_list:"/api/team/{0}/project/{1}/issue_type/{2}/field/{3}/list",field_option_update:"/api/team/{0}/project/{1}/issue_type/{2}/update_field_option"};Ht.beforeEach((l,a,o)=>{l.meta.title&&(document.title=l.meta.title),l.path&&window._hmt&&window._hmt.push(["_trackPageview",l.fullPath]),o(!0)});const pe=At(cs);pe.use(Ht);pe.use(Rt);pe.config.globalProperties.get=ht.get;pe.config.globalProperties.post=ht.post;pe.config.globalProperties.urls=lv;pe.config.globalProperties.filters=ts;pe.config.globalProperties.bus=new Ot;pe.mount("#app");
