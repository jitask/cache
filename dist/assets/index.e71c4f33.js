import{r as S,o as T,a as c,c as m,b as z,n as ye,d as e,e as B,t as v,u as g,F as j,g as I,f as h,h as f,i as M,w as D,j as L,k as P,l as C,m as G,p as H,q as A,s as be,v as Q,x as W,y as V,z as O,A as ce,B as X,C as oe,D as N,E as fe,G as le,H as Ve,I as Ze,J as Xe,K as Ie,L as he,M as He,N as Pt,O as zt,P as Dt,Q as Bt,R as Lt,S as Ut,T as et,U as Vt}from"./vendor.2c210117.js";const Ht=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const i of d.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function o(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerpolicy&&(d.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?d.credentials="include":l.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function t(l){if(l.ep)return;l.ep=!0;const d=o(l);fetch(l.href,d)}};Ht();function At(s){let a="";switch(s){case 1:a="\u5355\u9009\u83DC\u5355";break;case 2:a="\u5355\u884C\u6587\u672C";break;case 3:a="";break;case 4:a="\u6D6E\u70B9\u6570";break;case 5:a="\u65E5\u671F";break;case 6:a="\u65F6\u95F4";break;case 7:a="\u5355\u9009\u8FED\u4EE3";break;case 8:a="\u5355\u9009\u6210\u5458";break;case 9:a="\u9879\u76EE";break;case 10:a="";break;case 11:a="\u5DE5\u4F5C\u9879\u7C7B\u578B";break;case 12:a="\u5DE5\u4F5C\u9879\u72B6\u6001";break;case 13:a="\u591A\u9009\u6210\u5458";break;case 14:a="\u5DE5\u4F5C\u9879\u7F16\u53F7";break;case 15:a="";break;case 16:a="\u591A\u9009\u83DC\u5355";break;case 17:a="";break;case 18:a="";break;case 19:a="";break;case 20:a="";break;case 21:a="";break;case 22:a="\u72B6\u6001";break}return a}function Nt(s){let a="";switch(s){case"integer":a="\u6574\u6570";break;case"time":a="\u65F6\u95F4";break;case"percentage":a="\u767E\u5206\u6570";break;case"date":a="\u65E5\u671F";break;case"user":a="\u5355\u9009\u6210\u5458";break;case"text":a="\u5355\u884C\u6587\u672C";break;case"rich_text":a="\u591A\u6587\u672C";break;case"status":a="\u72B6\u6001";break}return a}function qt(s){if(!s)return"-";if(Number.isNaN(s))return"0000-00-00 00:00:00";if(s==null||s===0)return"-";let a=new Date(s),o=a.getFullYear(),t=a.getMonth()+1,l=a.getDate();return o+"-"+(t<10?"0"+t:t)+"-"+(l<10?"0"+l:l)}function Et(s){if(!s)return"-";if(Number.isNaN(s))return"0000-00-00 00:00:00";if(s==null||s===0)return"-";let a=new Date(s),o=a.getFullYear(),t=a.getMonth()+1,l=a.getDate(),d=a.getHours(),i=a.getMinutes(),n=a.getSeconds();return o+"-"+(t<10?"0"+t:t)+"-"+(l<10?"0"+l:l)+" "+(d<10?"0"+d:d)+":"+(i<10?"0"+i:i)+":"+(n<10?"0"+n:n)}function Ft(s){if(!s)return"-";if(Number.isNaN(s))return"0000-00-00 00:00:00";if(s===0)return"-";let a=new Date(s),o=a.getFullYear(),t=a.getMonth()+1,l=a.getDate(),d=a.getHours(),i=a.getMinutes();return o+"\u5E74"+(t<10?"0"+t:t)+"\u6708"+(l<10?"0"+l:l)+"\u65E5 "+(d<12?"\u4E0A\u5348":"\u4E0B\u5348")+(d<10?"0"+d:d)+"\u70B9"+(i<10?"0"+i:i)+"\u5206"}function Ot(s){if(!s)return"-";if(Number.isNaN(s))return"0000-00-00";if(s===0)return"-";let a=new Date(s),o=new Date,t=a.getFullYear(),l=a.getMonth()+1,d=a.getDate(),i=o.getFullYear(),n;if(t<i)n=t+"\u5E74"+l+"\u6708"+d+"\u65E5 ";else{let _=o-a,r=_/36e5;r>=240?n=l+"\u6708"+d+"\u65E5 ":r>=24?n=Math.floor(r/24)+"\u5929\u524D":r>=1?n=Math.floor(r)+"\u5C0F\u65F6\u524D":r*60>=1?n=Math.floor(r*60)+"\u5206\u949F\u524D":n="\u521A\u521A"}return n}function Rt(s){let a="";switch(s){case"com00001":a="\u9700\u6C42";break;case"com00002":a="\u7F3A\u9677";break;case"com00003":a="\u4EFB\u52A1";break;case"com00004":a="\u6210\u5458";break;case"com00005":a="\u62A5\u8868";break;case"com00009":a="\u9879\u76EE\u6982\u89C8";break}return a}function ke(){return localStorage.getItem("TASKMASTER")}function tt(s){localStorage.setItem("TASKMASTER",s)}let ie={ServerError:"\u670D\u52A1\u9519\u8BEF",NotFound:"\u4E0D\u5B58\u5728",User:"\u7528\u6237",Phone:"\u624B\u673A\u53F7\u7801",AuthFailure:"\u6388\u6743\u5931\u8D25",InvalidParameter:"\u53C2\u6570\u65E0\u6548",InvalidToken:"\u767B\u5F55\u51ED\u8BC1\u5931\u6548",MissingToken:"\u7F3A\u5931\u51ED\u8BC1",AlreadyExists:"\u5DF2\u7ECF\u5B58\u5728",PhoneExists:"\u624B\u673A\u53F7\u7801\u5B58\u5728",InvalidFormat:"\u683C\u5F0F\u65E0\u6548",VerificationFailure:"\u9A8C\u8BC1\u5931\u8D25",InvalidCode:"\u9A8C\u8BC1\u7801\u65E0\u6548",EmailExists:"\u90AE\u7BB1\u5730\u5740\u5B58\u5728",Team:"\u56E2\u961F",Name:"\u540D\u79F0",Password:"\u5BC6\u7801",TooLong:"\u592A\u957F",CodeExpired:"\u9A8C\u8BC1\u7801\u8FC7\u671F",PermissionDenied:"\u6743\u9650\u7981\u6B62",CreateSpace:"\u65B0\u5EFA\u9875\u9762\u7EC4",NotInAnyTeam:"\u7528\u6237\u4E0D\u5728\u4EFB\u4F55\u56E2\u961F",InvalidPassword:"\u5BC6\u7801\u9519\u8BEF"};function st(s){let a="";return s.length>=1&&(a=ie[s[0]]),a}function at(s){return dt(s)}function ot(s){let a="";if(s.length===2)for(let o=s.length-1;o>=0;o--)a+=ie[s[o]];else if(s.length>=3)for(let o=1;o<s.length;o++)a+=ie[s[o]];return a}function lt(s){let a="";return s.length===2&&(a=ie[s[1]]),a}function it(s){let a="";return s.length===2&&(a=ie[s[1]]),a}function nt(s){return dt(s)}function rt(s){return Gt(s)}function Gt(s){let a="";if(s.length===2)for(let o=s.length-1;o>=0;o--)a+=ie[s[o]];return a}function dt(s){let a="";if(s.length===2)for(let o=s.length-1;o>=0;o--)a+=ie[s[o]];else if(s.length===3)for(let o=1;o<s.length;o++)a+=ie[s[o]];return a}var Wt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",taskFieldType:At,projectFieldType:Nt,formatDay:qt,formatDate:Et,formatTime:Ft,timeFormat:Ot,formatComponentTemplate:Rt,getUser:ke,setUser:tt,ServerError:st,NotFound:at,InvalidParameter:ot,VerificationFailure:lt,AuthFailure:it,AlreadyExists:nt,PermissionDenied:rt});var w=(s,a)=>{const o=s.__vccOpts||s;for(const[t,l]of a)o[t]=l;return o};const Kt={class:"flex-column flex align-items-center flex-fill"},Jt={class:"flex-row flex align-items-center",style:{color:"inherit"}},Yt={class:"flex-row flex align-items-center"},Qt={key:0,class:"bi bi-check-circle flex-row flex align-items-center"},Zt={key:1,class:"bi bi-x-circle flex-row flex align-items-center"},Xt={style:{"margin-left":"5px",color:"inherit",display:"flex",flex:"1","letter-spacing":"1px","font-size":"1.1em"}},es={setup(s){let{proxy:a}=I(),o=S([]),t=3e3,l=0,d="";T(()=>{a.bus.on("alertSuccess",function(r){i(r)}),a.bus.on("alertDanger",function(r){n(r)})});let i=r=>{l+=1,r?d=r:d="\u64CD\u4F5C\u6210\u529F";let p={key:l,dismiss:!0,variant:"alert-success",msg:d};o.push(p),_(l)},n=r=>{l+=1;let p="",u=r.split("."),x="";if(u.length>=1)switch(p=u[0],p){case"ServerError":x=st(u);break;case"NotFound":x=at(u);break;case"InvalidParameter":x=ot(u);break;case"VerificationFailure":x=lt(u);break;case"AlreadyExists":x=nt(u);break;case"PermissionDenied":x=rt(u);break;case"AuthFailure":x=it(u);break;default:x=p;break}d=x;let b={key:l,dismiss:!0,variant:"alert-danger",msg:d};o.push(b),_(l)},_=r=>{setTimeout(function(){let p=o.filter(u=>u.key!==r);o.length=0,o.push(...p)},t)};return(r,p)=>(c(!0),m(j,null,z(g(o),(u,x)=>(c(),m("div",{class:"alert-box flex-column flex align-items-center",key:u.key,style:ye({top:`${(x+1)*60}px`,right:"2.5rem"})},[e("div",Kt,[e("div",{class:B(["alert",[u.variant]]),role:"alert"},[e("div",Jt,[e("div",Yt,[u.variant==="alert-success"?(c(),m("i",Qt)):(c(),m("i",Zt))]),e("div",Xt,v(u.msg),1)])],2)])],4))),128))}};var ts=w(es,[["__scopeId","data-v-18dd2507"]]);const ss={setup(s){return(a,o)=>{const t=h("router-view");return c(),m(j,null,[f(t),f(ts)],64)}}},as={data:function(){return{}},props:["to","icon"]},os={class:"flex-row flex align-items-center"},ls={style:{flex:"0 0 auto"}},is={key:0,style:{display:"flex"}},ns=e("svg",{t:"1601469996753",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"22148",width:"16",height:"16"},[e("path",{d:"M925.8 98.5H98.1c-16.3 0-29.6 13.3-29.6 29.6v591.2c0 16.3 13.3 29.6 29.6 29.6h266v118.2h-88.7c-16.4 0-29.6 13.2-29.6 29.6 0 16.4 13.2 29.6 29.6 29.6h473c16.4 0 29.6-13.2 29.6-29.6 0-16.4-13.2-29.6-29.6-29.6h-88.7V748.8h266c16.3 0 29.6-13.3 29.6-29.6V128.1c0-16.3-13.3-29.6-29.5-29.6z m-810.9 47.6h796.3v405.1H114.9V146.1z m485.7 721H423.2V748.8h177.4v118.3z m311.8-165.8H114.9V601h797.4v100.3z",fill:"#ffffff","p-id":"22149"}),e("path",{d:"M443.8 264.4H217.5c-6.4 0-11.5 5.2-11.5 11.5v167.4c0 6.4 5.2 11.5 11.5 11.5h226.3c6.4 0 11.5-5.2 11.5-11.5V276c0-6.4-5.1-11.6-11.5-11.6z m-20.8 153c0 4.7-4 8.5-9 8.5H242.6c-5 0-9-3.8-9-8.5V302c0-4.7 4-8.5 9-8.5H414c5 0 9 3.8 9 8.5v115.4zM809.8 264.4H583.5c-6.4 0-11.5 5.2-11.5 11.5v167.4c0 6.4 5.2 11.5 11.5 11.5h226.3c6.4 0 11.5-5.2 11.5-11.5V276c0.1-6.4-5.1-11.6-11.5-11.6z m-20.8 153c0 4.7-4 8.5-9 8.5H608.6c-5 0-9-3.8-9-8.5V302c0-4.7 4-8.5 9-8.5H780c5 0 9 3.8 9 8.5v115.4z",fill:"#ffffff","p-id":"22150"})],-1),rs=[ns],ds={key:1,style:{display:"flex"}},cs=e("svg",{t:"1601470039687",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"23021",width:"16",height:"16"},[e("path",{d:"M921.6 659.911111h51.2c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 28.444444-22.755556 51.2-51.2 51.2h-204.8c-28.444444 0-51.2-22.755556-51.2-51.2v-147.911111c0-28.444444 22.755556-51.2 51.2-51.2h51.2V563.2H563.2v102.4h51.2c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 28.444444-22.755556 51.2-51.2 51.2H409.6c-28.444444 0-51.2-22.755556-51.2-51.2v-147.911111c0-28.444444 22.755556-51.2 51.2-51.2h51.2V563.2H204.8v102.4h51.2c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 22.755556-22.755556 45.511111-51.2 45.511111H51.2c-28.444444 0-51.2-22.755556-51.2-51.2v-147.911111c0-28.444444 22.755556-51.2 51.2-51.2h51.2V563.2c0-56.888889 45.511111-102.4 102.4-102.4h256V364.088889h-51.2c-28.444444 0-51.2-22.755556-51.2-51.2V164.977778c0-28.444444 22.755556-51.2 51.2-51.2h204.8c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 28.444444-22.755556 51.2-51.2 51.2h-51.2v102.4h256c56.888889 0 102.4 45.511111 102.4 102.4v91.022222z",fill:"#ffffff","p-id":"23022"})],-1),_s=[cs],ms={key:2,style:{display:"flex"}},ps=e("svg",{t:"1601470089681",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"23884",width:"16",height:"16"},[e("path",{d:"M0 934.4c0 12.8 12.8 25.6 25.6 25.6h972.8c12.8 0 25.6-12.8 25.6-25.6V320H0v614.4z m646.4-236.8l128-57.6-128-57.6V505.6l230.4 108.8v51.2L646.4 768v-70.4zM537.6 480h64l-128 320h-64l128-320z m-384 134.4L384 505.6V576l-128 64 128 57.6V768l-230.4-102.4v-51.2zM998.4 64H25.6c-12.8 0-25.6 12.8-25.6 25.6V256h1024V89.6c0-12.8-12.8-25.6-25.6-25.6zM224 185.6c0 6.4-6.4 12.8-12.8 12.8H140.8c-6.4 0-12.8-6.4-12.8-12.8v-44.8c0-6.4 6.4-12.8 12.8-12.8h70.4c6.4 0 12.8 6.4 12.8 12.8v44.8z m160 0c0 6.4-6.4 12.8-12.8 12.8H300.8c-6.4 0-12.8-6.4-12.8-12.8v-44.8c0-6.4 6.4-12.8 12.8-12.8h70.4c6.4 0 12.8 6.4 12.8 12.8v44.8z","p-id":"23885",fill:"#ffffff"})],-1),us=[ps],fs={key:3,style:{display:"flex"}},hs=e("svg",{t:"1601470300864",class:"icon",viewBox:"0 0 1137 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"25227",width:"16",height:"16"},[e("path",{d:"M1136.696889 511.089778s0-1.934222 0 0v-409.031111c0-55.637333-46.535111-101.319111-101.262222-101.319111h-370.517334a18.545778 18.545778 0 0 0-16.156444 7.964444l-76.970667 93.297778H102.058667c-56.718222 0-101.262222 45.681778-101.262223 101.262222v718.961778c0 55.580444 46.592 101.262222 101.262223 101.262222h933.432889c56.661333 0 101.262222-45.681778 101.262222-101.262222V511.089778zM102.058667 141.710222h479.857777a18.545778 18.545778 0 0 0 16.213334-7.964444L677.091556 38.513778h360.391111c34.417778 0 60.757333 27.818667 60.757333 61.553778V489.244444h-54.613333V380.017778c0-33.735111-28.444444-59.562667-60.814223-59.562667H152.632889A60.302222 60.302222 0 0 0 91.932444 380.017778V489.244444H39.253333V203.320889c0-33.792 28.330667-61.610667 62.805334-61.610667z m30.321777 345.6v-105.244444c0-11.946667 10.126222-19.911111 20.252445-19.911111h830.179555c12.174222 0 20.252444 9.955556 20.252445 19.911111v105.244444H132.380444z m901.12 496.469334H102.001778A60.757333 60.757333 0 0 1 41.301333 922.168889V531.000889H1096.248889v391.224889c0 33.735111-28.387556 61.553778-62.805333 61.553778z","p-id":"25228",fill:"#ffffff"})],-1),xs=[hs],gs={key:4,style:{display:"flex"}},vs=e("svg",{t:"1601470343097",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"26129",width:"16",height:"16"},[e("path",{d:"M216.3 515.7c9-6.7 18.5-12.7 28.3-18.3 12.8-0.1 23.1-10.5 23.1-23.3 0-5.9-2.2-11.2-5.8-15.2v-0.3c-1.9-1.8-3.9-3.5-5.7-5.3-56.7-13.2-99-63.9-99-124.6 0-60.7 42.3-111.4 98.9-124.6 2-1.9 4-3.8 6.1-5.6 1.5-18.2 11-34.2 25-44.3-0.7 0-1.3-0.1-2-0.1-96.4 0-174.5 78.1-174.5 174.5 0 62.7 33.1 117.7 82.7 148.4C80.3 520.9 0.1 630.6 0.1 759.2v41.1c0 22.3 18.1 40.4 40.4 40.4h46.9v-46.5H46.7v-43.6c0-109.6 71.1-202.4 169.6-234.9z m406.2-24.6c66.1-38.2 110.7-109.6 110.7-191.5 0-122.1-99-221.1-221.1-221.1S291 177.5 291 299.6c0 81.9 44.5 153.3 110.7 191.5C253.2 538 145.6 676.7 145.6 840.7v58.2c0 25.7 20.8 46.5 46.5 46.5h640c25.7 0 46.5-20.8 46.5-46.5v-58.2c0.1-164-107.6-302.8-256.1-349.6zM337.6 299.6c0-96.4 78.2-174.5 174.5-174.5 96.4 0 174.5 78.1 174.5 174.5s-78.1 174.6-174.5 174.6c-96.4-0.1-174.5-78.2-174.5-174.6z m494.5 599.2h-640v-58.2c0-176.7 143.3-320 320-320s320 143.3 320 320v58.2z m0.1-421.7c49.3-30.8 82.1-85.7 82.1-148.4 0-96.4-77.6-174.5-173.3-174.5-0.7 0-1.3 0.1-1.9 0.1 13.9 10.2 23.3 26.1 24.8 44.3 2 1.8 4.1 3.7 6 5.6 56.3 13.2 98.2 63.9 98.2 124.6 0 60.7-42 111.4-98.3 124.6-1.9 1.8-3.8 3.6-5.7 5.3v0.3c-3.6 4.1-5.8 9.4-5.8 15.2 0 12.8 10.3 23.2 23 23.3 9.7 5.6 19.1 11.7 28.1 18.3 97.8 32.6 168.5 125.3 168.5 234.8v43.6h-40.4v46.5H984c22.1 0 40.1-18.1 40.1-40.4v-41.1c0-128.6-79.6-238.3-191.9-282.1z m0 0","p-id":"26130",fill:"#ffffff"})],-1),ys=[vs],bs={key:5,style:{display:"flex"}},ks=e("svg",{t:"1601470399733",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"27002",width:"16",height:"16"},[e("path",{d:"M0 789.333c0-129.621 105.067-234.666 234.667-234.666h170.645a64 64 0 0 1 64.021 64.021v170.645c0 129.622-105.066 234.667-234.666 234.667C105.045 1024 0 918.933 0 789.333z m85.333 0c0 82.475 67.03 149.334 149.334 149.334 82.474 0 149.333-67.03 149.333-149.334V640H234.667c-82.475 0-149.334 67.03-149.334 149.333zM1024 234.667c0 129.621-105.067 234.666-234.667 234.666H618.688a64 64 0 0 1-64.021-64.021V234.667C554.667 105.045 659.733 0 789.333 0 918.955 0 1024 105.067 1024 234.667z m-85.333 0c0-82.475-67.03-149.334-149.334-149.334C706.86 85.333 640 152.363 640 234.667V384h149.333c82.475 0 149.334-67.03 149.334-149.333zM0 234.667C0 105.067 105.045 0 234.667 0c129.6 0 234.666 105.045 234.666 234.667v170.645a64 64 0 0 1-64.021 64.021H234.667C105.067 469.333 0 364.288 0 234.667z m85.333 0C85.333 316.97 152.192 384 234.667 384H384V234.667c0-82.304-66.859-149.334-149.333-149.334-82.304 0-149.334 66.859-149.334 149.334z m920.704 518.613c9.899 0 18.027 8.107 17.963 18.048v36.096c0 9.963-8.128 18.07-18.027 18.07H984.32c-9.899 0-20.437 7.743-23.424 17.215l-12.416 30.23c-4.672 8.768-2.773 21.717 4.224 28.693l15.403 15.36c7.04 7.04 7.04 18.517 0 25.557l-25.6 25.536a18.09 18.09 0 0 1-25.515 0l-15.296-15.36c-6.997-7.04-19.947-8.917-28.693-4.202l-30.251 12.437c-9.45 2.944-17.237 13.461-17.237 23.403v21.589a18.133 18.133 0 0 1-18.07 18.048h-36.074a18.133 18.133 0 0 1-18.091-18.048v-21.59c0-9.94-7.723-20.458-17.237-23.402l-30.294-12.437c-8.746-4.694-21.632-2.816-28.586 4.181l-15.424 15.381a18.07 18.07 0 0 1-25.494 0l-25.557-25.536a18.133 18.133 0 0 1 0-25.557l15.36-15.36c7.04-6.976 8.917-19.925 4.267-28.693l-12.502-30.23c-2.944-9.472-13.461-17.216-23.381-17.28h-21.675a18.09 18.09 0 0 1-18.069-18.026v-36.075c0-9.963 8.107-18.07 18.09-18.07h21.654c9.92 0 20.48-7.743 23.403-17.237l12.458-30.25c4.694-8.768 2.774-21.654-4.266-28.715l-15.318-15.36a18.048 18.048 0 0 1 0-25.536l25.536-25.493a18.027 18.027 0 0 1 25.494 0l15.402 15.36c7.04 6.997 19.904 8.917 28.672 4.224l30.23-12.395c9.514-2.965 17.237-13.483 17.237-23.467v-21.653a18.133 18.133 0 0 1 18.09-18.07h36.075a18.133 18.133 0 0 1 18.07 18.07v21.675c0 9.941 7.786 20.48 17.237 23.402l30.187 12.438c8.768 4.693 21.696 2.773 28.693-4.224l15.403-15.36a18.048 18.048 0 0 1 25.536 0l25.557 25.536c7.04 6.997 7.04 18.474 0 25.536l-15.36 15.36c-7.04 7.04-8.917 19.946-4.245 28.672l12.416 30.25c2.986 9.494 13.482 17.238 23.402 17.238h21.718z m-136.064 34.645a82.048 82.048 0 1 0-164.117 0 82.048 82.048 0 0 0 82.07 82.027 82.027 82.027 0 0 0 82.047-82.027z","p-id":"27003",fill:"#ffffff"})],-1),ws=[ks],$s={key:6,style:{display:"flex"}},js=e("svg",{t:"1601470443587",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"28569",width:"16",height:"16"},[e("path",{d:"M115.2 368h124.8c25.6 0 48-22.4 48-48V163.2h396.8v204.8H736v-224c0-19.2-12.8-32-32-32H259.2L64 323.2v553.6c0 19.2 12.8 32 32 32h480v-51.2H115.2V368z m121.6-153.6v102.4H144l92.8-102.4zM905.6 531.2V480c0-9.6-6.4-16-16-16h-19.2c-9.6 0-16 6.4-16 16v51.2c-32 12.8-54.4 41.6-54.4 76.8s22.4 64 54.4 76.8V896c0 9.6 6.4 16 16 16h19.2c9.6 0 16-6.4 16-16v-211.2c32-9.6 54.4-41.6 54.4-76.8s-22.4-64-54.4-76.8z m-25.6 118.4c-22.4 0-41.6-19.2-41.6-41.6s19.2-41.6 41.6-41.6 41.6 19.2 41.6 41.6-19.2 41.6-41.6 41.6z","p-id":"28570",fill:"#ffffff"}),e("path",{d:"M745.6 691.2V480c0-9.6-6.4-16-16-16h-19.2c-9.6 0-16 6.4-16 16v211.2c-32 12.8-54.4 41.6-54.4 76.8s22.4 64 54.4 76.8V896c0 9.6 6.4 16 16 16h19.2c9.6 0 16-6.4 16-16v-51.2c32-9.6 54.4-41.6 54.4-76.8s-22.4-64-54.4-76.8z m-25.6 118.4c-22.4 0-41.6-19.2-41.6-41.6s19.2-41.6 41.6-41.6 41.6 19.2 41.6 41.6-19.2 41.6-41.6 41.6zM224 464h352v32H224zM224 560h352v32H224zM224 656h352v32H224zM384 368h192v32h-192z","p-id":"28571",fill:"#ffffff"})],-1),Ss=[js],Cs={key:7,style:{display:"flex"}},Is=e("svg",{t:"1601470494636",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"29424",width:"16",height:"16"},[e("path",{d:"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m-1.592889 791.153778a39.196444 39.196444 0 0 1-39.196444-39.196445 39.139556 39.139556 0 0 1 39.196444-39.196444 39.196444 39.196444 0 0 1 39.196445 39.196444 39.253333 39.253333 0 0 1-39.196445 39.196445z m173.397333-399.075556v0.682667a171.918222 171.918222 0 0 1-142.620444 170.666667v70.200888a31.516444 31.516444 0 0 1-31.459556 31.459556 31.459556 31.459556 0 0 1-31.459555-31.459556V500.167111h34.133333a108.714667 108.714667 0 0 0 108.088889-109.681778 108.714667 108.714667 0 0 0-109.624889-108.088889 108.771556 108.771556 0 0 0-108.088889 109.454223 32.028444 32.028444 0 0 1-30.663111 33.336889 32.028444 32.028444 0 0 1-33.336889-30.663112 21.105778 21.105778 0 0 1 0-2.673777 172.657778 172.657778 0 0 1 169.642667-175.616 172.714667 172.714667 0 0 1 175.616 169.358222z",fill:"#ffffff","p-id":"29425"})],-1),Ts=[Is],Ms={style:{flex:"1","margin-left":"10px"}},Ps={class:"flex-column"},zs={style:{flex:"1",display:"flex",width:"100%"}},Ds={style:{flex:"1",width:"100%"}};function Bs(s,a,o,t,l,d){const i=h("router-link");return c(),m("div",os,[e("div",ls,[o.icon==="Main"?(c(),m("div",is,rs)):M("",!0),o.icon==="Projects"?(c(),m("div",ds,_s)):M("",!0),o.icon==="Commit"?(c(),m("div",ms,us)):M("",!0),o.icon==="Wiki"?(c(),m("div",fs,xs)):M("",!0),o.icon==="TeamSetting"?(c(),m("div",gs,ys)):M("",!0),o.icon==="ProjectSetting"?(c(),m("div",bs,ws)):M("",!0),o.icon==="WikiSetting"?(c(),m("div",$s,Ss)):M("",!0),o.icon==="Help"?(c(),m("div",Cs,Ts)):M("",!0)]),e("div",Ms,[e("div",Ps,[e("div",zs,[e("div",Ds,[f(i,{to:o.to},{default:D(()=>[L(v(o.to.params.title),1)]),_:1},8,["to"])])])])])])}var _e=w(as,[["render",Bs]]);const Ae=s=>(H("data-v-99095cde"),s=s(),A(),s),Ls={class:"flex-row flex w-100 align-items-center pt-1 pe-3 pb-2 ps-4"},Us={class:"flex-fill text-white",style:{height:"50px"}},Vs={class:"flex-row flex align-items-center pb-3 pt-2"},Hs={class:"flex-fill ms-3 fs-c11 text-white fw-bolder"},As=Ae(()=>e("svg",{t:"1603695788065",class:"icon",viewBox:"0 0 1028 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"25977",width:"20",height:"20"},[e("path",{d:"M989.866667 234.666667h-490.666667c-17.066667 0-34.133333-21.333333-34.133333-42.666667 0-25.6 12.8-42.666667 34.133333-42.666667h490.666667c17.066667 0 34.133333 17.066667 34.133333 42.666667 0 21.333333-12.8 42.666667-34.133333 42.666667z m-473.6 128h465.066666c25.6 0 46.933333 21.333333 46.933334 42.666666 0 25.6-21.333333 42.666667-46.933334 42.666667H516.266667c-25.6 0-46.933333-17.066667-46.933334-42.666667s21.333333-42.666667 46.933334-42.666666z m0 298.666666c-25.6 0-46.933333-21.333333-46.933334-42.666666 0-25.6 21.333333-42.666667 46.933334-42.666667h465.066666c25.6 0 46.933333 17.066667 46.933334 42.666667s-21.333333 42.666667-46.933334 42.666666H516.266667z m4.266666 128h452.266667c29.866667 0 51.2 17.066667 51.2 42.666667s-21.333333 42.666667-51.2 42.666667h-452.266667c-29.866667 0-51.2-17.066667-51.2-42.666667s21.333333-42.666667 51.2-42.666667z m-192 25.6c-17.066667 17.066667-46.933333 17.066667-64 0l-251.733333-273.066666c-17.066667-17.066667-17.066667-51.2 0-68.266667l251.733333-273.066667c17.066667-17.066667 46.933333-17.066667 64 0s17.066667 51.2 0 68.266667l-221.866666 238.933333 221.866666 238.933334c17.066667 21.333333 17.066667 51.2 0 68.266666z","p-id":"25978",fill:"#bfbfbf"})],-1)),Ns=[As],qs={class:"flex-fill"},Es=Ae(()=>e("li",null,[e("span")],-1)),Fs=Ae(()=>e("li",null,[e("span")],-1)),Os={setup(s){var i;const{proxy:a}=I();P();let o=C(),t=S({currentIndex:1,team:o.params.team,teamName:"",sidebar:(i=localStorage.getItem("sidebar"))!=null?i:"true"});T(()=>{t.team=o.params.team,t.currentIndex=o.meta.tagIndex,l(),a.bus.on("showSidebar",function(){t.sidebar="true"})});let l=()=>{a.get(a.urls.team_get.format(t.team)).then(function(n){t.teamName=n.data.name})},d=()=>{localStorage.setItem("sidebar","false"),localStorage.setItem("toggle","true"),t.sidebar="false",a.bus.emit("showToggle")};return G(()=>o.params,n=>{t.currentIndex=o.meta.tagIndex,t.team!==o.params.team&&o.params.team&&(t.team=o.params.team,l())}),(n,_)=>{const r=h("router-link");return c(),m("div",{class:B(["flex-column flex sidebar",{open:g(t).sidebar==="true",close:g(t).sidebar==="false"}])},[e("div",Ls,[e("div",Us,[f(r,{to:{name:"Index"}},{default:D(()=>[e("div",Vs,[e("div",Hs,v(g(t).teamName),1)])]),_:1})]),g(t).sidebar==="true"?(c(),m("div",{key:0,class:"arrow-color align-self-start pointer pt-2",onClick:_[0]||(_[0]=(...p)=>g(d)&&g(d)(...p))},Ns)):M("",!0)]),e("div",qs,[e("ul",null,[e("li",{class:B({active:g(t).currentIndex===1})},[f(_e,{icon:"Main",to:{name:"Workbench",params:{team:g(t).team,type:"overview",title:"\u6211\u7684\u5DE5\u4F5C\u53F0"}}},null,8,["to"])],2),Es,e("li",{class:B({active:g(t).currentIndex===21})},[f(_e,{icon:"Projects",to:{name:"Projects",params:{team:g(t).team,title:"\u9879\u76EE\u7BA1\u7406"}}},null,8,["to"])],2),e("li",{class:B({active:g(t).currentIndex===23})},[f(_e,{icon:"Wiki",to:{name:"Spaces",params:{team:g(t).team,title:"\u6587\u6863\u4E2D\u5FC3"}}},null,8,["to"])],2),e("li",{class:B({active:g(t).currentIndex===26})},[f(_e,{icon:"TeamSetting",to:{name:"TeamSetting",params:{team:g(t).team,type:"manager",title:"\u7EC4\u7EC7\u67B6\u6784"}}},null,8,["to"])],2),Fs,e("li",{class:B({active:g(t).currentIndex===82})},[f(_e,{icon:"ProjectSetting",to:{name:"ProjectSettingManager",params:{team:g(t).team,title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3"}}},null,8,["to"])],2),e("li",{class:B({active:g(t).currentIndex===83})},[f(_e,{icon:"WikiSetting",to:{name:"WikiSetting",params:{team:g(t).team,type:"list",title:"\u6587\u6863\u914D\u7F6E\u4E2D\u5FC3"}}},null,8,["to"])],2)])]),e("div",null,[e("ul",null,[e("li",null,[f(_e,{icon:"Help",to:{name:"Help",params:{title:"\u5E2E\u52A9\u4E2D\u5FC3"}}})])])])],2)}}};var Rs=w(Os,[["__scopeId","data-v-99095cde"]]);const Gs={props:{team:String,name:String},setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,projects:[],isShow:!1});T(()=>{t()});let t=()=>{let l=s.urls.team_project_list.format(o.team),d={categories:[],name:""};s.post(l,d).then(function(i){o.projects=i.data})};return{self:o}}},Ws=s=>(H("data-v-b640e9e8"),s=s(),A(),s),Ks={class:"flex-row flex align-items-center"},Js=Ws(()=>e("div",{style:{width:"1px",height:"22px","border-left":"1px solid #aaaaaa"},class:"ps-3"},null,-1)),Ys={style:{"font-size":"16px"}},Qs={class:"dropdown-menu border-0 jiBox"};function Zs(s,a,o,t,l,d){const i=h("router-link");return c(),m("div",Ks,[Js,e("div",{class:B(["flex-row flex align-items-center fs-c9 project-dropdown h-100",{open:t.self.isShow}]),"data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-offset":"-16,2"},[e("div",Ys,v(o.name),1)],2),e("ul",Qs,[(c(!0),m(j,null,z(t.self.projects,n=>(c(),m("li",{class:"px-3 py-1",key:n.uuid},[f(i,{to:{name:"Project",params:{team:t.self.team,project:n.uuid}}},{default:D(()=>[L(v(n.name),1)]),_:2},1032,["to"])]))),128))])])}var Xs=w(Gs,[["render",Zs],["__scopeId","data-v-b640e9e8"]]);const ea={setup(){let{proxy:s}=I(),a=P(),o=C(),t=S({team:o.params.team,show:!1,user:{avatar:"/images/default_avatar.jpg"}});T(()=>{d()});let l=n=>{t.show=!1,o.params.type!==n&&a.push({name:"Center",params:{type:n}})},d=()=>{let n=s.urls.team_user_get.format(t.team,ke());s.get(n).then(function(_){t.user=_.data})};return{self:t,goto:l,get_user:d,logout:n=>{a.push({name:n})}}}},Ne=s=>(H("data-v-6bfaba2a"),s=s(),A(),s),ta={class:"flex-row flex avatar-container"},sa={class:"flex-row flex align-items-center avatar-header-person-plus"},aa=Ne(()=>e("i",{style:{"font-size":"1.5rem"},class:"bi bi-person-plus"},null,-1)),oa={class:"avatar-center","data-bs-toggle":"dropdown","data-bs-offset":"-20,2"},la={class:"align-items-center flex-row flex avatar-center-icon"},ia=["src"],na={class:"dropdown-menu border-0 jiBox"},ra={class:"avatar-dropdown-header"},da={class:"dropdown-email"},ca=Ne(()=>e("li",{class:"avatar-dropdown-line"},null,-1)),_a={class:"avatar-dropdown-item"},ma={class:"avatar-dropdown-item"},pa={class:"avatar-dropdown-item"},ua=Ne(()=>e("li",{class:"avatar-dropdown-line"},null,-1)),fa={class:"avatar-dropdown-item"};function ha(s,a,o,t,l,d){const i=h("router-link");return c(),m("div",ta,[e("div",sa,[f(i,{to:{name:"TeamSetting",params:{team:t.self.team,type:"member",title:"\u7EC4\u7EC7\u67B6\u6784"}}},{default:D(()=>[aa]),_:1},8,["to"])]),e("div",oa,[e("div",la,[e("img",{src:t.self.user.avatar},null,8,ia)])]),e("ul",na,[(c(!0),m(j,null,z(t.self.projects,n=>(c(),m("li",{class:"px-3 py-1",key:n.uuid},[f(i,{to:{name:"Project",params:{team:t.self.team,project:n.uuid}}},{default:D(()=>[L(v(n.name),1)]),_:2},1032,["to"])]))),128)),e("li",ra,[e("div",null,v(t.self.user.name),1),e("div",da,v(t.self.user.email),1)]),ca,e("li",_a,[e("div",{onClick:a[0]||(a[0]=n=>t.goto("account"))},"\u8D26\u53F7\u8BBE\u7F6E")]),e("li",ma,[e("div",{onClick:a[1]||(a[1]=n=>t.goto("safe"))},"\u5B89\u5168\u8BBE\u7F6E")]),e("li",pa,[e("div",{onClick:a[2]||(a[2]=n=>t.goto("certificate"))},"\u767B\u5F55\u51ED\u8BC1")]),ua,e("li",fa,[e("div",{onClick:a[3]||(a[3]=n=>t.logout("Logout"))},"\u6CE8\u9500")])])])}var ct=w(ea,[["render",ha],["__scopeId","data-v-6bfaba2a"]]);const xa={setup(){var l;const{proxy:s}=I();P();let a=C(),o=S({toggle:(l=localStorage.getItem("toggle"))!=null?l:"false",title:a.meta.title});return be(()=>{s.bus.on("showToggle",function(){o.toggle="true"})}),G(()=>a.meta.title,d=>{o.title=a.meta.title}),{self:o,open:()=>{localStorage.setItem("sidebar","true"),localStorage.setItem("toggle","false"),o.toggle="false",s.bus.emit("showSidebar")}}}},ga=s=>(H("data-v-ff0d03ba"),s=s(),A(),s),va={class:"flex-row flex align-items-center toggle-container p-2"},ya=ga(()=>e("svg",{t:"1603696402499",class:"icon",viewBox:"0 0 1028 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"31622",width:"20",height:"20"},[e("path",{d:"M41.59999967 784.99999967l483.00000033 0c16.80000033 0 33.59999967 20.99999967 33.59999967 42.00000033 0 25.20000001-12.6 42.00000033-33.59999967 42.00000033l-483.00000033 0c-16.80000033 0-33.59999967-16.80000033-33.59999967-42.00000033 0-20.99999967 12.6-42.00000033 33.59999967-42.00000033z m466.2-125.99999999l-457.79999934 0c-25.20000001 0-46.19999967-20.99999967-46.20000066-41.99999935 0-25.20000001 20.99999967-42.00000033 46.20000066-42.00000033L507.79999967 575c25.20000001 0 46.19999967 16.80000033 46.20000066 42.00000033s-20.99999967 42.00000033-46.20000066 41.99999935z m0-293.99999936c25.20000001 0 46.19999967 20.99999967 46.20000066 41.99999935 0 25.20000001-20.99999967 42.00000033-46.20000066 42.00000033l-457.79999934 0c-25.20000001 0-46.19999967-16.80000033-46.20000066-42.00000033s20.99999967-42.00000033 46.20000066-41.99999935L507.79999967 365.00000032z m-4.19999934-125.99999999l-445.20000034 0c-29.40000033 0-50.4-16.80000033-50.39999999-42.00000033s20.99999967-42.00000033 50.4-42.00000033l445.20000033 0c29.40000033 0 50.4 16.80000033 50.4 42.00000033s-20.99999967 42.00000033-50.4 42.00000033z m189-25.2c16.80000033-16.80000033 46.19999967-16.80000033 63 0l247.79999967 268.79999933c16.80000033 16.80000033 16.80000033 50.4 0 67.20000033l-247.79999966 268.80000034c-16.80000033 16.80000033-46.19999967 16.80000033-63.00000001 0s-16.80000033-50.4 0-67.20000033l218.39999934-235.19999968-218.39999934-235.20000065c-16.80000033-20.99999967-16.80000033-50.4 0-67.19999934z","p-id":"31623",fill:"#515151"})],-1)),ba=[ya],ka={class:"toggle-title"};function wa(s,a,o,t,l,d){return c(),m("div",va,[t.self.toggle==="true"?(c(),m("div",{key:0,class:"flex-row flex align-items-center pointer justify-color",onClick:a[0]||(a[0]=(...i)=>t.open&&t.open(...i))},ba)):M("",!0),e("div",ka,v(t.self.title),1)])}var $a=w(xa,[["render",wa],["__scopeId","data-v-ff0d03ba"]]);const ja={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,project:a.params.project,com:a.params.com,selectedCom:a.params.com,attrs:[{uuid:"com",name:"\u9879\u76EE\u7EC4\u5EFA"},{uuid:"issue_type",name:"\u5DE5\u4F5C\u9879\u7C7B\u578B",items:[{uuid:"field"},{uuid:"issue_type_permission"},{uuid:"issue_type_flow"}]},{uuid:"project_permission",name:"\u9879\u76EE\u6743\u9650"},{uuid:"project_field",name:"\u9879\u76EE\u5C5E\u6027"},{uuid:"project_status",name:"\u9879\u76EE\u72B6\u6001"},{uuid:"project_info",name:"\u9879\u76EE\u4FE1\u606F"},{uuid:"more",name:"\u66F4\u591A"}],designer:!1,dropdownActive:!1,dropParams:["\u4E2A\u4EBA\u4E2D\u5FC3","\u9000\u51FA\u767B\u5F55"],projects:[],currentTabComponent:"",items:[],projectName:"",title:"",hasProjectHeader:!1});T(()=>{s.bus.on("updateComponents",function(r){l()}),s.bus.on("updateProjectInfo",function(r){d()}),t()});let t=()=>{o.designer=!1,o.project=a.params.project,o.com=a.params.com,o.selectedCom=a.params.com,o.hasProjectHeader=!!(o.project&&o.com),o.hasProjectHeader&&(l(),d(),i())};G(()=>a.params,r=>{t()});let l=()=>{s.get(s.urls.components.format(o.team,o.project)).then(function(r){o.items=r.data})},d=()=>{s.get(s.urls.project_get.format(o.team,o.project)).then(function(r){o.projectName=r.data.name})},i=()=>{if(o.com==="designer"){o.currentTabComponent="designer",o.designer=!0;return}s.get(s.urls.component_get.format(o.team,o.project,o.com)).then(function(r){o.currentTabComponent=r.data.template_uuid,o.comName=r.data.name,r.data.objects.length>0&&(o.issue_type=r.data.objects[0].uuid)})},n=(r,p)=>{if(r.uuid===p)return!0;if(r.items&&r.items.length>0){for(let u=0;u<r.items.length;u++)if(r.items[u].uuid===p)return!0}return!1},_=Q(()=>{var r;return(r=a.params.attr)!=null?r:"com"});return{self:o,attr:_,components_get:l,project_get:d,shift:i,isActive:n}},components:{DropDown:Xs,UserCenterAvatar:ct,Toggle:$a}},Sa=s=>(H("data-v-53569ee0"),s=s(),A(),s),Ca={class:"flex-column flex jiBox"},Ia={class:"app-header flex-row flex align-items-center"},Ta={key:0,class:"flex-fill"},Ma={key:0,id:"com",class:"com-outline"},Pa={class:"project-header-dropdown"},za={class:"project-header-com"},Da=Sa(()=>e("div",{class:"project-header-designer"},[e("i",{class:"bi bi-gear"}),L(" \u9879\u76EE\u8BBE\u7F6E ")],-1)),Ba={key:1,class:"com-outline"},La={key:1,class:"flex-fill"},Ua={key:0,class:"flex-row flex justify-content-center project-header-designer-attr"};function Va(s,a,o,t,l,d){const i=h("Toggle"),n=h("DropDown"),_=h("router-link"),r=h("UserCenterAvatar");return c(),m("div",Ca,[e("div",Ia,[f(i),t.self.hasProjectHeader?(c(),m("div",Ta,[t.self.items&&t.self.items.length>0?(c(),m("div",Ma,[e("div",Pa,[f(n,{team:t.self.team,name:t.self.projectName},null,8,["team","name"])]),(c(!0),m(j,null,z(t.self.items,p=>(c(),m("div",{key:p.com},[f(_,{class:B([{active:p.uuid===t.self.selectedCom},"com align-items-center justify-content-center"]),to:{name:"Component",params:{team:t.self.team,project:t.self.project,com:p.uuid}}},{default:D(()=>[e("div",za,v(p.name),1)]),_:2},1032,["class","to"])]))),128)),e("div",null,[f(_,{class:B([{active:t.self.selectedCom==="designer"},"com align-items-center justify-content-center"]),to:{name:"ComponentDesigner",params:{team:t.self.team,project:t.self.project,com:"designer",attr:"com"}}},{default:D(()=>[Da]),_:1},8,["class","to"])])])):(c(),m("div",Ba,"\xA0"))])):(c(),m("div",La)),f(r)]),t.self.hasProjectHeader&&t.self.designer?(c(),m("div",Ua,[(c(!0),m(j,null,z(t.self.attrs,p=>(c(),m("div",{class:"attr",key:p.uuid},[f(_,{class:B({active:t.isActive(p,t.attr)}),to:{name:"ComponentDesigner",params:{team:t.self.team,project:t.self.project,com:"designer",attr:p.uuid}}},{default:D(()=>[L(v(p.name),1)]),_:2},1032,["class","to"])]))),128))])):M("",!0)])}var Ha=w(ja,[["render",Va],["__scopeId","data-v-53569ee0"]]);const Aa={},Na={class:"flex-fill m-4"};function qa(s,a){const o=h("router-view");return c(),m("div",Na,[f(o)])}var Ea=w(Aa,[["render",qa]]);const Fa={name:"layout",components:{Sidebar:Rs,Header:Ha,Main:Ea}},Oa={class:"main flex-column flex"};function Ra(s,a,o,t,l,d){const i=h("Sidebar"),n=h("Header"),_=h("Main");return c(),m(j,null,[f(i),e("div",Oa,[f(n),f(_)])],64)}var Ga=w(Fa,[["render",Ra]]);const _t=s=>(H("data-v-ebbf28b4"),s=s(),A(),s),Wa={style:{width:"100%",height:"100%"},class:"flex-row flex align-items-center justify-content-center"},Ka={style:{position:"relative",width:"800px",height:"600px","background-color":"#f0f0f0",overflow:"hidden"},class:"flex-row flex align-items-center justify-content-center"},Ja=X('<div style="position:absolute;width:800px;height:600px;" data-v-ebbf28b4><i class="bi bi-circle-fill" style="font-size:15rem;position:absolute;color:rgba(255, 206, 86, 0.3);top:-40px;left:200px;" data-v-ebbf28b4></i><i class="bi bi-circle-fill" style="font-size:25rem;position:absolute;color:rgba(75, 192, 192, 0.3);top:-50px;left:10px;" data-v-ebbf28b4></i><i class="bi bi-circle-fill" style="font-size:40rem;position:absolute;color:rgba(255, 99, 132, 0.3);top:100px;left:450px;" data-v-ebbf28b4></i><i class="bi bi-circle-fill" style="font-size:20rem;position:absolute;color:rgba(153, 102, 255, 0.3);top:300px;left:300px;" data-v-ebbf28b4></i></div>',1),Ya={style:{position:"absolute",width:"600px",height:"400px","background-color":"#ffffff","border-radius":"5px"},class:"enter flex-column flex justify-content-center"},Qa={style:{flex:"1",padding:"60px 60px"},class:"flex-column flex"},Za=_t(()=>e("div",{style:{"font-size":"18px"},class:"flex-row flex align-items-center"},[L("\u767B\u5F55 Jitask \u9879\u76EE\u7BA1\u7406\u7CFB\u7EDF"),e("sup",{style:{color:"#17C4BB","margin-left":"5px"}},"beta")],-1)),Xa={class:"flex-row flex align-items-center",style:{padding:"30px 0"}},eo={class:"flex-row flex align-items-center"},to=_t(()=>e("div",{style:{"margin-top":"30px",color:"#909090"},class:"flex-row flex align-items-center justify-content-center"}," \u6F14\u793A\u7248\u672C\uFF0C\u70B9\u51FB\u767B\u5F55\u8FDB\u5165\u7CFB\u7EDF\uFF0C\u6216\u8005\u81EA\u5DF1\u6CE8\u518C\u4E00\u4E2A\u8BD5\u8BD5 ",-1)),so={style:{flex:"0 0 48px","background-color":"#f0f0f0"},class:"flex-row flex align-items-center"},ao=X('<div style="position:absolute;bottom:10px;" data-v-ebbf28b4><div style="flex:0 0 60px;" class="flex-row align-items-center flex justify-content-center copyright" data-v-ebbf28b4><div data-v-ebbf28b4> Copyright \xA92020 <a href="/" data-v-ebbf28b4>\u7231\u65AF\u56ED</a></div><div style="margin-left:5px;" data-v-ebbf28b4><a href="https://beian.miit.gov.cn" target="_blank" data-v-ebbf28b4>\u7CA4ICP\u59072020117325\u53F7</a></div></div></div>',1),oo={setup(s){const{proxy:a}=I();let o=P(),t=W("soul@iissy.com"),l=W("S0se4r5t2"),d=()=>{let n={email:t.value,password:l.value};a.post(a.urls.login_url,n).then(function(_){_.data.result.user&&_.data.result.user.uuid&&_.data.result.user.default_team&&(tt(_.data.result.user.uuid),o.push({name:"Workbench",params:{team:_.data.result.user.default_team,type:"overview"}}))}).catch(function(_){a.bus.emit("alertDanger",_.response.data.errcode)})},i=()=>{o.push({name:"Reg"})};return(n,_)=>(c(),m("div",Wa,[e("div",Ka,[Ja,e("div",Ya,[e("div",Qa,[Za,e("div",Xa,[V(e("input",{type:"text","onUpdate:modelValue":_[0]||(_[0]=r=>ce(t)?t.value=r:t=r),class:"login-name",placeholder:"Email",autocomplete:"off"},null,512),[[O,g(t)]])]),e("div",eo,[V(e("input",{type:"password","onUpdate:modelValue":_[1]||(_[1]=r=>ce(l)?l.value=r:l=r),class:"login-name",placeholder:"Password",autocomplete:"off"},null,512),[[O,g(l)]])]),to]),e("div",so,[e("div",{style:{flex:"1","background-color":"#e0e0e0",height:"100%","padding-left":"20px","border-radius":"0 0 0 5px",cursor:"pointer"},class:"flex-row flex align-items-center reg",onClick:_[2]||(_[2]=(...r)=>g(i)&&g(i)(...r))}," \u6CE8\u518C "),e("div",{class:"login justify-content-end flex-row flex align-items-center",onClick:_[3]||(_[3]=(...r)=>g(d)&&g(d)(...r))}," \u767B\u5F55 ")])]),ao])]))}};var lo=w(oo,[["__scopeId","data-v-ebbf28b4"]]),io="https://cdn.jsdelivr.net/gh/jitask/cache/dist/images/team.jpg";const me=s=>(H("data-v-17e8a1fc"),s=s(),A(),s),no={style:{width:"100%",height:"100%"},class:"flex-row flex align-items-center justify-content-center"},ro={style:{position:"relative",width:"1000px",height:"600px","background-color":"#f0f0f0",overflow:"hidden"},class:"flex-row flex align-items-center justify-content-center"},co=X('<div style="position:absolute;width:800px;height:600px;" data-v-17e8a1fc><i class="bi bi-circle-fill" style="font-size:10rem;position:absolute;color:rgba(255, 206, 86, 0.3);top:-50px;left:150px;" data-v-17e8a1fc></i><i class="bi bi-circle-fill" style="font-size:20rem;position:absolute;color:rgba(75, 192, 192, 0.3);top:-150px;left:-120px;" data-v-17e8a1fc></i><i class="bi bi-circle-fill" style="font-size:30rem;position:absolute;color:rgba(255, 99, 132, 0.3);top:200px;left:460px;" data-v-17e8a1fc></i><i class="bi bi-circle-fill" style="font-size:15rem;position:absolute;color:rgba(153, 102, 255, 0.3);top:320px;left:330px;" data-v-17e8a1fc></i><i class="bi bi-circle-fill" style="font-size:18rem;position:absolute;color:rgba(0, 191, 255, 0.1);top:300px;left:-50px;" data-v-17e8a1fc></i><i class="bi bi-circle-fill" style="font-size:15rem;position:absolute;color:rgba(0, 128, 0, 0.1);top:130px;left:680px;" data-v-17e8a1fc></i></div>',1),_o={style:{position:"absolute",width:"900px",height:"500px","background-color":"#ffffff","border-radius":"5px",padding:"30px"},class:"flex-column flex"},mo={class:"flex-row flex",style:{height:"100%"}},po={class:"flex-column flex flex-fill me-4 pe-2",style:{width:"45%"}},uo=me(()=>e("div",{style:{flex:"0 0 auto"},class:"flex-row flex fs-c10 fw-bolder"},"\u8BF7\u5B8C\u5584\u4F60\u7684\u4FE1\u606F\uFF0C\u514D\u8D39\u521B\u5EFA\u8BD5\u7528\u56E2\u961F",-1)),fo={key:0,style:{flex:"1"}},ho={class:"flex-row flex align-items-center",style:{padding:"30px 0"}},xo={style:{flex:"1 1 70%"}},go={style:{flex:"1 1 30%","text-align":"right"}},vo=["disabled"],yo={class:"flex-row flex align-items-center"},bo={style:{"margin-top":"60px",color:"#909090"},class:"flex-row flex align-items-center justify-content-center"},ko={key:1,style:{flex:"1"}},wo={class:"flex-row flex align-items-center",style:{padding:"15px 0"}},$o={class:"flex-row flex align-items-center",style:{padding:"15px 0"}},jo={class:"flex-row flex align-items-center",style:{padding:"15px 0"}},So={style:{"margin-top":"60px",color:"#909090"},class:"flex-row flex align-items-center justify-content-center"},Co={style:{flex:"0 0 100px"}},Io=me(()=>e("div",{style:{flex:"0 0 20px"}},"\xA0",-1)),To={style:{flex:"1"}},Mo=me(()=>e("div",{style:{color:"#909090",flex:"0 0 80px","text-align":"center"}}," \u6F14\u793A\u7248\uFF0C\u8BF7\u8F93\u5165\u5408\u6CD5\u7684\u624B\u673A\u53F7\u7801\uFF0C\u90AE\u7BB1\u7B49\u5373\u53EF\u901A\u8FC7\u9A8C\u8BC1 ",-1)),Po={style:{"border-left":"1px solid #e8e8e8",width:"55%"},class:"flex-column flex flex-fill justify-content-center"},zo=me(()=>e("div",{style:{flex:"0 0 auto"}},[e("div",{class:"flex-row flex align-items-center"},[e("div",{class:"ps-4"},[e("svg",{t:"1604535926297",class:"icon",viewBox:"0 0 1170 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5606",width:"25",height:"25"},[e("path",{d:"M1150.244571 327.0656L925.2864 26.975086c-3.920457-5.880686-14.862629-9.0112-25.951086-9.0112-10.620343 0-21.211429 2.8672-25.980343 9.0112l-207.608685 282.799543c-24.488229 37.917257-12.522057 51.931429 34.552685 51.931428h103.892115c-0.468114 50.5856-3.364571 102.341486-7.753143 137.216-20.948114 167.087543-127.268571 211.646171-131.744914 213.577143-15.594057 6.436571-12.6976 29.9008 6.407314 29.9008 268.463543 0 331.103086-310.915657 340.757943-380.693943h103.8336c1.462857 0.117029 3.861943 0.292571 6.816914 0.292572 15.623314 0 46.021486-3.978971 27.735771-34.933029z",fill:"#333333","p-id":"5607"}),e("path",{d:"M600.736914 567.968914h-134.026971c0.585143-65.301943 4.271543-132.213029 9.947428-177.210514 27.092114-215.683657 164.308114-273.261714 170.130286-275.6608 20.187429-8.367543 16.384-38.619429-8.279771-38.619429-346.5216 0-427.446857 401.408-439.9104 491.461486H64.570514a88.4736 88.4736 0 0 0-8.894171-0.4096c-20.099657 0-59.392 5.090743-35.810743 45.143772l290.464914 387.452342c5.061486 7.606857 19.2512 11.644343 33.528686 11.644343 13.692343 0 27.4432-3.715657 33.440914-11.644343l268.0832-365.187657c31.685486-48.9472 16.1792-66.9696-44.6464-66.9696z",fill:"#333333","p-id":"5608"})])]),e("div",{class:"ms-1"},[e("a",{href:"/",class:"fw-bolder fs-c11 home-title",style:{color:"#333333","letter-spacing":"3px","text-align":"center"}},"Jitask")]),e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1608034654856",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5182",width:"32",height:"32"},[e("path",{d:"M479.40136719 120.88671875h65.20605468v782.2265625h-65.20605468z","p-id":"5183",fill:"#2c2c2c"})])]),e("div",{class:"fw-bolder fs-c11",style:{color:"#333333","letter-spacing":"3px"}}," \u521B\u5EFA\u56E2\u961F ")])],-1)),Do=me(()=>e("div",{style:{opacity:"0.8"},class:"my-3 ps-2 text-center"},[e("img",{src:io,width:"400",height:"200"})],-1)),Bo={class:"flex-column flex flex-fill"},Lo=me(()=>e("div",{style:{color:"#333333"},class:"pt-2 ps-4 fw-bolder fs-c10"}," \u60A8\u53EF\u4EE5\u5C1D\u8BD5 Jitask \u5168\u7EBF\u4EA7\u54C1\u7684\u529F\u80FD ",-1)),Uo={style:{flex:"1","text-align":"left"}},Vo=me(()=>e("div",{style:{flex:"0 0 auto",color:"#1e7e34"}},[e("i",{class:"bi bi-check"})],-1)),Ho=X('<div style="position:absolute;bottom:10px;" data-v-17e8a1fc><div style="flex:0 0 60px;" class="flex-row flex align-items-center justify-content-center copyright" data-v-17e8a1fc><div data-v-17e8a1fc> Copyright \xA92020 <a href="/" data-v-17e8a1fc>\u7231\u65AF\u56ED</a></div><div style="margin-left:5px;" data-v-17e8a1fc><a href="https://beian.miit.gov.cn" target="_blank" data-v-17e8a1fc>\u7CA4ICP\u59072020117325\u53F7</a></div></div></div>',1),Ao={setup(s){let{proxy:a}=I(),o=W(""),t=W(""),l=W(""),d=W(""),i=W(""),n=W(!0),_=W(!1),r=W(!1),p=S({items:[{uuid:"a",name:"\u7BA1\u7406\u56E2\u961F\uFF0C\u6210\u5458\u89D2\u8272\u7BA1\u7406\uFF0C\u4EFB\u52A1\u7BA1\u7406\uFF0C\u6743\u9650\u914D\u7F6E"},{uuid:"c",name:"\u6587\u6863\u8D44\u6599\u7BA1\u7406"},{uuid:"d",name:"\u4E2A\u4EBA\u5DE5\u4F5C\u53F0\u67E5\u770B\u4E2A\u4EBA\u4EFB\u52A1\u60C5\u51B5"},{uuid:"e",name:"\u9879\u76EE\u62A5\u8868\uFF0C\u9879\u76EE\u8FDB\u5C55\u56FE\u6807\u5C55\u793A"}]}),u=()=>{if(!o.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801");return}if(!t.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801");return}if(t.value.toString().length!==6){a.bus.emit("alertDanger","\u9A8C\u8BC1\u7801\u662F\u516D\u4F4D\u6570\u5B57");return}n.value=!1,_.value=!0},x=()=>{n.value=!0,_.value=!1},b=()=>{if(!l.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740");return}if(!d.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u5BC6\u7801");return}if(!i.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u56E2\u961F\u540D\u79F0");return}let y="-",k=l.value.split("@");k&&k.length===2&&(y=k[0]);let U={name:y,team_name:i.value,email:l.value,password:d.value,phone:"+"+o.value,phone_code:t.value,team_role:"admin"};a.post(a.urls.team_create,U).then(function(E){E.data.code===200&&(window.location.href="/")}).catch(function(E){a.bus.emit("alertDanger",E.response.data.errcode)})},$=()=>{if(r.value=!0,!o.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801");return}a.post(a.urls.send_phone_code.format("+"+o.value)).then(function(y){y.data.code&&(t.value=y.data.code)}).catch(function(y){r.value=!1,a.bus.emit("alertDanger",y.response.data.errcode)})};return(y,k)=>(c(),m("div",no,[e("div",ro,[co,e("div",_o,[e("div",mo,[e("div",po,[uo,g(n)?(c(),m("div",fo,[e("div",ho,[e("div",xo,[V(e("input",{type:"text","onUpdate:modelValue":k[0]||(k[0]=U=>ce(o)?o.value=U:o=U),class:"form-control reg-input",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801",autocomplete:"off"},null,512),[[O,g(o),void 0,{trim:!0}]])]),e("div",go,[e("button",{type:"button",class:"btn btn-outline-primary",style:{height:"40px",outline:"none","box-shadow":"none"},disabled:g(r),onClick:k[1]||(k[1]=(...U)=>g($)&&g($)(...U))},"\u53D1\u9001\u9A8C\u8BC1\u7801",8,vo)])]),e("div",yo,[V(e("input",{type:"text","onUpdate:modelValue":k[2]||(k[2]=U=>ce(t)?t.value=U:t=U),class:"form-control reg-input",placeholder:"\u8BF7\u8F93\u5165 6 \u4F4D\u6570\u5B57\u9A8C\u8BC1\u7801",autocomplete:"off"},null,512),[[O,g(t),void 0,{trim:!0}]])]),e("div",bo,[e("button",{type:"button",class:"btn btn-primary",style:{height:"40px",width:"100%",outline:"none","box-shadow":"none"},onClick:k[3]||(k[3]=(...U)=>g(u)&&g(u)(...U))},"\u63D0\u4EA4\u9A8C\u8BC1")])])):M("",!0),g(_)?(c(),m("div",ko,[e("div",wo,[V(e("input",{type:"text","onUpdate:modelValue":k[4]||(k[4]=U=>ce(l)?l.value=U:l=U),class:"form-control reg-input",placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u90AE\u7BB1",autocomplete:"off"},null,512),[[O,g(l),void 0,{trim:!0}]])]),e("div",$o,[V(e("input",{type:"password","onUpdate:modelValue":k[5]||(k[5]=U=>ce(d)?d.value=U:d=U),class:"form-control reg-input",placeholder:"\u5BC6\u7801\u5E94\u4E3A8-32\u4F4D\uFF0C\u5FC5\u987B\u540C\u65F6\u5305\u542B\u6570\u5B57\u5B57\u6BCD",autocomplete:"off"},null,512),[[O,g(d),void 0,{trim:!0}]])]),e("div",jo,[V(e("input",{type:"text","onUpdate:modelValue":k[6]||(k[6]=U=>ce(i)?i.value=U:i=U),class:"form-control reg-input",placeholder:"\u8BF7\u8F93\u5165\u56E2\u961F\u540D\u79F0",autocomplete:"off"},null,512),[[O,g(i),void 0,{trim:!0}]])]),e("div",So,[e("div",Co,[e("button",{type:"button",class:"btn btn-outline-primary",style:{height:"40px",width:"100%",outline:"none","box-shadow":"none"},onClick:k[7]||(k[7]=(...U)=>g(x)&&g(x)(...U))},"\u8FD4\u56DE")]),Io,e("div",To,[e("button",{type:"button",class:"btn btn-primary",style:{height:"40px",width:"100%",outline:"none","box-shadow":"none"},onClick:k[8]||(k[8]=(...U)=>g(b)&&g(b)(...U))},"\u521B\u5EFA\u56E2\u961F")])])])):M("",!0),Mo]),e("div",Po,[zo,Do,e("div",Bo,[Lo,(c(!0),m(j,null,z(g(p).items,U=>(c(),m("div",{key:U.uuid,class:"flex-row flex b-line align-items-center py-2 ms-4"},[e("div",Uo,v(U.name),1),Vo]))),128))])])])]),Ho])]))}};var No=w(Ao,[["__scopeId","data-v-17e8a1fc"]]);const qo={id:"logout"},Eo={setup(s){let{proxy:a}=I();return T(()=>{a.get(a.urls.logout).then(function(o){o.data.code===200&&(window.location.href="/")})}),(o,t)=>(c(),m("div",qo," Bye-Bye, Baby! "))}};var Fo=w(Eo,[["__scopeId","data-v-509ea504"]]);const Oo={props:{title:{type:String},disabled:{type:Boolean,default:!1},plus:{type:Boolean,default:!1}},emits:["submit"],setup(s){let{proxy:a}=I(),{title:o,disabled:t,plus:l}=oe(s);return{title:o,disabled:t,plus:l,onsubmit:()=>{t.value||a.$emit("submit")}}}},Ro=["disabled"],Go={class:"flex-row flex align-items-center",style:{color:"inherit"}},Wo={key:0,style:{flex:"0 0 auto","margin-right":"5px"},class:"flex"},Ko=e("svg",{t:"1601478700106",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"34798",width:"12",height:"12"},[e("path",{d:"M956.1240653818753 579.0559211537523h-377.4918801217032v377.55208924331106c0 36.792317387069836-29.839867873102275 66.60264870994936-66.63332128133455 66.60264870994936-36.792317387069836 0-66.63218526017215-29.81033132287954-66.63218526017215-66.60264870994936v-377.55208924331106h-377.49415216402804c-36.822989958455004 0-66.63218526017215-29.81033132287954-66.63218526017215-66.60264870994936 0-36.77868513312089 29.812603365204367-66.60264870994936 66.63218526017215-66.60264870994936h377.4918801217032v-377.55208924331106c0-36.77868513312089 29.839867873102275-66.60264870994936 66.63218526017215-66.60264870994936 36.793453408232246 0 66.63332128133455 29.825099597990917 66.63332128133455 66.60264870994936v377.55322526447344h377.4918801217032c36.822989958455004 0 66.63332128133455 29.822827555666088 66.63332128133455 66.60037666762456-0.0011360211624130007 36.792317387069836-29.81033132287954 66.60037666762456-66.63332128133455 66.60037666762456z",fill:"#ffffff","p-id":"34799"})],-1),Jo=[Ko],Yo={style:{flex:"1",color:"inherit"}};function Qo(s,a,o,t,l,d){return c(),m("button",{type:"button",class:"btn btn-submit",disabled:t.disabled,onClick:a[0]||(a[0]=(...i)=>t.onsubmit&&t.onsubmit(...i))},[e("div",Go,[t.plus?(c(),m("div",Wo,Jo)):M("",!0),e("div",Yo,v(t.title),1)])],8,Ro)}var ee=w(Oo,[["render",Qo]]);const Zo={setup(){let s=C(),a=P(),o=S({team:s.params.team,space:s.params.space,page:s.params.page});return G(()=>s.params,l=>{o.team=s.params.team,o.space=s.params.space,o.page=s.params.page}),{self:o,add:()=>{o.page&&s.name!=="AddPage"&&a.push({name:"AddPage",params:{team:o.team,space:o.space,page:o.page}})}}},components:{AddButton:ee,UserCenterAvatar:ct}},mt=s=>(H("data-v-e7f02c78"),s=s(),A(),s),Xo={class:"flex-row flex align-items-center wiki-header"},el={class:"wiki-header-logo"},tl=mt(()=>e("div",{class:"flex-row flex align-items-center"},[e("div",null,[e("svg",{t:"1604535926297",class:"icon",viewBox:"0 0 1170 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5606",width:"25",height:"25"},[e("path",{d:"M1150.244571 327.0656L925.2864 26.975086c-3.920457-5.880686-14.862629-9.0112-25.951086-9.0112-10.620343 0-21.211429 2.8672-25.980343 9.0112l-207.608685 282.799543c-24.488229 37.917257-12.522057 51.931429 34.552685 51.931428h103.892115c-0.468114 50.5856-3.364571 102.341486-7.753143 137.216-20.948114 167.087543-127.268571 211.646171-131.744914 213.577143-15.594057 6.436571-12.6976 29.9008 6.407314 29.9008 268.463543 0 331.103086-310.915657 340.757943-380.693943h103.8336c1.462857 0.117029 3.861943 0.292571 6.816914 0.292572 15.623314 0 46.021486-3.978971 27.735771-34.933029z",fill:"#ffffff","p-id":"5607"}),e("path",{d:"M600.736914 567.968914h-134.026971c0.585143-65.301943 4.271543-132.213029 9.947428-177.210514 27.092114-215.683657 164.308114-273.261714 170.130286-275.6608 20.187429-8.367543 16.384-38.619429-8.279771-38.619429-346.5216 0-427.446857 401.408-439.9104 491.461486H64.570514a88.4736 88.4736 0 0 0-8.894171-0.4096c-20.099657 0-59.392 5.090743-35.810743 45.143772l290.464914 387.452342c5.061486 7.606857 19.2512 11.644343 33.528686 11.644343 13.692343 0 27.4432-3.715657 33.440914-11.644343l268.0832-365.187657c31.685486-48.9472 16.1792-66.9696-44.6464-66.9696z",fill:"#ffffff","p-id":"5608"})])]),e("div",{class:"wiki-header-link flex-row flex align-items-center"}," Jitask ")],-1)),sl={class:"wiki-header-title"},al=L("\u6587\u6863\u4E2D\u5FC3"),ol={class:"flex-column flex wiki-header-new"},ll=mt(()=>e("div",{class:"flex-fill"},null,-1));function il(s,a,o,t,l,d){const i=h("router-link"),n=h("AddButton"),_=h("UserCenterAvatar");return c(),m("div",Xo,[e("div",el,[f(i,{to:{name:"Index"}},{default:D(()=>[tl]),_:1})]),e("div",sl,[f(i,{icon:"Wiki",to:{name:"Spaces",params:{team:t.self.team}}},{default:D(()=>[al]),_:1},8,["to"])]),e("div",ol,[f(n,{title:"\u65B0\u5EFA\u9875\u9762",plus:!0,onSubmit:t.add},null,8,["onSubmit"])]),ll,f(_)])}var nl=w(Zo,[["render",il],["__scopeId","data-v-e7f02c78"]]);const rl={},dl={class:"flex-row flex flex-fill",style:{height:"0",background:"#fafbfe","min-width":"1024px"}};function cl(s,a){const o=h("router-view");return c(),m("div",dl,[f(o)])}var _l=w(rl,[["render",cl]]);const ml={data:function(){return{team:"",space:"",page:"",item:{},loaded:!1}},components:{Header:nl,Main:_l}},pl={class:"flex-column flex flex-fill"};function ul(s,a,o,t,l,d){const i=h("Header"),n=h("Main");return c(),m("div",pl,[f(i,{ref:"Header",page:s.page},null,8,["page"]),f(n)])}var fl=w(ml,[["render",ul]]);const hl={},xl={class:"flex-fill text-center mt-4 fs-5"};function gl(s,a){return c(),m("div",xl,"\u5E2E\u52A9\u4E2D\u5FC3")}var vl=w(hl,[["render",gl]]);const yl={key:0,class:"text-end pe-3 opacity-75"},bl=e("svg",{t:"1643549855974",class:"icon",viewBox:"0 0 1082 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7788",width:"32",height:"32"},[e("path",{d:"M123.183294 782.178038h289.420943v49.919133c9.830744 9.854664 24.062601 9.854664 33.917264 0l58.003785-58.147298c7.654108-7.127888 7.654108-23.5603-2.200556-31.262246l-58.003784-58.147299c-9.830744-9.878583-24.062601-9.878583-33.917265 0v49.919133H123.183294c-9.854664 0-15.858354 6.55383-15.858354 15.906193v15.906192c0 9.878583 6.577749 15.906192 15.858354 15.906192z m615.222817-247.060241c74.125248-45.398426 123.900867-127.082105 123.900866-219.840322 0.550139-142.031534-115.43351-257.728154-257.130177-257.728154s-257.130177 116.246759-257.130176 257.728154c0 93.045245 49.943052 174.537572 123.948704 219.864241a448.626381 448.626381 0 0 0-230.07769 165.328724H380.313471V671.40875l9.854663-9.878583c11.481161-11.50508 24.062601-15.882273 39.920955-15.882273 15.882273 0 29.013852 6.55383 39.944874 15.882273l58.003784 58.147299c22.436103 22.483941 22.436103 58.147299 0 78.956904l-59.630282 56.496881c-11.481161 11.50508-24.08652 15.906192-39.944874 15.906193a50.947654 50.947654 0 0 1-15.858354-3.300834v8.228165c0 14.279694-4.927332 27.411273-15.858354 37.313775l-51.426035 51.545631s-1.626498 1.626498-3.276915 1.626498h713.386746a450.635584 450.635584 0 0 0-317.023568-431.332882z m-133.229311-389.283128c-9.830744 0-15.858354-6.577749-15.858354-15.906193 0-9.878583 6.55383-15.906192 15.858354-15.906192 9.854664 0 15.858354 6.577749 15.858355 15.906192 0.550139 9.854664-6.003691 15.906192-15.858355 15.906193z m59.630282 12.055219c-8.204247-3.300834-12.581439-13.155497-9.830744-20.833524 3.276915-8.228166 13.131578-13.155497 20.785686-9.878583 67.28439 24.158277 115.983649 83.932074 128.565088 154.660812 4.903413 27.411273 3.276915 54.846465-3.300834 82.257737-2.726776 6.02761-9.304525 10.978861-15.332134 10.978861h-3.276915c-8.228166-1.650417-14.231856-11.529-11.481161-19.207026 4.927332-22.483941 6.55383-46.618299 1.626498-69.10224-9.806825-59.797716-51.402116-109.692929-107.755484-128.876037z m-289.420943 705.469529l-51.402116-51.545631a20.139871 20.139871 0 0 0-29.013852 0v43.341384H41.140828c-8.204247 1.650417-14.231856 8.228166-14.231856 16.456332v14.279694a14.112261 14.112261 0 0 0 14.231856 14.255776h253.829343v43.341384a20.139871 20.139871 0 0 0 29.013852 0l51.402116-51.545631c8.228166-7.749784 8.228166-20.379061 0-28.583308z",fill:"#727cf5","p-id":"7789"})],-1),kl=[bl],wl={key:1,class:"text-end pe-3 opacity-75"},$l=e("svg",{t:"1643549687742",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5654",width:"32",height:"32"},[e("path",{d:"M834.56 611.84c-51.2-48.64-117.76-84.48-192-104.96 66.56-43.52 110.08-117.76 110.08-202.24 0-133.12-107.52-240.64-240.64-240.64s-240.64 107.52-240.64 240.64c0 87.04 46.08 163.84 115.2 204.8-117.76 33.28-215.04 112.64-258.56 217.6-17.92 43.52 2.56 104.96 43.52 130.56 102.4 64 220.16 99.84 345.6 99.84 20.48 0 43.52-2.56 64-2.56l43.52-140.8 209.92-202.24z",fill:"#727cf5","p-id":"5655"}),e("path",{d:"M732.16 921.6c48.64-17.92 97.28-40.96 140.8-69.12 35.84-23.04 53.76-71.68 46.08-112.64L732.16 921.6z",fill:"#727cf5","p-id":"5656"}),e("path",{d:"M652.118233 824.583475l164.72472-164.730471 74.219224 74.216632-164.724721 164.730471z",fill:"#727cf5","p-id":"5657"}),e("path",{d:"M614.4 936.96l104.96-30.72-74.24-74.24z",fill:"#727cf5","p-id":"5658"}),e("path",{d:"M921.6 675.84l-46.08-46.08c-7.68-7.68-20.48-7.68-28.16 0l-23.04 23.04 74.24 74.24 23.04-23.04c7.68-7.68 7.68-20.48 0-28.16z",fill:"#727cf5","p-id":"5659"})],-1),jl=[$l],Sl={key:2,class:"text-end pe-3 opacity-75"},Cl=e("svg",{t:"1643549788418",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6648",width:"32",height:"32"},[e("path",{d:"M803.8 822.1m-188.4 0a188.4 188.4 0 1 0 376.8 0 188.4 188.4 0 1 0-376.8 0Z",fill:"#727cf5","p-id":"6649"}),e("path",{d:"M922.7 739.2c-16-16-41.9-16-57.9 0l-95.7 95.7-26.2-26.2c-16-16-41.9-16-57.9 0s-16 41.9 0 57.9l55.2 55.2c16 16 41.9 16 57.9 0l1.5-1.5 0.9-0.9 122.2-122.2c16-16.1 16-42 0-58z",fill:"#727cf5","p-id":"6650"}),e("path",{d:"M584.1 824.1c0-110.2 82.3-201.2 188.8-214.9 1.8-7 5.5-13.5 10.9-18.7L973 406c24-23.4 10.7-64.1-22.4-68.9l-261.5-38c-13.1-1.9-24.5-10.2-30.4-22.1l-117-237c-14.8-30-57.6-30-72.4 0l-117 237c-5.9 11.9-17.2 20.2-30.4 22.1l-261.5 38C27.3 341.9 14.1 382.6 38 406l189.3 184.5c9.5 9.3 13.9 22.6 11.6 35.7l-44.7 260.5c-5.7 33 29 58.1 58.6 42.6l233.9-123c11.5-6 25.2-6.2 36.7-0.4l61.1 32.6c-0.2-4.8-0.4-9.6-0.4-14.4z",fill:"#727cf5","p-id":"6651"})],-1),Il=[Cl],Tl={class:"flex-column flex align-items-center"},Ml={class:"justify-content-start align-items-start fw-bolder opacity-50",style:{"margin-top":"-20px","font-size":"60px",color:"#CD950C","font-family":'Georgia, "Times New Roman", Times, serif'}},Pl={class:"fs-c10"},qe={props:["title","count","index"],setup(s){let a=P(),t=C().params.team,l=()=>{a.push({name:"Workbench",params:{team:t,type:"dashboard"}})};return(d,i)=>(c(),m("div",{class:"flex-column flex flex-fill pt-3 pb-4 jiBox pointer",onClick:i[0]||(i[0]=(...n)=>g(l)&&g(l)(...n))},[s.index===1?(c(),m("div",yl,kl)):s.index===2?(c(),m("div",wl,jl)):s.index===3?(c(),m("div",Sl,Il)):M("",!0),e("div",Tl,[e("div",Ml,v(s.count),1),e("div",Pl,v(s.title),1)])]))}},zl={style:{height:"175px"},class:"flex-column flex pt-3 px-3 jiBox grid-box"},Dl={style:{flex:"0 0 auto",color:"#333333"},class:"flex-row flex align-items-center"},Bl={style:{flex:"1","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","font-size":"15px"}},Ll={key:0,style:{flex:"0 0 auto",color:"#909090","font-size":"14px"}},Ul={key:1,style:{flex:"0 0 auto",color:"#909090","font-size":"14px"}},Vl={class:"chart-container flex flex-fill",style:{position:"relative",width:"100%",height:"100%",overflow:"hidden"}},Hl=["id"],Al={props:["project"],emits:["loadProjectList"],setup(s,{emit:a}){const o=s;let{proxy:t}=I(),l=P(),d=C(),i=S({team:d.params.team,chart:"",label:!0});be(()=>{i.chart="projectChart"+o.project.uuid}),T(()=>{let p={labels:["\u672A\u5F00\u59CB","\u8FDB\u884C\u4E2D","\u5DF2\u5B8C\u6210"],datasets:[{data:[o.project.to_do_count,o.project.in_progress_count,o.project.done_count],backgroundColor:["rgba(255, 99, 132, 0.4)","rgba(54, 162, 235, 0.4)","rgba(255, 206, 86, 0.4)"],hoverOffset:4}]};o.project.to_do_count+o.project.in_progress_count+o.project.done_count===0&&(i.label=!1,p={labels:["\u65E0\u4EFB\u52A1"],datasets:[{data:[1],backgroundColor:["rgba(0, 0, 0, 0.1)"],hoverOffset:4}]});let u={type:"pie",data:p,options:{responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!0,position:"right"}}}};new Chart(document.getElementById(i.chart),u)});let n=()=>{l.push({name:"Project",params:{team:i.team,project:o.project.uuid}})},_=p=>{p.stopPropagation(),t.post(t.urls.project_pin.format(i.team,o.project.uuid)).then(function(u){u.data.code===200&&a("loadProjectList")}).catch(function(u){t.bus.$emit("alertDanger",u.response.data.errcode)})},r=p=>{p.stopPropagation(),t.post(t.urls.project_unpin.format(i.team,o.project.uuid)).then(function(u){u.data.code===200&&a("loadProjectList")}).catch(function(u){t.bus.$emit("alertDanger",u.response.data.errcode)})};return(p,u)=>(c(),m("div",zl,[e("div",null,[e("div",Dl,[e("div",Bl,v(s.project.name),1),e("div",{style:{flex:"0 0 auto","align-content":"end"},class:B([{pined:s.project.is_pin},"pin-star"])},[s.project.is_pin?(c(),m("i",{key:0,onClick:u[0]||(u[0]=(...x)=>g(r)&&g(r)(...x)),class:"bi bi-star-fill"})):(c(),m("i",{key:1,class:"bi bi-star",onClick:u[1]||(u[1]=(...x)=>g(_)&&g(_)(...x))}))],2)]),g(i).label?(c(),m("div",Ll,"\u66F4\u65B0\u4E8E"+v(p.filters.timeFormat(s.project.task_update_time/1e3)),1)):(c(),m("div",Ul,"\u6682\u65E0\u4EFB\u52A1"))]),e("div",{onClick:u[2]||(u[2]=(...x)=>g(n)&&g(n)(...x)),class:"flex-row flex flex-fill align-items-center justify-content-center pointer py-2",style:{height:"0"}},[e("div",Vl,[e("canvas",{id:g(i).chart},null,8,Hl)])])]))}},Nl={props:{space:Object},emits:["loadSpaceList"],setup(s){let{space:a}=oe(s),{proxy:o}=I(),t=P(),l=C(),d="";return be(()=>{d=l.params.team}),{space:a,gotoClick:()=>{t.push({name:"Space",params:{team:d,space:a.value.uuid}})},pin:r=>{r.stopPropagation(),o.post(o.urls.space_pin.format(d,a.value.uuid)).then(function(p){p.data.code===200&&o.$emit("loadSpaceList")}).catch(function(p){o.bus.emit("alertDanger",p.response.data.errcode)})},unPin:r=>{r.stopPropagation(),o.post(o.urls.space_unpin.format(d,a.value.uuid)).then(function(p){p.data.code===200&&o.$emit("loadSpaceList")}).catch(function(p){o.bus.$emit("alertDanger",p.response.data.errcode)})}}}},ql={style:{height:"175px"},class:"flex-column flex p-3 jiBox grid-box"},El={style:{flex:"0 0 auto"}},Fl={style:{flex:"0 0 auto",color:"#333333"},class:"flex-row flex align-items-center"},Ol={style:{flex:"1","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","font-size":"15px"}},Rl={style:{flex:"0 0 auto",color:"#909090","font-size":"14px"}},Gl={style:{flex:"1","font-size":"70px","font-weight":"bolder",color:"#800000",opacity:"0.4","font-family":"Georgia, 'Times New Roman', Times, serif"},class:"flex-row flex align-items-center justify-content-center"};function Wl(s,a,o,t,l,d){return c(),m("div",ql,[e("div",El,[e("div",Fl,[e("div",Ol,v(t.space.title),1),e("div",{style:{flex:"0 0 auto","align-content":"end"},class:B([{pined:t.space.is_pin},"pin-star"])},[t.space.is_pin?(c(),m("i",{key:0,onClick:a[0]||(a[0]=(...i)=>t.unPin&&t.unPin(...i)),class:"bi bi-star-fill"})):(c(),m("i",{key:1,class:"bi bi-star",onClick:a[1]||(a[1]=(...i)=>t.pin&&t.pin(...i))}))],2)]),e("div",Rl,"\u66F4\u65B0\u4E8E "+v(s.filters.timeFormat(t.space.updated_time)),1)]),e("div",{onClick:a[2]||(a[2]=(...i)=>t.gotoClick&&t.gotoClick(...i)),style:{flex:"1",cursor:"pointer"},class:"flex-row flex align-items-center justify-content-center"},[e("div",Gl,v(t.space.page_count),1)])])}var pt=w(Nl,[["render",Wl]]);const Kl={class:"flex-row flex justify-content-between owl-h"},Jl={style:{margin:"20px 0 0 0"}},Yl={class:"flex-row flex b-line",style:{padding:"0 20px 5px 0"}},Ql=e("div",{style:{flex:"1","font-size":"18px"}},"\u9879\u76EE / \u6700\u8FD1\u66F4\u65B0",-1),Zl={class:"flex-row flex wb-setting outline-none"},Xl=e("div",{style:{flex:"0 0 auto",color:"inherit"},class:"flex-row flex align-items-center"},[e("i",{class:"bi bi-gear"})],-1),ei={style:{flex:"1","flex-direction":"row",position:"relative"},class:"flex-row flex flex-wrap pt-4 d-grid grid-task"},ti={style:{margin:"20px 0 0 0"}},si={class:"flex-row flex b-line",style:{padding:"0 20px 5px 0"}},ai=e("div",{style:{flex:"1","font-size":"18px"}},"\u6587\u6863 / \u6700\u8FD1\u66F4\u65B0",-1),oi={class:"flex-row flex wb-setting outline-none"},li=e("div",{style:{flex:"0 0 auto",color:"inherit"},class:"flex-row flex align-items-center"},[e("i",{class:"bi bi-gear"})],-1),ii={style:{flex:"1","flex-direction":"row",position:"relative"},class:"flex-row flex flex-wrap pt-4 d-grid grid-task"},ni={class:"modal fade",id:"settingSize","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},ri={class:"modal-dialog modal-sm"},di={class:"modal-content"},ci={class:"modal-body"},_i={class:"flex-column my-3"},mi=e("label",{class:"col-md-12 control-label"},"\u6700\u591A\u663E\u793A\u4E2A\u6570",-1),pi={class:"col-md-12 mt-2"},ui={class:"modal-footer"},fi=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1),ut={setup(s){const{proxy:a}=I();P();let o=C(),t=S({team:o.params.team,projects:[],spaces:[],loaded:!1,project_size:"10",space_size:"10",size:"10",setting_key:"",assign:0,owner:0,watcher:0}),l=null;T(()=>{d(),n(),_(),i(),l=new bootstrap.Modal(document.getElementById("settingSize"),{keyboard:!1})});let d=()=>{let b=a.urls.team_global_setting.format(t.team),$=["workbench_project_size","workbench_space_size"];a.post(b,$).then(function(y){y.data&&Object.keys(y.data).forEach(function(k){switch(k){case"workbench_project_size":t.project_size=y.data[k].setting_value;break;case"workbench_space_size":t.space_size=y.data[k].setting_value;break}}),n(),_()})},i=()=>{a.post(a.urls.task_stat_by_team.format(t.team)).then(function(b){b.data&&b.data.assign&&(t.assign=b.data.assign,t.owner=b.data.owner,t.watcher=b.data.watcher)})},n=()=>{let b={size:t.project_size},$=a.urls.team_recent_projects.format(t.team);a.post($,b).then(function(y){t.projects=[],y.data.forEach(function(k){t.projects.push(k)})})},_=()=>{let b={size:t.space_size},$=a.urls.team_recent_spaces.format(t.team);a.post($,b).then(function(y){t.spaces=[],y.data.spaces.forEach(function(k){t.spaces.push(k)})})},r=()=>{t.size=t.project_size,t.setting_key="workbench_project_size"},p=()=>{t.size=t.space_size,t.setting_key="workbench_space_size"},u=()=>{},x=()=>{let b={setting_key:t.setting_key,setting_value:t.size};a.post(a.urls.team_global_setting_update.format(t.team),b).then(function($){$.data.code===200&&(l.hide(),d())}).catch(function($){a.bus.emit("alertDanger",$.response.data.errcode)})};return(b,$)=>(c(),m(j,null,[e("div",Kl,[f(qe,{title:"\u6307\u6D3E\u7ED9\u6211\u7684\u4EFB\u52A1",count:g(t).assign,index:1},null,8,["count"]),f(qe,{title:"\u6211\u521B\u5EFA\u7684\u4EFB\u52A1",count:g(t).owner,index:2},null,8,["count"]),f(qe,{title:"\u6211\u5173\u6CE8\u7684\u4EFB\u52A1",count:g(t).watcher,index:3},null,8,["count"])]),e("div",Jl,[e("div",Yl,[Ql,e("div",Zl,[Xl,e("div",{style:{"margin-left":"5px","font-size":"15px",color:"inherit"},class:"flex-row flex align-items-center pointer",onClick:$[0]||($[0]=(...y)=>g(r)&&g(r)(...y)),"data-bs-toggle":"modal","data-bs-target":"#settingSize"}," \u663E\u793A\u8BBE\u7F6E ")])]),e("div",ei,[(c(!0),m(j,null,z(g(t).projects,y=>(c(),N(Al,{project:y,key:y.uuid,onLoadProjectList:g(n)},null,8,["project","onLoadProjectList"]))),128))])]),e("div",ti,[e("div",si,[ai,e("div",oi,[li,e("div",{style:{"margin-left":"5px","font-size":"15px",color:"inherit"},class:"flex-row flex align-items-center pointer",onClick:$[1]||($[1]=(...y)=>g(p)&&g(p)(...y)),"data-bs-toggle":"modal","data-bs-target":"#settingSize"}," \u663E\u793A\u8BBE\u7F6E ")])]),e("div",ii,[(c(!0),m(j,null,z(g(t).spaces,y=>(c(),N(pt,{key:y.uuid,space:y,onLoadSpaceList:g(_)},null,8,["space","onLoadSpaceList"]))),128))])]),e("div",ni,[e("div",ri,[e("div",di,[e("div",ci,[e("form",{ref:"form",onSubmit:$[3]||($[3]=fe((...y)=>g(u)&&g(u)(...y),["stop","prevent"]))},[e("div",_i,[mi,e("div",pi,[V(e("input",{type:"text","onUpdate:modelValue":$[2]||($[2]=y=>g(t).size=y),name:"name",class:"form-control"},null,512),[[O,g(t).size]])])])],544)]),e("div",ui,[fi,e("button",{type:"button",class:"btn btn-primary",onClick:$[4]||($[4]=(...y)=>g(x)&&g(x)(...y))},"\u786E\u5B9A")])])])])],64))}};const hi={props:{bgColor:String,color:String,name:String}};function xi(s,a,o,t,l,d){return c(),m("div",{class:"status",style:ye("background-color: "+o.bgColor+";color:"+o.color+";")},v(o.name),5)}var Te=w(hi,[["render",xi],["__scopeId","data-v-e0626e0a"]]);const gi={props:{name:String,color:String},setup(s){const a=Q(()=>{let t=s.name;switch(s.name){case"1":case"to_do":t="\u672A\u5F00\u59CB";break;case"2":case"in_progress":t="\u672A\u5F00\u59CB";break;case"3":case"done":t="\u5DF2\u5B8C\u6210";break}return t}),o=Q(()=>{let t=s.color;switch(s.color){case"1":t="to_do";break;case"2":t="in_progress";break;case"3":t="done";break}return t});return{curName:a,curColor:o}}},vi={style:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center"}};function yi(s,a,o,t,l,d){return c(),m("div",vi,[e("div",{class:B(["status",t.curColor])},v(t.curName),3)])}var pe=w(gi,[["render",yi]]);const bi={props:{user:Object,includeName:{default:!0}},setup(s){return{self:S({user:s.user,includeName:s.includeName})}}},ki={class:"flex-row flex align-items-center"},wi={style:{flex:"0 0 auto",display:"flex","align-items":"center"}},$i=["src","title"],ji={key:0,style:{flex:"0 0 auto",display:"flex","align-items":"center","margin-left":"5px"}};function Si(s,a,o,t,l,d){return c(),m("div",ki,[e("div",wi,[e("img",{style:{height:"20px"},src:t.self.user.avatar,title:t.self.user.name,class:"rounded-circle"},null,8,$i)]),t.self.includeName?(c(),m("div",ji,v(t.self.user.name),1)):M("",!0)])}var Ee=w(bi,[["render",Si]]);const Ci={props:{title:String,tasks:Array,count:Number},setup(s){let a=C(),{title:o,tasks:t,count:l}=oe(s),d=!1;return{team:a.params.team,title:o,tasks:t,hasEmail:d,count:l}},components:{Priority:Te,Status:pe,User:Ee}},Ii={style:{flex:"1",overflow:"hidden","max-width":"360px"},class:"flex-row flex"},Ti={class:"flex-column flex",style:{border:"1px solid #eef2f7","border-radius":"3px",flex:"1",overflow:"hidden"}},Mi={style:{flex:"0 0 auto",padding:"15px 20px","font-weight":"700","background-color":"#f1f3fa","border-radius":"3px 3px 0 0"}},Pi={style:{flex:"1","overflow-y":"auto"},class:"flex-column flex"},zi={id:"task-list",style:{padding:"0 15px 15px 15px","background-color":"#fafbfe",height:"0"},class:"flex-column flex"},Di=["title"],Bi={class:"flex-row flex"},Li={style:{flex:"0 0 auto"}},Ui={style:{flex:"1"},class:"flex-row flex"},Vi=e("div",{style:{flex:"1"}}," \xA0 ",-1),Hi={style:{flex:"0 0 auto"}},Ai={style:{color:"#98a6ad","font-size":"12px"}},Ni={style:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap","font-weight":"600",margin:"15px 0",cursor:"pointer","max-width":"288px"}},qi={class:"flex-row flex"},Ei=e("div",{style:{flex:"0 0 30px"}},[e("i",{class:"bi bi-diagram-3-fill"})],-1),Fi={style:{flex:"1"}},Oi={class:"flex-row flex",style:{"margin-top":"15px"}},Ri={style:{flex:"1"}},Gi={style:{flex:"0 0 auto"}};function Wi(s,a,o,t,l,d){const i=h("Priority"),n=h("router-link"),_=h("User"),r=h("Status");return c(),m("div",Ii,[e("div",Ti,[e("div",Mi,v(t.title)+" ("+v(t.count)+")",1),e("div",Pi,[e("div",zi,[(c(!0),m(j,null,z(t.tasks,p=>(c(),m("div",{key:p.uuid,class:"task-item",style:{flex:"0 0 auto"}},[e("div",{title:p.summary,style:{border:"none","background-color":"#ffffff",flex:"1",padding:"20px","margin-top":"15px","border-radius":"5px","box-shadow":"0 0 35px 0 rgba(154,161,171, 0.15)"}},[e("div",Bi,[e("div",Li,[f(i,{color:p.priority.color,name:p.priority.value,bgColor:p.priority.background_color},null,8,["color","name","bgColor"])]),e("div",Ui,[Vi,e("div",Hi,[e("div",Ai,v(s.filters.formatDay(p.create_time)),1)])])]),e("div",Ni,v(p.summary),1),e("div",qi,[Ei,e("div",Fi,[f(n,{to:{name:"Project",params:{team:t.team,project:p.project.uuid}}},{default:D(()=>[L(v(p.project.name),1)]),_:2},1032,["to"])])]),e("div",Oi,[e("div",Ri,[f(_,{user:p.owner},null,8,["user"])]),e("div",Gi,[f(r,{name:p.task_status.name,color:p.task_status.category.toString()},null,8,["name","color"])])])],8,Di)]))),128))])])])])}var Me=w(Ci,[["render",Wi]]);const Ki={class:"flex-column flex flex-fill h-100"},Ji=e("div",{class:"flex-row flex"},[e("div",{class:"flex-row flex-fill align-items-center"},[e("div",{class:"fs-c12"},"\u4EEA\u8868\u76D8")])],-1),Yi={class:"flex-row flex justify-content-between",style:{padding:"20px 0 0 0",flex:"1"}},Qi={setup(s){const{proxy:a}=I();let o=C(),t=S({tasks_assign:[],tasks_owner:[],tasks_watcher:[],tasks_done:[]});return T(()=>{let l=o.params.team;a.post(a.urls.task_list_by_assign.format(l)).then(function(d){if(d.data&&d.data.length>0)for(let i=0;i<d.data.length;i++)if(d.data[i].category===3){let n=!0;for(let _=0;_<t.tasks_done.length;_++)if(t.tasks_done[_].uuid===d.data[i].uuid){n=!1;break}n&&t.tasks_done.push(d.data[i])}else t.tasks_assign.push(d.data[i])}),a.post(a.urls.task_list_by_owner.format(l)).then(function(d){if(d.data&&d.data.length>0)for(let i=0;i<d.data.length;i++)if(d.data[i].category===3){let n=!0;for(let _=0;_<t.tasks_done.length;_++)if(t.tasks_done[_].uuid===d.data[i].uuid){n=!1;break}n&&t.tasks_done.push(d.data[i])}else t.tasks_owner.push(d.data[i])}),a.post(a.urls.task_list_by_watcher.format(l)).then(function(d){if(d.data&&d.data.length>0)for(let i=0;i<d.data.length;i++)if(d.data[i].category===3){let n=!0;for(let _=0;_<t.tasks_done.length;_++)if(t.tasks_done[_].uuid===d.data[i].uuid){n=!1;break}n&&t.tasks_done.push(d.data[i])}else t.tasks_watcher.push(d.data[i])})}),(l,d)=>(c(),m("div",Ki,[Ji,e("div",Yi,[f(Me,{tasks:g(t).tasks_assign,count:g(t).tasks_assign.length,title:"\u6211\u8D1F\u8D23\u7684\u5DE5\u4F5C\u9879"},null,8,["tasks","count"]),f(Me,{tasks:g(t).tasks_owner,count:g(t).tasks_owner.length,title:"\u6211\u63D0\u4EA4\u7684\u5DE5\u4F5C\u9879"},null,8,["tasks","count"]),f(Me,{tasks:g(t).tasks_watcher,count:g(t).tasks_watcher.length,title:"\u6211\u5173\u6CE8\u7684\u5DE5\u4F5C\u9879"},null,8,["tasks","count"]),f(Me,{tasks:g(t).tasks_done,count:g(t).tasks_done.length,title:"\u5B8C\u6210\u7684\u5DE5\u4F5C\u9879"},null,8,["tasks","count"])])]))}},Zi={setup(s){let a=C(),o=W("overview");T(()=>{o.value=a.params.type}),G(()=>a.params,l=>{o.value=l.type});let t=Q(()=>{let l=ut;switch(o.value){case"overview":l=ut;break;case"dashboard":l=Qi;break}return l});return(l,d)=>(c(),N(le(g(t))))}};const Xi={props:{placeholder:String},emits:["search"],setup(){const{proxy:s}=I();let a=W("");return{name:a,post:()=>{s.$emit("search",a)}}}},en=s=>(H("data-v-7b7c0f66"),s=s(),A(),s),tn={class:"search"},sn=en(()=>e("div",{class:"flex-column flex",style:{position:"absolute","margin-left":"10px",height:"100%"}},[e("div",{style:{flex:"1",display:"flex","align-items":"center","justify-content":"center"}},[e("i",{class:"bi bi-search"})])],-1)),an=["placeholder"];function on(s,a,o,t,l,d){return c(),m("div",tn,[sn,V(e("input",{class:"form-control ps-c7","onUpdate:modelValue":a[0]||(a[0]=i=>t.name=i),onBlur:a[1]||(a[1]=(...i)=>t.post&&t.post(...i)),placeholder:o.placeholder},null,40,an),[[O,t.name]])])}var J=w(Xi,[["render",on],["__scopeId","data-v-7b7c0f66"]]);const ln={data(){return{}},props:{user:Object,hasEmail:{default:!1},selected:{default:!1}},methods:{onsubmit:function(){let s=this;this.$emit("submit",s.user.uuid)}}},ft=s=>(H("data-v-6e3da643"),s=s(),A(),s),nn={style:{flex:"0 0 auto"},class:"flex-row flex align-items-center"},rn=["src"],dn={style:{flex:"0 0 auto","margin-left":"5px"},class:"flex-row flex align-items-center"},cn={key:0,style:{flex:"0 0 auto",display:"flex","align-items":"center","margin-left":"5px","font-size":"12px"}},_n={key:1,style:{flex:"1"},class:"flex-row flex align-items-center"},mn=ft(()=>e("div",{style:{flex:"1","min-width":"50px"}},null,-1)),pn=ft(()=>e("div",{style:{flex:"0 0 auto",display:"flex","align-items":"center","text-align":"right"}},[e("i",{class:"bi bi-check"})],-1)),un=[mn,pn];function fn(s,a,o,t,l,d){return c(),m("div",{class:B(["flex-row flex user align-items-center",{selected:o.selected}]),onClick:a[0]||(a[0]=(...i)=>d.onsubmit&&d.onsubmit(...i))},[e("div",nn,[e("img",{style:{height:"16px"},src:o.user.avatar,class:"rounded-circle"},null,8,rn)]),e("div",dn,v(o.user.name),1),o.hasEmail?(c(),m("div",cn," ("+v(o.user.email)+") ",1)):M("",!0),o.selected?(c(),m("div",_n,un)):M("",!0)],2)}var xe=w(ln,[["render",fn],["__scopeId","data-v-6e3da643"]]);const hn={setup(){const{proxy:s}=I();let a=P(),o=C(),t=S({team:o.params.team,cur:0,tabTitle:["\u5168\u90E8\u9879\u76EE","\u672A\u5F00\u59CB","\u8FDB\u884C\u4E2D","\u5DF2\u5B8C\u6210"],items:[],tasks_completed:!1,name:""});T(()=>{l()});let l=()=>{let _=s.urls.team_project_list.format(t.team),p={categories:t.cur===0?[]:[t.cur],name:t.name};s.post(_,p).then(function(u){t.items=u.data,t.tasks_completed=!0})};return{retObj:t,add:()=>{a.push({name:"AddProject",params:{team:t.team}})},search:_=>{t.name=_,l()},selectTab:_=>{t.cur=_,l()}}},components:{AddProjectButton:ee,Status:pe,Search:J,User:xe}},Fe=s=>(H("data-v-64a63190"),s=s(),A(),s),xn={class:"jiBox flex-column flex flex-fill h-100"},gn={class:"b-line mt-3 flex-row flex"},vn={class:"flex-row flex tab-title ps-4"},yn=["onClick"],bn=Fe(()=>e("div",{style:{flex:"1"}},"\xA0",-1)),kn={class:"flex-row flex mt-3 px-3"},wn={style:{flex:"0 0 auto","flex-direction":"row","text-align":"left"}},$n=Fe(()=>e("div",{style:{flex:"1",display:"inline-block"}},null,-1)),jn={style:{flex:"0 0 auto","flex-direction":"column","align-items":"center",display:"flex"}},Sn={style:{width:"100%","text-align":"right",flex:"1","align-items":"center",display:"flex"}},Cn={style:{flex:"1",display:"inline-block"}},In={key:0,class:"mt-3 px-3"},Tn={class:"table table-hover"},Mn=Fe(()=>e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u9879\u76EE\u540D\u79F0"),e("th",{scope:"col"},"\u9879\u76EE\u72B6\u6001"),e("th",{scope:"col"},"\u9879\u76EE\u8D1F\u8D23\u4EBA"),e("th",{scope:"col"},"\u5DE5\u4F5C\u9879\u76EE\u5B8C\u6210\u5EA6"),e("th",{scope:"col"},"\u8BA1\u5212\u5F00\u59CB\u65F6\u95F4"),e("th",{scope:"col"},"\u8BA1\u5212\u5B8C\u6210\u65F6\u95F4"),e("th",{scope:"col"},"\u5DE5\u4F5C\u9879\u6570\u91CF"),e("th",{scope:"col"},"\u8FDB\u884C\u4E2D\u5DE5\u4F5C\u9879")])],-1)),Pn={class:"progress"};function zn(s,a,o,t,l,d){const i=h("AddProjectButton"),n=h("Search"),_=h("router-link"),r=h("Status"),p=h("User");return c(),m("div",xn,[e("div",gn,[e("div",vn,[(c(!0),m(j,null,z(t.retObj.tabTitle,(u,x)=>(c(),m("div",{class:B(["justify-content-between align-items-center pointer px-3 pb-2",{active:t.retObj.cur===x}]),onClick:b=>t.selectTab(x),key:x},v(u),11,yn))),128))]),bn]),e("div",kn,[e("div",wn,[f(i,{title:"\u65B0\u589E\u9879\u76EE",plus:!0,onSubmit:t.add},null,8,["onSubmit"])]),$n,e("div",jn,[e("div",Sn,[e("div",Cn,[f(n,{onSearch:t.search,placeholder:"\u9879\u76EE\u540D\u79F0"},null,8,["onSearch"])])])])]),t.retObj.tasks_completed?(c(),m("div",In,[e("table",Tn,[Mn,e("tbody",null,[(c(!0),m(j,null,z(t.retObj.items,u=>(c(),m("tr",null,[e("td",null,[f(_,{to:{name:"Project",params:{team:t.retObj.team,project:u.uuid}}},{default:D(()=>[L(v(u.name),1)]),_:2},1032,["to"])]),e("td",null,[f(r,{name:u.status_category,color:u.status_uuid},null,8,["name","color"])]),e("td",null,[f(p,{user:u.assign},null,8,["user"])]),e("td",null,[e("div",Pn,[e("div",{class:"progress-bar progress-bar-striped bg-success",role:"progressbar",style:ye("width:"+(u.done_count*100/(u.to_do_count+u.in_progress_count+u.done_count)).toFixed(0)+"%"),"aria-valuemax":"100"},null,4)])]),e("td",null,v(s.filters.formatDate(u.plan_start_time)),1),e("td",null,v(s.filters.formatDate(u.plan_end_time)),1),e("td",null,v(u.to_do_count+u.in_progress_count+u.done_count),1),e("td",null,v(u.in_progress_count),1)]))),256))])])])):M("",!0)])}var Dn=w(hn,[["render",zn],["__scopeId","data-v-64a63190"]]);const Bn={props:["tagIndex"],setup(s){let a=C(),o=W(a.params.team),{tagIndex:t}=oe(s);return{team:o,tagIndex:t}}},Oe=s=>(H("data-v-20cc4112"),s=s(),A(),s),Ln={id:"project-setting-menu",style:{"margin-left":"-1.5rem"}},Un=Oe(()=>e("div",{style:{flex:"0",padding:"5px 0 5px 30px",width:"100%","font-size":"18px","margin-bottom":"20px"}},"\u914D\u7F6E\u4E2D\u5FC3",-1)),Vn=Oe(()=>e("div",{style:{flex:"0",padding:"5px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u9879\u76EE",-1)),Hn=L("\u9879\u76EE\u7BA1\u7406"),An=L("\u9879\u76EE\u5C5E\u6027"),Nn=L("\u9879\u76EE\u72B6\u6001"),qn=Oe(()=>e("div",{style:{flex:"0",padding:"20px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u5DE5\u4F5C\u9879",-1)),En=L("\u5DE5\u4F5C\u9879\u7C7B\u578B"),Fn=L("\u5DE5\u4F5C\u9879\u5C5E\u6027"),On=L("\u5DE5\u4F5C\u9879\u72B6\u6001"),Rn=L("\u4F18\u5148\u7EA7");function Gn(s,a,o,t,l,d){const i=h("router-link");return c(),m("div",Ln,[Un,Vn,e("div",{class:B({active:t.tagIndex===1})},[f(i,{to:{name:"ProjectSettingManager",params:{team:t.team}}},{default:D(()=>[Hn]),_:1},8,["to"])],2),e("div",{class:B({active:t.tagIndex===2})},[f(i,{to:{name:"ProjectSettingField",params:{team:t.team}}},{default:D(()=>[An]),_:1},8,["to"])],2),e("div",{class:B({active:t.tagIndex===3})},[f(i,{to:{name:"ProjectSettingStatus",params:{team:t.team}}},{default:D(()=>[Nn]),_:1},8,["to"])],2),qn,e("div",{class:B({active:t.tagIndex===11})},[f(i,{to:{name:"IssueTypeSettingManager",params:{team:t.team}}},{default:D(()=>[En]),_:1},8,["to"])],2),e("div",{class:B({active:t.tagIndex===12})},[f(i,{to:{name:"IssueTypeSettingField",params:{team:t.team}}},{default:D(()=>[Fn]),_:1},8,["to"])],2),e("div",{class:B({active:t.tagIndex===13})},[f(i,{to:{name:"IssueTypeSettingStatus",params:{team:t.team}}},{default:D(()=>[On]),_:1},8,["to"])],2),e("div",{class:B({active:t.tagIndex===14})},[f(i,{to:{name:"IssueTypeSettingPriority",params:{team:t.team}}},{default:D(()=>[Rn]),_:1},8,["to"])],2)])}var Wn=w(Bn,[["render",Gn],["__scopeId","data-v-20cc4112"]]);const Kn={setup(){let s=C(),a=S({tagIndex:1});T(()=>{let t=s.name;o("{0}".format(t))}),G(()=>s.params,t=>{let l=s.name;o("{0}".format(l))});let o=t=>{switch(t){case"ProjectSettingManager":a.tagIndex=1;break;case"ProjectSettingField":a.tagIndex=2;break;case"ProjectSettingStatus":a.tagIndex=3;break;case"IssueTypeSetting":case"IssueTypeSettingManager":a.tagIndex=11;break;case"IssueTypeSettingField":a.tagIndex=12;break;case"IssueTypeSettingStatus":a.tagIndex=13;break;case"IssueTypeSettingPriority":a.tagIndex=14;break}};return{self:a,tag_switch:o}},components:{Control:Wn}},Jn={style:{height:"100%",flex:"1"},class:"flex-row flex"},Yn={class:"flex-fill h-100 jiBox"};function Qn(s,a,o,t,l,d){const i=h("Control"),n=h("router-view");return c(),m("div",Jn,[f(i,{tagIndex:t.self.tagIndex,onTag_switch:t.tag_switch},null,8,["tagIndex","onTag_switch"]),e("div",Yn,[f(n)])])}var ht=w(Kn,[["render",Qn]]);const Zn={emits:["loadSpaces"],setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,title:"",description:"",titleState:null}),t=null;T(()=>{t=new bootstrap.Modal(document.getElementById("addSpace"),{keyboard:!1})});let l=n=>{d()},d=()=>{i()},i=()=>{let n={title:o.title,description:o.description};s.post(s.urls.space_add.format(o.team),n).then(function(_){_.data.code===200&&(t.hide(),s.$emit("loadSpaces"))}).catch(function(_){s.bus.emit("alertDanger",_.response.data.errcode)})};return{self:o,add:l,handleSubmit:d}}},Xn={class:"modal fade",id:"addSpace","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},er={class:"modal-dialog modal-lg modal-dialog-scrollable"},tr={class:"modal-content"},sr=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},"\u65B0\u5EFA\u9875\u9762\u7EC4"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),ar={class:"modal-body"},or={style:{"margin-top":"6px"}},lr={class:"flex-column my-3"},ir=e("label",{class:"col-md-12 control-label"},"\u9875\u9762\u7EC4\u540D\u79F0",-1),nr={class:"col-md-12 mt-2"},rr={class:"flex-column my-3"},dr=e("label",{class:"col-md-12 control-label"},"\u9875\u9762\u7EC4\u63CF\u8FF0",-1),cr={class:"col-md-12 mt-2"},_r={class:"modal-footer"},mr=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1);function pr(s,a,o,t,l,d){return c(),m("div",Xn,[e("div",er,[e("div",tr,[sr,e("div",ar,[e("form",{ref:"form",onSubmit:a[2]||(a[2]=fe((...i)=>t.handleSubmit&&t.handleSubmit(...i),["stop","prevent"]))},[e("div",or,[e("div",lr,[ir,e("div",nr,[V(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=i=>t.self.title=i),name:"title",class:"form-control",required:""},null,512),[[O,t.self.title]])])]),e("div",rr,[dr,e("div",cr,[V(e("textarea",{"onUpdate:modelValue":a[1]||(a[1]=i=>t.self.description=i),name:"description",class:"form-control",rows:"3"},null,512),[[O,t.self.description]])])])])],544)]),e("div",_r,[mr,e("button",{type:"button",class:"btn btn-primary",onClick:a[3]||(a[3]=(...i)=>t.add&&t.add(...i))},"\u786E\u5B9A")])])])])}var ur=w(Zn,[["render",pr]]);const fr={class:"flex-column flex flex-fill h-100"},hr={class:"flex-row flex header-container-inner"},xr={style:{flex:"0 0 auto"}},gr={class:"flex-row flex flex-wrap pt-4 d-grid grid-task"},vr={setup(s){const{proxy:a}=I();P();let o=C(),t=S({team:o.params.team,spaces:[]});T(()=>{l()});let l=()=>{a.get(a.urls.spaces.format(t.team)).then(function(d){t.spaces=d.data.spaces})};return(d,i)=>(c(),m("div",fr,[e("div",hr,[e("div",xr,[f(ee,{title:"\u65B0\u5EFA\u9875\u9762\u7EC4",plus:!0,"data-bs-toggle":"modal","data-bs-target":"#addSpace"})])]),e("div",gr,[(c(!0),m(j,null,z(g(t).spaces,n=>(c(),N(pt,{key:n.uuid,space:n,desc:"\u6700\u8FD1\u9875\u9762\u66F4\u65B0\u4E8E 8 \u5C0F\u65F6\u524D",onLoadSpaceList:g(l)},null,8,["space","onLoadSpaceList"]))),128))]),f(ur,{onLoadSpaces:g(l)},null,8,["onLoadSpaces"])]))}};const Re=s=>(H("data-v-a964bece"),s=s(),A(),s),yr={id:"project-setting-menu"},br=Re(()=>e("div",{style:{flex:"0",padding:"5px 0 5px 30px",width:"100%","font-size":"18px","margin-bottom":"20px"}},"\u914D\u7F6E\u4E2D\u5FC3",-1)),kr=Re(()=>e("div",{style:{flex:"0",padding:"5px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u9875\u9762\u7EC4",-1)),wr=L("\u9875\u9762\u7EC4\u7BA1\u7406"),$r=Re(()=>e("div",{style:{flex:"0",padding:"20px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u6743\u9650",-1)),jr=L("\u6743\u9650\u914D\u7F6E"),Sr={props:["tagIndex"],setup(s){const a=s;let o=C(),{tagIndex:t}=oe(a),l=S({team:o.params.team});return(d,i)=>{const n=h("router-link");return c(),m("div",yr,[br,kr,e("div",{class:B({active:g(t)===1})},[f(n,{to:{name:"WikiSetting",params:{team:g(l).team,type:"list"}}},{default:D(()=>[wr]),_:1},8,["to"])],2),$r,e("div",{class:B({active:g(t)===11})},[f(n,{to:{name:"WikiSetting",params:{team:g(l).team,type:"permission"}}},{default:D(()=>[jr]),_:1},8,["to"])],2)])}}};var Cr=w(Sr,[["__scopeId","data-v-a964bece"]]);const Ir={props:{desc:String},setup(s){return{desc:W(s.desc)}}},Tr=["title"],Mr=e("i",{class:"bi bi-question-octagon"},null,-1),Pr=[Mr];function zr(s,a,o,t,l,d){return t.desc?(c(),m("div",{key:0,style:{flex:"0 0 auto","align-items":"center",cursor:"pointer"},title:t.desc,tabindex:"0"},Pr,8,Tr)):M("",!0)}var ne=w(Ir,[["render",zr]]);const Dr={props:["title","desc"],setup(s){let{title:a,desc:o}=oe(s);return{title:a,desc:o}},components:{Summary:ne}},Br={class:"flex-row flex b-line align-items-center px-4 py-3 task-flex-auto"},Lr={class:"flex-fill fs-c10",style:{"white-space":"nowrap"}},Ur={class:"flex-row flex align-items-center justify-content-end"};function Vr(s,a,o,t,l,d){const i=h("Summary");return c(),m("div",Br,[e("div",Lr,v(t.title),1),e("div",Ur,[f(i,{desc:t.desc},null,8,["desc"])])])}var Y=w(Dr,[["render",Vr]]);const Hr={class:"flex-fill h-100 jiBox"},Ar={class:"flex-column flex px-4"},Nr={style:{flex:"1"}},qr={class:"page-title"},Er=X('<div class="flex-row flex" style="margin-top:10px;" data-v-6047bf9d><div style="flex:0 0 auto;color:#909090;" data-v-6047bf9d><i class="bi bi-file-earmark-medical" data-v-6047bf9d></i> 15 </div><div style="flex:0 0 auto;color:#909090;margin-left:20px;" data-v-6047bf9d><i class="bi bi-clock" data-v-6047bf9d></i> 12 \u5929\u524D\u66F4\u65B0 </div></div>',1),Fr={style:{flex:"0 0 auto"}},Or=["onClick"],Rr={style:{flex:"0 0 auto","margin-left":"20px"}},Gr=["active-class","onClick"],Wr={setup(s){const{proxy:a}=I();let o=P(),t=C(),l=S({team:t.params.team,style:"active",items:[],tasks_completed:!1});T(()=>{n()});let d=_=>{o.push({name:"Space",params:{team:l.team,space:_}})},i=_=>{o.push({name:"SpaceSettings",params:{team:l.team,space:_,type:"info"}})},n=()=>{a.get(a.urls.spaces.format(l.team)).then(function(_){l.items=_.data.spaces})};return(_,r)=>{const p=h("router-link");return c(),m("div",Hr,[f(Y,{title:"\u9875\u9762\u7EC4\u7BA1\u7406",desc:"\u5BF9\u9875\u9762\u7EC4\u914D\u7F6E\u6743\u9650\uFF0C\u67E5\u770B\u9875\u9762\u7EC4"}),e("div",Ar,[(c(!0),m(j,null,z(g(l).items,u=>(c(),m("div",{class:"flex-row flex py-4 pages b-line",key:u.uuid},[e("div",Nr,[e("div",qr,[f(p,{to:{name:"Space",params:{team:g(l).team,space:u.uuid}}},{default:D(()=>[L(v(u.title),1)]),_:2},1032,["to"])]),Er]),e("div",Fr,[e("button",{type:"button",class:"btn btn-outline-secondary",onClick:x=>{g(d)(u.uuid)}},"\u67E5\u770B\u9875\u9762\u7EC4",8,Or)]),e("div",Rr,[e("button",{type:"button",class:"btn btn-outline-secondary","active-class":g(l).style,onClick:x=>{g(i)(u.uuid)}},"\u914D\u7F6E\u9875\u9762\u7EC4\u6743\u9650",8,Gr)])]))),128))])])}}};var xt=w(Wr,[["__scopeId","data-v-6047bf9d"]]);const Kr={props:{title:String,desc:String,exist:Array,items:Array},emits:["add","del"],setup(){const{proxy:s}=I();let a=W(!1),o=(n,_)=>{a.value=!1,s.$emit("add",n,_)},t=n=>{s.$emit("del",n)},l=()=>{a.value===!0?d():(a.value=!0,document.addEventListener("click",i,!1))},d=()=>{a.value=!1,document.removeEventListener("click",i,!1)},i=n=>{s.$refs.permBody&&s.$refs.permBody.contains(n.target)||d()};return{visible:a,show:l,setAdd:o,setDel:t}}},Ge=s=>(H("data-v-5e54ea5b"),s=s(),A(),s),Jr={class:"mt-4"},Yr={style:{"font-size":"16px"}},Qr={style:{color:"#a0a0a0"}},Zr={class:"border",style:{"margin-top":"15px"}},Xr=Ge(()=>e("div",{class:"p-2 b-line bg-light"}," \u4EE5\u4E0B\u6210\u5458\u57DF\u62E5\u6709\u6B64\u64CD\u4F5C\u6743\u9650 ",-1)),ed={class:"flex-fill p-3"},td=["onClick"],sd=Ge(()=>e("i",{class:"bi bi-x fs-c11"},null,-1)),ad=[sd],od={key:0,class:"flex-row flex justify-content-center align-items-center b-line"},ld=Ge(()=>e("div",{class:"justify-content-center align-items-center p-3"},"\u6682\u672A\u6DFB\u52A0\u6210\u5458",-1)),id=[ld],nd={class:"content"},rd={style:{position:"absolute"},ref:"layer",class:"group jiBox"},dd={key:0,style:{color:"#a0a0a0"},class:"domain-group-header"},cd={style:{"background-color":"#ffffff"}},_d=["onClick"],md={key:0,style:{"margin-left":"5px",color:"#a0a0a0","font-size":"12px"}},pd={key:1,style:{"margin-left":"5px",color:"#a0a0a0","font-size":"12px"}};function ud(s,a,o,t,l,d){return c(),m("div",Jr,[e("div",Yr,v(o.title),1),e("div",Qr,v(o.desc),1),e("div",Zr,[Xr,(c(!0),m(j,null,z(o.exist,i=>(c(),m("div",{key:i.uuid,class:"flex-row flex align-items-center b-line"},[e("div",ed,v(i.name),1),i.read_only?M("",!0):(c(),m("div",{key:0,class:"td",style:{flex:"0 0 40px",cursor:"pointer"},onClick:n=>t.setDel(i.permission)},ad,8,td))]))),128)),!o.exist||o.exist.length===0?(c(),m("div",od,id)):M("",!0),e("div",nd,[e("div",{ref:"permBody",class:B(["select",{open:t.visible}])},[e("input",{class:"form-control",onClick:a[0]||(a[0]=(...i)=>t.show&&t.show(...i)),placeholder:"\u641C\u7D22\u89D2\u8272\u3001\u7528\u6237\u7EC4\u3001\u90E8\u95E8\u3001\u6210\u5458"}),e("div",rd,[(c(!0),m(j,null,z(o.items,i=>(c(),m("div",{key:i.uuid},[i.groups&&i.groups.length>0?(c(),m("div",dd,v(i.title),1)):M("",!0),e("div",cd,[(c(!0),m(j,null,z(i.groups,n=>(c(),m("div",{class:"domain-item",key:n.uuid,onClick:_=>t.setAdd(n.param,n.type)},[e("span",null,v(n.name),1),i.isMember?(c(),m("span",md,"("+v(n.email)+")",1)):M("",!0),n.desc?(c(),m("span",pd,"("+v(n.desc)+")",1)):M("",!0)],8,_d))),128))])]))),128))],512)],2)])])])}var gt=w(Kr,[["render",ud],["__scopeId","data-v-5e54ea5b"]]);const fd={props:{group:Object,data:Object},components:{PermissionItem:gt},emits:["loadPermissionData"],setup(s){const{proxy:a}=I();P();let o=C(),t=S({visible:!1,everyone:{uuid:"s3",name:"\u6240\u6709\u6210\u5458",desc:"\u5F53\u524D\u56E2\u961F\u6240\u6709\u6210\u5458",type:"everyone",param:""},project_assign:{uuid:"s16",name:"\u9879\u76EE\u8D1F\u8D23\u4EBA",type:"project_assign",param:""},team_owner:{uuid:"s10",name:"\u56E2\u961F\u8D1F\u8D23\u4EBA",type:"team_owner",param:""},template:{roles:{uuid:"role",title:"\u89D2\u8272",groups:[],exist:[]},members:{uuid:"member",title:"\u6210\u5458",groups:[],exist:[],isMember:!0}},exist:[],title:"",desc:"",permission:""});T(()=>{t.title=s.group.title,t.desc=s.group.desc,t.permission=s.group.permission});let l=(n,_)=>{t.team=o.params.team,s.data.permission_rule.permission=t.permission,s.data.permission_rule.user_domain_type=_,s.data.permission_rule.user_domain_param=n,a.post(a.urls.permission_rules_add.format(t.team),s.data).then(function(){a.$emit("loadPermissionData")})},d=n=>{t.team=o.params.team,a.get(a.urls.permission_rule_delete.format(t.team,n)).then(function(){a.$emit("loadPermissionData")})},i=Q(()=>{let n=[],_=[],r=[];t.exist=[];for(let y=0;y<s.group.groups.length;y++){let k=s.group.groups[y],U="",E=!1;switch(k.type){case 1:U="single_user";for(let R=0;R<k.params.length;R++){let K=k.params[R];r.push(K.param);for(let q=0;q<s.group.members.length;q++){let F=s.group.members[q];if(F.uuid===K.param){let ae={uuid:K.uuid,permission:K.uuid,name:F.name,type:U,read_only:K.read_only};t.exist.push(ae);break}}}break;case 3:U="everyone";for(let R=0;R<k.params.length;R++){let K=k.params[R];t.everyone.permission=K.uuid,t.everyone.read_only=K.read_only,t.exist.push(t.everyone)}break;case 10:U="team_owner";for(let R=0;R<k.params.length;R++){let K=k.params[R];t.team_owner.permission=K.uuid,t.team_owner.read_only=K.read_only,t.exist.push(t.team_owner)}break;case 11:U="role";for(let R=0;R<k.params.length;R++){let K=k.params[R];for(let q=0;q<s.group.roles.length;q++){let F=s.group.roles[q];if(F.uuid===K.param){let ae={name:F.name,name_pinyin:F.name_pinyin,uuid:F.uuid,permission:K.uuid,read_only:K.read_only};t.exist.push(ae);break}}}break;case 16:U="project_assign";for(let R=0;R<k.params.length;R++){let K=k.params[R];t.project_assign.permission=K.uuid,t.project_assign.read_only=K.read_only,t.exist.push(t.project_assign)}break;default:E=!0;break}E||n.push(U)}let p=[];for(let y=0;y<s.group.in_roles.length;y++){let k=s.group.in_roles[y];p.push(t[k])}for(let y=0;y<s.group.roles.length;y++){let k=s.group.roles[y];k.param=k.uuid,p.push(k)}let u=[];for(let y=0;y<s.group.members.length;y++){let k=s.group.members[y];k.param=k.uuid,u.push(k)}let x=t.template,b=[];for(let y=0;y<p.length;y++){let k=p[y],U=!1;for(let E=0;E<n.length;E++)if(k.type===n[E]){U=!0;break}U||b.push(k)}x.roles.groups=b,_.push(x.roles);let $=[];for(let y=0;y<u.length;y++){let k=u[y],U=!1;for(let E=0;E<r.length;E++)if(k.uuid===r[E]){U=!0;break}U||$.push(k)}return x.members.groups=$,_.push(x.members),_});return{self:t,items:i,add:l,del:d}}};function hd(s,a,o,t,l,d){const i=h("PermissionItem");return c(),N(i,{exist:t.self.exist,items:t.items,title:t.self.title,desc:t.self.desc,onAdd:t.add,onDel:t.del},null,8,["exist","items","title","desc","onAdd","onDel"])}var re=w(fd,[["render",hd]]);const xd={class:"flex-fill h-100 jiBox"},gd={style:{padding:"0 20px 20px 20px"}},vd={setup(s){const{proxy:a}=I();P();let o=C(),t=S({team:"",project:"",maps:{manage:{code:2020,permission:"create_space",title:"\u65B0\u5EFA\u9875\u9762\u7EC4\u6743\u9650",desc:"\u5141\u8BB8\u7528\u6237\u65B0\u5EFA\u9875\u9762\u7EC4",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],loaded:!1,data:{}});T(()=>{t.team=o.params.team,t.data={permission_rule:{context_type:"wiki"}},l()});let l=()=>{let i=[];for(let n in t.maps)i.push(t.maps[n].code);a.post(a.urls.team_permission_rules.format(t.team),i).then(function(n){for(let _ in t.maps){let r=t.maps[_];r.groups=[]}if(n.data&&n.data.length>0)for(let _ in t.maps){let r=t.maps[_];for(let p=0;p<n.data.length;p++){let u=n.data[p];if(u.permission===r.code){r.groups=u.groups;break}}}d()})},d=()=>{a.get(a.urls.team_member_list.format(t.team)).then(function(i){if(i.data&&i.data&&i.data.length>0){let n=[];for(let _=0;_<i.data.length;_++){let r=i.data[_];r.type="single_user",n.push(r)}for(let _ in t.maps){let r=t.maps[_];r.members=n}}t.loaded=!0})};return(i,n)=>(c(),m("div",xd,[f(Y,{title:"\u6743\u9650\u914D\u7F6E",desc:"\u5141\u8BB8\u521B\u5EFA\u9875\u9762\u7EC4\u3002"}),e("div",gd,[g(t).loaded?(c(),N(re,{key:0,role_members:g(t).role_members,data:g(t).data,group:g(t).maps.manage,onLoadPermissionData:g(l)},null,8,["role_members","data","group","onLoadPermissionData"])):M("",!0)])]))}};var yd=w(vd,[["__scopeId","data-v-00f07bfb"]]);const bd={style:{"margin-left":"-1.5rem"},class:"flex-fill h-100 flex-row flex"},kd={setup(s){let a=C(),o=S({com:"list",tagIndex:1});T(()=>{o.com=a.params.type}),G(()=>a.params,l=>{o.com=a.params.type});let t=Q(()=>{let l=xt;switch(o.com){case"list":o.tagIndex=1,l=xt;break;case"permission":o.tagIndex=11,l=yd;break}return l});return(l,d)=>(c(),m("div",bd,[f(Cr,{tagIndex:g(o).tagIndex},null,8,["tagIndex"]),(c(),N(le(g(t))))]))}};const wd={props:["tagIndex"],setup(){let s=C();return{self:S({team:s.params.team})}}},Pe=s=>(H("data-v-163ef6c2"),s=s(),A(),s),$d={id:"project-setting-menu"},jd=Pe(()=>e("div",{style:{flex:"0",padding:"5px 0 5px 30px",width:"100%","font-size":"18px","margin-bottom":"20px"}},"\u914D\u7F6E\u4E2D\u5FC3",-1)),Sd=Pe(()=>e("div",{style:{flex:"0",padding:"5px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u4FE1\u606F",-1)),Cd=L("\u56E2\u961F\u7BA1\u7406"),Id=Pe(()=>e("div",{style:{flex:"0",padding:"20px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u6210\u5458",-1)),Td=L("\u6210\u5458\u7BA1\u7406"),Md=Pe(()=>e("div",{style:{flex:"0",padding:"20px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u6743\u9650",-1)),Pd=L("\u56E2\u961F\u6743\u9650");function zd(s,a,o,t,l,d){const i=h("router-link");return c(),m("div",$d,[jd,Sd,e("div",{class:B({active:o.tagIndex===1})},[f(i,{to:{name:"TeamSetting",params:{team:t.self.team,type:"manager"}}},{default:D(()=>[Cd]),_:1},8,["to"])],2),Id,e("div",{class:B({active:o.tagIndex===11})},[f(i,{to:{name:"TeamSetting",params:{team:t.self.team,type:"member"}}},{default:D(()=>[Td]),_:1},8,["to"])],2),Md,e("div",{class:B({active:o.tagIndex===21})},[f(i,{to:{name:"TeamSetting",params:{team:t.self.team,type:"permission"}}},{default:D(()=>[Pd]),_:1},8,["to"])],2)])}var Dd=w(wd,[["render",zd],["__scopeId","data-v-163ef6c2"]]);const Bd={style:{"margin-left":"10px"}},Ld={class:"modal fade",id:"addTeam","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Ud={class:"modal-dialog modal-lg modal-dialog-scrollable"},Vd={class:"modal-content"},Hd=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},"\u65B0\u5EFA\u56E2\u961F"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Ad={class:"modal-body"},Nd=e("div",{style:{height:"40px","margin-bottom":"10px","border-top":"1px solid #e8e8e8","border-bottom":"1px solid #e8e8e8","border-left":"3px solid #f0ad4e","border-right":"1px solid #e8e8e8"}},[e("div",{style:{flex:"1","align-items":"center",height:"100%",display:"flex","margin-left":"20px"}},[e("div",{style:{flex:"0 0 auto"}}," \u521B\u5EFA\u65B0\u7684\u56E2\u961F\uFF0C\u8FD8\u53EF\u4EE5\u9009\u4E2D\u4E3A\u9ED8\u8BA4\u767B\u5F55\u8FDB\u5165\u7684\u56E2\u961F\u3002 ")])],-1),qd={class:"flex-column my-3"},Ed=e("label",{class:"col-md-12 control-label"},"\u56E2\u961F\u540D\u79F0",-1),Fd={class:"col-md-12 mt-2"},Od={class:"modal-footer"},Rd=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1),Gd={emits:["loadTeams"],setup(s,{emit:a}){const{proxy:o}=I();P(),C();let t=S({name:""}),l=null;T(()=>{l=new bootstrap.Modal(document.getElementById("addTeam"),{keyboard:!1})});let d=()=>{let i={team_name:t.name};o.post(o.urls.team_add,i).then(function(n){n.data.code===200&&(l.hide(),a("loadTeams"))}).catch(function(n){o.bus.emit("alertDanger",n.response.data.errcode)})};return(i,n)=>(c(),m("div",Bd,[f(ee,{title:"\u65B0\u5EFA\u56E2\u961F","data-bs-toggle":"modal","data-bs-target":"#addTeam"}),e("div",Ld,[e("div",Ud,[e("div",Vd,[Hd,e("div",Ad,[e("form",{ref:"form",onSubmit:n[1]||(n[1]=fe((..._)=>i.handleSubmit&&i.handleSubmit(..._),["stop","prevent"]))},[Nd,e("div",qd,[Ed,e("div",Fd,[V(e("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=_=>g(t).name=_),name:"name",class:"form-control"},null,512),[[O,g(t).name]])])])],544)]),e("div",Od,[Rd,e("button",{type:"button",class:"btn btn-primary",onClick:n[2]||(n[2]=(..._)=>g(d)&&g(d)(..._))},"\u786E\u5B9A")])])])])]))}};const vt=s=>(H("data-v-acebe80c"),s=s(),A(),s),Wd={class:"flex-column flex flex-fill h-100 jiBox"},Kd={class:"px-4"},Jd={class:"flex-row flex mt-3"},Yd={style:{flex:"1"}},Qd={class:"table flex-fill mt-3"},Zd={class:"table table-hover"},Xd=vt(()=>e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u56E2\u961F\u540D"),e("th",{scope:"col"},"\u56E2\u961F\u72B6\u6001"),e("th",{scope:"col"},"\u9650\u989D"),e("th",{scope:"col"},"\u7C7B\u578B"),e("th",{scope:"col"},"\u521B\u5EFA\u65F6\u95F4"),e("th",{scope:"col"},"\u9ED8\u8BA4"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1)),ec={key:0,class:"bi bi-check-lg",title:"\u767B\u5F55\u9ED8\u8BA4\u8FDB\u5165\u7684\u56E2\u961F"},tc=["onClick"],sc=vt(()=>e("i",{class:"bi bi-pencil-square"},null,-1)),ac={setup(s){const{proxy:a}=I();P();let o=C(),t=S({team:o.params.team,departmentTree:{},teams:[],show:!1,modifyMember:{},modify_title:"",departMembers:[],departmentUUID:"all",desc:"\u521B\u5EFA\u65B0\u7684\u56E2\u961F\uFF0C\u767B\u5F55\u9ED8\u8BA4\u8FDB\u5165\u56E2\u961F\u8BBE\u7F6E\u3002"});T(()=>{l()});let l=()=>{a.post(a.urls.teams_get).then(function(i){t.teams=i.data})},d=i=>{a.post(a.urls.team_default_set.format(i),{is_default:1}).then(function(n){n.data.code===200&&(l(),a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"))}).catch(function(n){a.bus.emit("alertDanger",n.response.data.errcode)})};return(i,n)=>{const _=h("router-link");return c(),m("div",Wd,[f(Y,{title:"\u56E2\u961F\u5217\u8868",desc:g(t).desc},null,8,["desc"]),e("div",Kd,[e("div",Jd,[e("div",Yd,[f(J,{placeholder:"\u8F93\u5165\u56E2\u961F\u540D"})]),f(Gd,{onLoadTeams:g(l)},null,8,["onLoadTeams"])]),e("div",Qd,[e("table",Zd,[Xd,e("tbody",null,[(c(!0),m(j,null,z(g(t).teams,r=>(c(),m("tr",{key:r.uuid,class:"default"},[e("td",null,[f(_,{to:{name:"Workbench",params:{team:r.uuid,type:"overview",title:"\u6211\u7684\u5DE5\u4F5C\u53F0"}}},{default:D(()=>[L(v(r.name),1)]),_:2},1032,["to"])]),e("td",null,v(r.status===1?"\u6B63\u5E38":"\u505C\u7528"),1),e("td",null,v(r.scale===-1?"\u4E0D\u9650":r.scale+"\u4EBA"),1),e("td",null,v(r.type),1),e("td",null,v(i.filters.formatDate(r.create_time)),1),e("td",null,[r.default_login?(c(),m("i",ec)):(c(),m("i",{key:1,class:"bi bi-check-lg selected pointer",onClick:p=>g(d)(r.uuid)},null,8,tc))]),e("td",null,[f(_,{to:{name:"TeamSetting",params:{team:g(t).team,type:"info"}}},{default:D(()=>[sc]),_:1},8,["to"])])]))),128))])])])])])}}};var oc=w(ac,[["__scopeId","data-v-acebe80c"]]);const lc={components:{AddProjectButton:ee},emits:["loadTeamMembers"],setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,email:"",emailState:null}),t=null;T(()=>{t=new bootstrap.Modal(document.getElementById("addTeamMember"),{keyboard:!1})});let l=n=>{d()},d=()=>{i()},i=()=>{let n={email:o.email};s.post(s.urls.team_member_add.format(o.team),n).then(function(_){_.data.code===200&&(t.hide(),s.$emit("loadTeamMembers"))}).catch(function(_){s.bus.emit("alertDanger",_.response.data.errcode)})};return{self:o,inviterUser:l}}},ic={style:{"margin-left":"10px"}},nc={class:"modal fade",id:"addTeamMember","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},rc={class:"modal-dialog modal-lg modal-dialog-scrollable"},dc={class:"modal-content"},cc=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},"\u9080\u8BF7\u65B0\u7528\u6237"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_c={class:"modal-body"},mc=e("div",{style:{height:"40px","margin-bottom":"10px","border-top":"1px solid #e8e8e8","border-bottom":"1px solid #e8e8e8","border-left":"3px solid #f0ad4e","border-right":"1px solid #e8e8e8"}},[e("div",{style:{flex:"1","align-items":"center",height:"100%",display:"flex","margin-left":"20px"}},[e("div",{style:{flex:"0 0 auto"}}," \u53EF\u4EE5\u5C06\u65B0\u7684\u90E8\u95E8\u6DFB\u52A0\u5230\u4EFB\u4F55\u7684\u4E00\u4E2A\u90E8\u95E8\u4E0B\u9762\u4F5C\u4E3A\u5B50\u90E8\u95E8\uFF0C\u6216\u8005\u6DFB\u52A0\u5230\u56E2\u961F\u4E0B\u9762\u4F5C\u4E3A\u4E00\u7EA7\u90E8\u95E8\u3002 ")])],-1),pc={class:"flex-column my-3"},uc=e("label",{class:"col-md-12 control-label"},"\u90AE\u7BB1\u5730\u5740",-1),fc={class:"col-md-12 mt-2"},hc={class:"modal-footer"},xc=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1);function gc(s,a,o,t,l,d){const i=h("AddProjectButton");return c(),m("div",ic,[f(i,{title:"\u9080\u8BF7\u65B0\u6210\u5458","data-bs-toggle":"modal","data-bs-target":"#addTeamMember"}),e("div",nc,[e("div",rc,[e("div",dc,[cc,e("div",_c,[e("form",{ref:"form",onSubmit:a[1]||(a[1]=fe((...n)=>s.handleSubmit&&s.handleSubmit(...n),["stop","prevent"]))},[mc,e("div",pc,[uc,e("div",fc,[V(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=n=>t.self.email=n),name:"name",class:"form-control"},null,512),[[O,t.self.email]])])])],544)]),e("div",hc,[xc,e("button",{type:"button",class:"btn btn-primary",onClick:a[2]||(a[2]=(...n)=>t.inviterUser&&t.inviterUser(...n))},"\u786E\u5B9A")])])])])])}var vc=w(lc,[["render",gc]]);const yc={data(){return{team:"",name:"",memberUUID:"",memberName:"",memberEmail:"",verify_status:"",member_sidebar_show:!1,options:[{value:1,text:"\u901A\u8FC7"},{value:2,text:"\u5F85\u901A\u8FC7"}]}},props:{modifyMember:Object},watch:{modifyMember(s){let a=this;a.memberUUID=s.uuid,a.memberName=s.name,a.memberEmail=s.email,a.verify_status=s.verify_status}},created(){let s=this;s.team=s.$route.params.team},methods:{save:function(){let s=this;s.member_sidebar_show=!1;let a={uuid:s.memberUUID,name:s.memberName};http.post(s.urls.team_member_update.format(s.team),a).then(function(o){o.data.code===200&&s.$parent.get_team_members()}).catch(function(o){s.bus.$emit("alertDanger",o.response.data.errcode)})},del:function(){let s=this;this.$bvModal.msgBoxConfirm("\u4EC5\u4EC5\u5C06\u6210\u5458\u4ECE\u90E8\u95E8\u5220\u9664\uFF0C\u662F\u5426\u786E\u5B9A\uFF1F",{title:"\u5220\u9664\u6210\u5458",okVariant:"danger",okTitle:"\u786E\u5B9A",cancelTitle:"\u53D6\u6D88",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then(a=>{a&&http.post(s.urls.team_member_delete.format(s.team),{uuid:s.memberUUID}).then(function(o){o.data.code===200&&(s.member_sidebar_show=!1,s.$parent.get_team_members())}).catch(function(o){s.bus.$emit("alertDanger",o.response.data.errcode)})}).catch(a=>{console.log(a)})}}},bc={class:"px-3 py-2 flex-column",style:{"border-top":"1px solid #e8e8e8",height:"100%"}},kc={style:{"margin-top":"20px",flex:"1"}},wc={style:{flex:"0 0 auto","border-top":"1px solid #e8e8e8",padding:"10px 0 0 0"},class:"flex-row"},$c={style:{flex:"1"}},jc=L("\u66F4\u65B0\u4FE1\u606F"),Sc={style:{flex:"0 0 auto"}},Cc=L("\u5220\u9664\u6210\u5458");function Ic(s,a,o,t,l,d){const i=h("b-form-input"),n=h("b-form-group"),_=h("b-form-select"),r=h("b-button"),p=h("b-sidebar");return c(),m("div",null,[f(p,{modelValue:l.member_sidebar_show,"onUpdate:modelValue":a[3]||(a[3]=u=>l.member_sidebar_show=u),"header-class":"modify",id:"member-sidebar",title:"\u7F16\u8F91\u72B6\u6001",width:"500px",backdrop:"",right:"",shadow:""},{default:D(()=>[e("div",bc,[e("div",kc,[f(n,{"label-cols":"4","label-cols-lg":"2",label:"\u540D\u5B57","label-for":"input-sm"},{default:D(()=>[f(i,{id:"input-sm",modelValue:l.memberName,"onUpdate:modelValue":a[0]||(a[0]=u=>l.memberName=u)},null,8,["modelValue"])]),_:1}),f(n,{"label-cols":"4","label-cols-lg":"2",label:"E-mail","label-for":"input-default"},{default:D(()=>[f(i,{id:"input-default",modelValue:l.memberEmail,"onUpdate:modelValue":a[1]||(a[1]=u=>l.memberEmail=u)},null,8,["modelValue"])]),_:1}),f(n,{"label-cols":"4","label-cols-lg":"2",label:"\u72B6\u6001"},{default:D(()=>[f(_,{options:l.options,modelValue:l.verify_status,"onUpdate:modelValue":a[2]||(a[2]=u=>l.verify_status=u)},null,8,["options","modelValue"])]),_:1})]),e("div",wc,[e("div",$c,[f(r,{onClick:d.save,variant:"success"},{default:D(()=>[jc]),_:1},8,["onClick"])]),e("div",Sc,[f(r,{onClick:d.del,variant:"danger"},{default:D(()=>[Cc]),_:1},8,["onClick"])])])])]),_:1},8,["modelValue"])])}var Tc=w(yc,[["render",Ic]]);const Mc={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,departmentTree:{},members:[],show:!1,modifyMember:{},modify_title:"",departMembers:[],departmentUUID:"all"});T(()=>{o.team=a.params.team,t()}),G(()=>a.params,l=>{t()});let t=()=>{s.get(s.urls.team_member_list.format(o.team)).then(function(l){o.members=l.data})};return{self:o,get_team_members:t}},components:{Search:J,InviterUser:vc,User:xe,MemberSideBar:Tc,PermissionHeader:Y}},Pc={class:"flex-column flex flex-fill h-100 jiBox"},zc={class:"px-4"},Dc={class:"flex-row flex mt-3"},Bc={style:{flex:"1"}},Lc={class:"table flex-fill mt-3"},Uc={class:"table table-hover"},Vc=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u7528\u6237\u540D"),e("th",{scope:"col"},"\u90AE\u7BB1"),e("th",{scope:"col"},"\u7535\u8BDD"),e("th",{scope:"col"},"\u72B6\u6001"),e("th",{scope:"col"},"\u521B\u5EFA\u65F6\u95F4"),e("th",{scope:"col"},"\u6700\u540E\u8BBF\u95EE\u65F6\u95F4"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),Hc={key:0,style:{width:"30px",height:"2px"}},Ac=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),Nc=[Ac],qc={key:1,class:"pointer"},Ec=e("i",{class:"bi bi-x-lg"},null,-1),Fc=[Ec];function Oc(s,a,o,t,l,d){const i=h("PermissionHeader"),n=h("Search"),_=h("InviterUser"),r=h("User");return c(),m("div",Pc,[f(i,{title:"\u6210\u5458\u5217\u8868",desc:"\u5DE5\u4F5C\u9879\u7C7B\u578B\u7528\u4E8E\u5728\u540C\u4E00\u4E2A\u9879\u76EE\u4E0B\u4F7F\u7528\u4E0D\u540C\u7C7B\u578B\u7684\u5DE5\u4F5C\u9879\uFF0C\u4E0D\u540C\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u53EF\u4EE5\u5B9A\u4E49\u4E0D\u540C\u7684\u5C5E\u6027\u5B57\u6BB5\u3001\u6743\u9650\u548C\u5DE5\u4F5C\u6D41\u7B49\u3002\u9879\u76EE\u4E0B\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u914D\u7F6E\u7684\u4FEE\u6539\u4E0D\u4F1A\u540C\u6B65\u5230\u914D\u7F6E\u4E2D\u5FC3\u4E0B\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u4E2D\u3002"}),e("div",zc,[e("div",Dc,[e("div",Bc,[f(n,{placeholder:"\u8F93\u5165\u7528\u6237\u540D\uFF0C\u90AE\u7BB1\u67E5\u627E\u6210\u5458"})]),f(_,{onLoadTeamMembers:t.get_team_members},null,8,["onLoadTeamMembers"])]),e("div",Lc,[e("table",Uc,[Vc,e("tbody",null,[(c(!0),m(j,null,z(t.self.members,p=>(c(),m("tr",{key:p.uuid},[e("td",null,[f(r,{user:p},null,8,["user"])]),e("td",null,v(p.email),1),e("td",null,v(p.phone),1),e("td",null,v(p.verify_status),1),e("td",null,v(s.filters.formatDate(p.create_time)),1),e("td",null,v(s.filters.formatDate(p.access_time)),1),e("td",null,[p.built_in?(c(),m("div",Hc,Nc)):(c(),m("div",qc,Fc))])]))),128))])])])])])}var Rc=w(Mc,[["render",Oc]]);const Gc={components:{PermissionHeader:Y,PermissionItem:re},setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,project:"",maps:{invite:{code:4,permission:"invite_member",title:"\u9080\u8BF7\u56E2\u961F\u6210\u5458",desc:"\u5141\u8BB8\u7528\u6237\u9080\u8BF7\u65B0\u7684\u56E2\u961F\u6210\u5458\uFF0C\u5E76\u5728\u9876\u680F\u663E\u793A\u9080\u8BF7\u56E2\u961F\u6210\u5458\u7684\u5FEB\u6377\u5165\u53E3",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},team:{code:1,permission:"administer_team",title:"\u56E2\u961F\u7BA1\u7406\u5458",desc:"\u8D85\u7EA7\u7BA1\u7406\u5458\u6743\u9650\uFF0C\u53EF\u4EE5\u66F4\u6539\u56E2\u961F\u4FE1\u606F\u548C\u56E2\u961F\u6743\u9650",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},do:{code:2,permission:"administer_do",title:"\u300C\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3\u300D\u7BA1\u7406\u5458",desc:"\u9488\u5BF9\u9879\u76EE\u7BA1\u7406\uFF0C\u53EF\u4EE5\u5BF9\u9879\u76EE\u8FDB\u884C\u5168\u5C40\u914D\u7F6E",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},wiki:{code:3,permission:"administer_wiki",title:"\u300C\u6587\u6863\u914D\u7F6E\u4E2D\u5FC3\u300D\u7BA1\u7406\u5458",desc:"\u9488\u5BF9\u6587\u6863\u4E2D\u5FC3\uFF0C\u53EF\u4EE5\u5BF9\u6587\u6863\u8FDB\u884C\u5168\u5C40\u914D\u7F6E",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],loaded:!1,data:{permission_rule:{context_type:"team"}}});T(()=>{t()});let t=()=>{let d=[];for(let i in o.maps)d.push(o.maps[i].code);s.post(s.urls.team_permission_rules.format(o.team),d).then(function(i){for(let n in o.maps){let _=o.maps[n];_.groups=[]}if(i.data&&i.data.length>0)for(let n in o.maps){let _=o.maps[n];for(let r=0;r<i.data.length;r++){let p=i.data[r];if(p.permission===_.code){_.groups=p.groups;break}}}l()})},l=()=>{s.get(s.urls.team_member_list.format(o.team)).then(function(d){if(d.data&&d.data&&d.data.length>0){let i=[];for(let n=0;n<d.data.length;n++){let _=d.data[n];_.type="single_user",i.push(_)}for(let n in o.maps){let _=o.maps[n];_.members=i}}o.loaded=!0})};return{self:o,GetUserDomainGroups:t}}},Wc={class:"flex-column flex flex-fill h-100 jiBox"},Kc={style:{padding:"0 20px 20px 20px"}};function Jc(s,a,o,t,l,d){const i=h("PermissionHeader"),n=h("PermissionItem");return c(),m("div",Wc,[f(i,{title:"\u56E2\u961F\u6743\u9650",desc:"\u56E2\u961F\u6743\u9650\u53EF\u4EE5\u7528\u4E8E\u7BA1\u7406\u56E2\u961F\u6210\u5458\u3002"}),e("div",Kc,[t.self.loaded?(c(),N(n,{key:0,role_members:t.self.role_members,data:t.self.data,group:t.self.maps.invite,onLoadPermissionData:t.GetUserDomainGroups},null,8,["role_members","data","group","onLoadPermissionData"])):M("",!0),t.self.loaded?(c(),N(n,{key:1,role_members:t.self.role_members,data:t.self.data,group:t.self.maps.team,onLoadPermissionData:t.GetUserDomainGroups},null,8,["role_members","data","group","onLoadPermissionData"])):M("",!0),t.self.loaded?(c(),N(n,{key:2,role_members:t.self.role_members,data:t.self.data,group:t.self.maps.do,onLoadPermissionData:t.GetUserDomainGroups},null,8,["role_members","data","group","onLoadPermissionData"])):M("",!0),t.self.loaded?(c(),N(n,{key:3,role_members:t.self.role_members,data:t.self.data,group:t.self.maps.wiki,onLoadPermissionData:t.GetUserDomainGroups},null,8,["role_members","data","group","onLoadPermissionData"])):M("",!0)])])}var Yc=w(Gc,[["render",Jc]]),Qc="https://cdn.jsdelivr.net/gh/jitask/cache/dist/images/logo.png";const Zc={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,name:"",avatar:"",disabled:!0});T(()=>{t()});let t=()=>{s.get(s.urls.team_get.format(o.team)).then(function(i){o.name=i.data.name})};return{self:o,name_change:()=>{o.disabled=!1},update:()=>{s.post(s.urls.team_update.format(o.team,o.project),{name:o.name,uuid:o.project}).then(function(i){i.data.code===200&&(o.disabled=!0,s.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"))}).catch(function(i){s.bus.emit("alertDanger",i.response.data.errcode)})}}},components:{UpdateButton:ee,ProjectMangeHeader:Y}},We=s=>(H("data-v-26d4deb4"),s=s(),A(),s),Xc={class:"flex-column flex flex-fill h-100 jiBox"},e1={class:"mx-4"},t1={class:"mt-4 col-5"},s1=We(()=>e("label",{for:"team-name",class:"form-label"},"\u56E2\u961F\u540D\u5B57",-1)),a1={class:"mt-4 col-8"},o1=We(()=>e("label",{for:"team-name",class:"form-label"},"\u5EFA\u8BAE\u4E0A\u4F20\u957F\u5EA6\u4E3A 200px\uFF0C\u9AD8\u5EA6\u4E3A 52px\uFF0C\u80CC\u666F\u900F\u660E\u7684 PNG \u683C\u5F0F\u56FE\u7247",-1)),l1=We(()=>e("div",{class:"avatar-upload"},[e("img",{src:Qc,style:{"max-height":"100px",border:"1px solid #e7ecf1"}}),e("input",{type:"file"})],-1)),i1={class:"mt-4 col-6"};function n1(s,a,o,t,l,d){const i=h("ProjectMangeHeader"),n=h("UpdateButton");return c(),m("div",Xc,[f(i,{title:"\u56E2\u961F\u4FE1\u606F",desc:""}),e("div",e1,[e("div",t1,[s1,V(e("input",{type:"email",class:"form-control",id:"team-name",onChange:a[0]||(a[0]=(..._)=>t.name_change&&t.name_change(..._)),onKeydown:a[1]||(a[1]=(..._)=>t.name_change&&t.name_change(..._)),"onUpdate:modelValue":a[2]||(a[2]=_=>t.self.name=_)},null,544),[[O,t.self.name]])]),e("div",a1,[o1,e("div",null,[l1,V(e("input",{type:"hidden","onUpdate:modelValue":a[3]||(a[3]=_=>t.self.avatar=_),name:"avatar",class:"form-control",placeholder:"\u5934\u50CF"},null,512),[[O,t.self.avatar]])])]),e("div",i1,[f(n,{disabled:t.self.disabled,title:"\u66F4\u65B0\u4FE1\u606F",onSubmit:t.update},null,8,["disabled","onSubmit"])])])])}var r1=w(Zc,[["render",n1],["__scopeId","data-v-26d4deb4"]]);const d1={setup(){let s=C(),a=S({currentTabComponent:"Manager",tagIndex:1});T(()=>{o(s.params.type)}),G(()=>s.params,t=>{o(s.params.type)});let o=t=>{switch(t){case"manager":a.tagIndex=1,a.currentTabComponent=t;break;case"member":a.tagIndex=11,a.currentTabComponent=t;break;case"permission":a.tagIndex=21,a.currentTabComponent=t;break;case"info":a.tagIndex=1,a.currentTabComponent=t;break}};return{self:a,tag_switch:o}},components:{Control:Dd,Manager:oc,Member:Rc,Permission:Yc,Info:r1}},c1={style:{height:"100%",flex:"1","margin-left":"-1.5rem"},class:"flex-row flex"};function _1(s,a,o,t,l,d){const i=h("Control");return c(),m("div",c1,[f(i,{tagIndex:t.self.tagIndex,onTag_switch:t.tag_switch},null,8,["tagIndex","onTag_switch"]),(c(),N(le(t.self.currentTabComponent)))])}var m1=w(d1,[["render",_1]]);const p1={props:{user:Object,project:String,task:String},emits:["loadTask"],setup(s){const{proxy:a}=I();P();let o=C(),t=S({team:o.params.team,users:[]});T(()=>{t.team=o.params.team,l()});let l=()=>{a.post(a.urls.project_members.format(t.team,s.project)).then(function(i){t.users=i.data})};return{self:t,change_assign:i=>{if(s.user.uuid!==i){let n={uuid:i};a.post(a.urls.task_change_assign.format(t.team,s.task),n).then(function(_){_.data.code===200&&(a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a.$emit("loadTask"))}).catch(function(_){a.bus.emit("alertDanger",_.response.data.errcode)})}}}},components:{User:xe,Search:J}},u1=s=>(H("data-v-aa84091e"),s=s(),A(),s),f1={class:"flex-row flex assign align-items-center pointer","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},h1={style:{flex:"0 0 auto"}},x1=["src"],g1={style:{"margin-left":"10px"},class:"flex-column flex align-items-center"},v1={style:{"text-align":"left",color:"#363636"}},y1=u1(()=>e("div",{style:{"text-align":"left",color:"#999999","font-size":"12px"}},"\u8D1F\u8D23\u4EBA",-1)),b1={class:"dropdown-menu border-0 jiBox",style:{"overflow-y":"auto","overflow-x":"hidden"}},k1={style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}};function w1(s,a,o,t,l,d){const i=h("Search"),n=h("User");return c(),m(j,null,[e("div",f1,[e("div",h1,[e("img",{src:o.user.avatar,style:{height:"30px",width:"30px","border-radius":"30px"}},null,8,x1)]),e("div",g1,[e("div",v1,v(o.user.name),1),y1])]),e("div",b1,[f(i,{class:"px-2",placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u8D1F\u8D23\u4EBA"}),e("div",k1,[(c(!0),m(j,null,z(t.self.users,_=>(c(),m("div",{class:"mt-2",key:_.uuid},[f(n,{onSubmit:t.change_assign,class:"px-2 py-1 status-item",user:_,selected:_.uuid===o.user.uuid,hasEmail:!0},null,8,["onSubmit","user","selected"])]))),128))])])],64)}var $1=w(p1,[["render",w1],["__scopeId","data-v-aa84091e"]]);const j1={props:{status:Object,project:String,issue_type:String,task_uuid:String},emits:["loadTask"],setup(s){const{proxy:a}=I();P();let o=C(),t=S({team:o.params.team,statuses:[]});T(()=>{l()});let l=()=>{a.post(a.urls.next_status_list.format(t.team,s.project,s.issue_type,s.status.uuid)).then(function(i){t.statuses=i.data})},d=i=>{let n={status:i};a.post(a.urls.task_change_status.format(t.team,s.task_uuid),n).then(function(_){_.data.code===200&&(a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a.$emit("loadTask"))}).catch(function(_){a.bus.emit("alertDanger",_.response.data.errcode)})};return G(()=>s.status,(i,n)=>{i.uuid!==n.uuid&&l()}),{self:t,change_status:d}}},Ke=s=>(H("data-v-21409814"),s=s(),A(),s),S1={class:"flex-row flex assign align-items-center pointer","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},C1=Ke(()=>e("div",{style:{flex:"0 0 28px",color:"#17C4BB"}},[e("i",{class:"bi bi-arrow-right-circle-fill fs-c11"})],-1)),I1={style:{"margin-left":"10px"},class:"flex-column flex"},T1={style:{"text-align":"left",color:"#363636"}},M1=Ke(()=>e("div",{style:{"text-align":"left",color:"#999999","font-size":"12px"}},"\u5F53\u524D\u72B6\u6001",-1)),P1={class:"dropdown-menu border-0 jiBox",style:{"overflow-y":"auto","overflow-x":"hidden"}},z1={style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},D1=Ke(()=>e("div",{class:"pb-2 px-2 b-line"},"\u9009\u62E9\u6B65\u9AA4\u66F4\u6539\u72B6\u6001",-1)),B1=["onClick"];function L1(s,a,o,t,l,d){return c(),m(j,null,[e("div",S1,[C1,e("div",I1,[e("div",T1,v(o.status.name),1),M1])]),e("div",P1,[e("div",z1,[D1,(c(!0),m(j,null,z(t.self.statuses,i=>(c(),m("div",{key:i.uuid},[e("div",{onClick:n=>t.change_status(i.uuid),class:"status-item"},v(i.name),9,B1)]))),128))])])],64)}var U1=w(j1,[["render",L1],["__scopeId","data-v-21409814"]]);const V1={props:{project:String,priority:Object,task_uuid:String},emits:["loadTask"],setup(s){const{proxy:a}=I();P();let o=C(),t=S({team:o.params.team,options:[]});T(()=>{l()});let l=()=>{a.get(a.urls.task_priority_options.format(t.team)).then(function(i){t.options=i.data})};return{self:t,change_priority:i=>{let n={priority:i};a.post(a.urls.task_change_priority.format(t.team,s.task_uuid),n).then(function(_){_.data.code===200&&(a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a.$emit("loadTask"))}).catch(function(_){a.bus.emit("alertDanger",_.response.data.errcode)})}}}},we=s=>(H("data-v-301f30f6"),s=s(),A(),s),H1={class:"flex-row flex assign align-items-center pointer","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},A1=we(()=>e("div",{style:{flex:"0 0 28px",color:"#DAA520"}},[e("i",{class:"bi bi-star-fill fs-c11"})],-1)),N1={style:{"margin-left":"10px"},class:"flex-column flex"},q1={style:{"text-align":"left",color:"#363636"}},E1=we(()=>e("div",{style:{"text-align":"left",color:"#999999","font-size":"12px"}},"\u4F18\u5148\u7EA7",-1)),F1={class:"dropdown-menu border-0 jiBox",style:{"overflow-y":"auto","overflow-x":"hidden"}},O1={style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},R1=we(()=>e("div",{class:"pb-2 px-2 b-line"},"\u66F4\u6539\u4F18\u5148\u7EA7",-1)),G1=["onClick"],W1={style:{flex:"0 0 auto"}},K1={key:0,class:"flex-row flex flex-fill align-items-center"},J1=we(()=>e("div",{style:{flex:"1","min-width":"50px"}},null,-1)),Y1=we(()=>e("div",{class:"flex-row flex align-items-center"},[e("i",{class:"bi bi-check"})],-1)),Q1=[J1,Y1];function Z1(s,a,o,t,l,d){return c(),m(j,null,[e("div",H1,[A1,e("div",N1,[e("div",q1,v(o.priority.value),1),E1])]),e("div",F1,[e("div",O1,[R1,(c(!0),m(j,null,z(t.self.options,i=>(c(),m("div",{key:i.uuid},[e("div",{onClick:n=>t.change_priority(i.uuid),class:B([{selected:o.priority.uuid===i.uuid},"flex-row flex align-items-center status-item"])},[e("div",W1,v(i.value),1),o.priority.uuid===i.uuid?(c(),m("div",K1,Q1)):M("",!0)],10,G1)]))),128))])])],64)}var X1=w(V1,[["render",Z1],["__scopeId","data-v-301f30f6"]]);const e0={props:{task:Object,issue_type:String},emits:["reloadTaskList"],setup(s){const{proxy:a}=I();P();let o=C(),t=W(null),l=S({team:o.params.team,project:o.params.project,visible:!1,optionValue:"",options:[],selectField:"",zh:{weekdayHeaderFormat:"narrow",labelPrevDecade:"\u8FC7\u53BB\u5341\u5E74",labelPrevYear:"\u4E0A\u4E00\u5E74",labelPrevMonth:"\u4E0A\u4E2A\u6708",labelCurrentMonth:"\u5F53\u524D\u6708\u4EFD",labelNextMonth:"\u4E0B\u4E2A\u6708",labelNextYear:"\u660E\u5E74",labelNextDecade:"\u4E0B\u4E00\u4E2A\u5341\u5E74",labelToday:"\u4ECA\u5929",labelSelected:"\u9009\u5B9A\u65E5\u671F",labelNoDateSelected:"\u672A\u9009\u62E9\u65E5\u671F",labelCalendar:"\u65E5\u5386",labelNav:"\u65E5\u5386\u5BFC\u822A",labelHelp:"\u4F7F\u7528\u5149\u6807\u952E\u6D4F\u89C8\u65E5\u671F"},deadlineChanged:!1,summaryEditing:!1,editor:Ve,editorConfig:{toolbar:{items:["undo","redo","heading","fontFamily","fontSize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","numberedList","bulletedList","outdent","indent","|","link","blockquote","imageUpload","insertTable"]},ckfinder:{uploadUrl:"",options:{resourceType:"Images"}}},isDisplay:!0,editDescModel:"",watched:!1,issue_type:s.issue_type});G(()=>s.task,q=>{l.summaryEditing=!1,l.editDescModel=q.desc,n(),R()});let d=null;T(()=>{l.deadlineChanged=!1,l.editorConfig.ckfinder.uploadUrl=a.urls.upload.format(l.team),l.editDescModel=s.task.desc,document.getElementById("showTaskBody").addEventListener("show.bs.modal",function(F){l.isDisplay=!0}),d=new bootstrap.Modal(document.getElementById("showTaskBody"),{keyboard:!1}),n(),R()});let i=q=>{let F=document.querySelector("#taskToolBar"),ae=document.querySelector("#taskDescContainer");F.hasChildNodes()&&(F.innerHTML=""),ae.hasChildNodes()&&(ae.innerHTML=""),F.appendChild(q.ui.view.toolbar.element),ae.appendChild(q.ui.getEditableElement())},n=()=>{s.task.deadline&&(t.value=new Date(s.task.deadline))},_=()=>{l.team=o.params.team,a.post(a.urls.watchers_update.format(l.team,l.project,s.task.uuid,"add")).then(function(q){q.data.code===200&&(a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a.$emit("reloadTaskList",s.task.uuid))}).catch(function(q){a.bus.emit("alertDanger",q.response.data.errcode)})},r=()=>{l.team=o.params.team,a.post(a.urls.watchers_update.format(l.team,l.project,s.task.uuid,"cancel")).then(function(q){q.data.code===200&&(a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a.$emit("reloadTaskList",s.task.uuid))}).catch(function(q){a.bus.emit("alertDanger",q.response.data.errcode)})},p=q=>{l.options=[],l.selectField=q,l.visible=!0,document.addEventListener("click",x,!1),a.get(a.urls.field_option_value_list.format(l.team,l.project,l.issue_type,q),{}).then(function(F){l.options=F.data})},u=()=>{l.visible=!1,document.removeEventListener("click",x,!1)},x=q=>{a.$refs[K.value]&&a.$refs[K.value][0].contains(q.target)||u()},b=(q,F)=>{l.visible=!1;let ae={task:s.task.uuid,field:q,option:F};a.post(a.urls.field_option_update.format(l.team,l.project,l.issue_type),ae).then(function(Ue){Ue.data.code===200&&(a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a.$emit("reloadTaskList",s.task.uuid))}).catch(function(Ue){a.bus.emit("alertDanger",Ue.response.data.errcode)})},$=()=>{if(t.value){let q={deadline:t.value.getTime(),which_field:"deadline"};a.post(a.urls.task_update.format(l.team,l.project,l.issue_type,s.task.uuid),q).then(function(F){F.data.code===200&&(a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a.$emit("reloadTaskList",s.task.uuid))}).catch(function(F){a.bus.emit("alertDanger",F.response.data.errcode)})}},y=()=>{l.summaryEditing=!0},k=()=>{if(s.task.summary){l.summaryEditing=!1;let q={summary:s.task.summary,which_field:"summary"};a.post(a.urls.task_update.format(l.team,l.project,l.issue_type,s.task.uuid),q).then(function(F){F.data.code===200&&(a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a.$emit("reloadTaskList",s.task.uuid))}).catch(function(F){a.bus.emit("alertDanger",F.response.data.errcode)})}},U=()=>{if(l.editDescModel){let q={desc:l.editDescModel,which_field:"desc"};a.post(a.urls.task_update.format(l.team,l.project,l.issue_type,s.task.uuid),q).then(function(F){F.data.code===200&&(d.hide(),a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a.$emit("reloadTaskList",s.task.uuid))}).catch(function(F){a.bus.emit("alertDanger",F.response.data.errcode)})}},E=()=>{l.isDisplay=!1},R=()=>{l.watched=!1;let q=ke();if(s.task.watchers)for(let F=0;F<s.task.watchers.length;F++)s.task.watchers[F].uuid===q&&(l.watched=!0)},K=Q(()=>"permBody"+l.selectField);return{deadline:t,self:l,onReady:i,editSummary:y,updateSummary:k,dropOptionValues:p,updateOption:b,editDesc:E,updateDesc:U,onUpdateDeadline:$,watchers_cancel:r,watchers_add:_}},components:{Datepicker:Ze,User:Ee,Assign:$1,TaskStatus:U1,TaskPriority:X1}},Z=s=>(H("data-v-190c7502"),s=s(),A(),s),t0={class:"fields",style:{overflow:"auto",flex:"0 0 500px",display:"flex",height:"100%","border-left":"5px solid #e8e8e8","flex-direction":"column","min-width":"500px"}},s0={style:{"flex-direction":"column",flex:"1",display:"flex",overflow:"auto",padding:"20px"}},a0={class:"flex-row flex",style:{width:"100%"}},o0={style:{flex:"1"}},l0=Z(()=>e("div",{class:"three-dots-class flex-column flex align-items-end justify-content-center"},[e("i",{class:"bi bi-three-dots"})],-1)),i0={class:"field-block"},n0={class:"flex-row flex",style:{width:"100%"}},r0={key:0,style:{flex:"1",height:"30px"}},d0={class:"field-block"},c0={class:"flex-row flex",style:{width:"100%",padding:"0 10px 10px 10px","justify-content":"space-between"}},_0={style:{flex:"1","text-align":"center"}},m0={style:{flex:"1","text-align":"center"}},p0={style:{flex:"1","text-align":"center"}},u0=Z(()=>e("div",{class:"field-block"},[e("div",{class:"flex-row flex"},[e("div",{style:{flex:"1",padding:"0 5px 0 0"}}," \u63CF\u8FF0\uFF08\u5BCC\u6587\u672C\u7F16\u8F91\uFF09 "),e("div",{style:{padding:"0 5px 0 0",flex:"0 0 auto",cursor:"pointer",color:"#17C4BB"},class:"outline-none","data-bs-toggle":"modal","data-bs-target":"#showTaskBody"}," \u653E\u5927\u6D4F\u89C8 ")])],-1)),f0=["innerHTML"],h0={class:"modal fade",id:"showTaskBody","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","data-bs-focus":"false","aria-hidden":"true"},x0={class:"modal-dialog modal-xl modal-dialog-scrollable"},g0={class:"modal-content h-100"},v0={class:"modal-header"},y0={class:"modal-title",id:"staticBackdropLabel"},b0={class:"flex-row flex align-items-center"},k0=Z(()=>e("i",{class:"bi bi-pencil-square"},null,-1)),w0=L(" \u7F16\u8F91 "),$0=[k0,w0],j0=Z(()=>e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),S0={class:"modal-body flex-column flex flex-fill"},C0={key:0,class:"ck-content"},I0=["innerHTML"],T0={key:1,class:"flex-column flex flex-fill",style:{height:"100%",margin:"-1rem"}},M0=Z(()=>e("div",{id:"taskToolBar"},null,-1)),P0={id:"taskDescContainer",class:"flex-column flex flex-fill overflow-auto"},z0={key:0,class:"modal-footer"},D0=Z(()=>e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1)),B0={class:"field-type-group option"},L0={class:"field-cell"},U0=["onClick"],V0={key:0},H0={key:1},A0={key:2,class:"none"},N0=["onClick"],q0={style:{color:"#909090"}},E0={class:"flex-row flex field-row"},F0=Z(()=>e("div",{class:"field-cell"},"\u622A\u6B62\u65E5\u671F",-1)),O0={class:"field-cell-time header field-edit"},R0={class:"field-type-group-last option"},G0={class:"flex-row flex field-row"},W0=Z(()=>e("div",{class:"field-cell"},"\u6240\u5C5E\u9879\u76EE",-1)),K0={class:"field-cell-value header"},J0={class:"flex-row flex field-row"},Y0=Z(()=>e("div",{class:"field-cell"},"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1)),Q0={class:"field-cell-value header"},Z0={class:"flex-row flex field-row"},X0=Z(()=>e("div",{class:"field-cell"},"\u521B\u5EFA\u8005",-1)),e_={class:"field-cell-value header"},t_={class:"flex-row flex field-row"},s_=Z(()=>e("div",{class:"field-cell"},"\u521B\u5EFA\u65F6\u95F4",-1)),a_={class:"field-cell-value header"},o_={class:"flex-row flex field-row"},l_=Z(()=>e("div",{class:"field-cell"},"\u66F4\u65B0\u65F6\u95F4",-1)),i_={class:"field-cell-value header"},n_={style:{flex:"0 0 auto","border-top":"1px solid #e8e8e8",padding:"10px"},class:"flex-row flex align-items-center"},r_={class:"watchers flex-row flex",style:{flex:"1"}},d_=Z(()=>e("div",{style:{flex:"0 0 auto",color:"inherit"}},[e("i",{class:"bi bi-eye-slash"})],-1)),c_=Z(()=>e("div",{style:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}}," \u53D6\u6D88\u5173\u6CE8 ",-1)),__=[d_,c_],m_=Z(()=>e("div",{style:{flex:"0 0 auto",color:"inherit"}},[e("i",{class:"bi bi-eyeglasses"})],-1)),p_=Z(()=>e("div",{style:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}}," \u5173\u6CE8 ",-1)),u_=[m_,p_];function f_(s,a,o,t,l,d){const i=h("Assign"),n=h("TaskStatus"),_=h("TaskPriority"),r=h("ckeditor"),p=h("datepicker"),u=h("User");return c(),m("div",t0,[e("div",s0,[e("div",null,[e("div",a0,[e("div",o0,"#"+v(o.task.number),1),l0])]),e("div",i0,[e("div",n0,[t.self.summaryEditing?(c(),m("div",r0,[V(e("input",{class:"form-control",autofocus:"","onUpdate:modelValue":a[0]||(a[0]=x=>o.task.summary=x),onBlur:a[1]||(a[1]=(...x)=>t.updateSummary&&t.updateSummary(...x))},null,544),[[O,o.task.summary]])])):(c(),m("div",{key:1,class:"summary",onClick:a[2]||(a[2]=(...x)=>t.editSummary&&t.editSummary(...x)),style:{height:"30px"}},v(o.task.summary),1))])]),e("div",d0,[e("div",c0,[e("div",_0,[f(i,{user:o.task.assign,project:o.task.project.uuid,task:o.task.uuid,onLoadTask:a[3]||(a[3]=x=>s.$emit("reloadTaskList",o.task.uuid))},null,8,["user","project","task"])]),e("div",m0,[f(n,{status:o.task.task_status,project:o.task.project.uuid,issue_type:o.task.issue_type.uuid,task_uuid:o.task.uuid,onLoadTask:a[4]||(a[4]=x=>s.$emit("reloadTaskList",o.task.uuid))},null,8,["status","project","issue_type","task_uuid"])]),e("div",p0,[f(_,{project:o.task.project.uuid,priority:o.task.priority,task_uuid:o.task.uuid,onLoadTask:a[5]||(a[5]=x=>s.$emit("reloadTaskList",o.task.uuid))},null,8,["project","priority","task_uuid"])])])]),u0,e("div",{style:{flex:"0 0 auto","margin-top":"5px","border-radius":"5px","overflow-y":"auto","overflow-x":"hidden",height:"180px",padding:"10px"},class:"ck-content border",innerHTML:o.task.desc},null,8,f0),e("div",h0,[e("div",x0,[e("div",g0,[e("div",v0,[e("h5",y0,v(o.task.summary),1),e("div",b0,[t.self.isDisplay?(c(),m("div",{key:0,class:"flex-fill me-4 pe-4 pointer edit-desc",style:{"border-right":"1px solid #cccccc"},onClick:a[6]||(a[6]=(...x)=>t.editDesc&&t.editDesc(...x))},$0)):M("",!0),j0])]),e("div",S0,[t.self.isDisplay?(c(),m("div",C0,[e("div",{innerHTML:o.task.desc},null,8,I0)])):(c(),m("div",T0,[M0,e("div",P0,[f(r,{editor:t.self.editor,onReady:t.onReady,modelValue:t.self.editDescModel,"onUpdate:modelValue":a[7]||(a[7]=x=>t.self.editDescModel=x),config:t.self.editorConfig},null,8,["editor","onReady","modelValue","config"])])]))]),t.self.isDisplay?M("",!0):(c(),m("div",z0,[D0,e("button",{type:"button",class:"btn btn-primary",onClick:a[8]||(a[8]=(...x)=>t.updateDesc&&t.updateDesc(...x))},"\u786E\u5B9A")]))])])]),Xe(s.$slots,"workField",{},void 0,!0),e("div",B0,[(c(!0),m(j,null,z(o.task.field_values,x=>(c(),m("div",{class:"flex-row flex field-row",key:x.uuid},[e("div",L0,v(x.name),1),e("div",{ref_for:!0,ref:"permBody"+x.uuid,class:B(["field-cell-value header field-edit",{active:t.self.visible&&t.self.selectField===x.uuid}])},[e("div",{onClick:b=>t.dropOptionValues(x.uuid),class:"flex-row flex align-items-center",style:{flex:"1"}},[x.value?(c(),m("div",V0,v(x.value),1)):x.number_value?(c(),m("div",H0,v(x.number_value),1)):(c(),m("div",A0,"\u672A\u8BBE\u7F6E"))],8,U0),e("div",{style:{position:"absolute"},class:B(["field-edit jiBox",{open:t.self.visible&&t.self.selectField===x.uuid}])},[(c(!0),m(j,null,z(t.self.options,b=>(c(),m("div",{class:"option-item flex-row flex align-items-center",key:b.uuid,onClick:$=>t.updateOption(x.uuid,b.uuid)},[e("div",q0,v(b.value),1)],8,N0))),128))],2)],2)]))),128)),e("div",E0,[F0,e("div",O0,[f(p,{style:{"padding-left":"5px"},modelValue:t.deadline,"onUpdate:modelValue":[a[9]||(a[9]=x=>t.deadline=x),t.onUpdateDeadline],placeholder:"\u672A\u8BBE\u7F6E",clearable:!1},null,8,["modelValue","onUpdate:modelValue"])])])]),e("div",R0,[e("div",G0,[W0,e("div",K0,v(o.task.project.name),1)]),e("div",J0,[Y0,e("div",Q0,v(o.task.issue_type.name),1)]),e("div",Z0,[X0,e("div",e_,[f(u,{user:o.task.owner},null,8,["user"])])]),e("div",t_,[s_,e("div",a_,v(s.filters.formatDate(o.task.create_time)),1)]),e("div",o_,[l_,e("div",i_,v(s.filters.formatDate(o.task.server_update_stamp/1e3)),1)])])]),e("div",n_,[e("div",r_,[(c(!0),m(j,null,z(o.task.watchers,x=>(c(),N(u,{user:x,key:x.uuid,includeName:!1},null,8,["user"]))),128))]),t.self.watched?(c(),m("div",{key:0,style:{flex:"0 0 auto",cursor:"pointer"},class:"flex-row flex align-items-center watch",onClick:a[10]||(a[10]=(...x)=>t.watchers_cancel&&t.watchers_cancel(...x))},__)):(c(),m("div",{key:1,style:{flex:"0 0 auto",cursor:"pointer"},class:"flex-row flex align-items-center watch",onClick:a[11]||(a[11]=(...x)=>t.watchers_add&&t.watchers_add(...x))},u_))])])}var h_=w(e0,[["render",f_],["__scopeId","data-v-190c7502"]]);const x_={props:{title:String,issue_type:String},emits:["reloadTaskList"],setup(s){const{proxy:a}=I();P();let o=C(),t=S({team:o.params.team,project:o.params.project,com:o.params.com,name:"",desc:"",projectSelect:"",issueTypeSelect:"",assignSelect:"",prioritySelect:"",projects:[],issue_types:[],assigns:[],priorities:[],editor:Ve,editorConfig:{toolbar:{items:["undo","redo","heading","fontFamily","fontSize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","numberedList","bulletedList","outdent","indent","|","link","blockquote","imageUpload","insertTable"]},ckfinder:{uploadUrl:"",options:{resourceType:"Images"}}}}),l=null;T(()=>{p(),t.editorConfig.ckfinder.uploadUrl=a.urls.upload.format(t.team),l=new bootstrap.Modal(document.getElementById("addTask"),{keyboard:!1})});let d=b=>{let $=document.querySelector("#addTaskToolBar"),y=document.querySelector("#addTaskContainer");$.hasChildNodes()&&($.innerHTML=""),y.hasChildNodes()&&(y.innerHTML=""),$.appendChild(b.ui.view.toolbar.element),y.appendChild(b.ui.getEditableElement())},i=b=>{n()},n=()=>{_()},_=()=>{let b={summary:t.name,desc:t.desc,priority:t.prioritySelect,assign:t.assignSelect,project:t.projectSelect,issue_type:t.issueTypeSelect};a.post(a.urls.task_add.format(t.team,t.project,t.issueTypeSelect),b).then(function($){l.hide(),a.$emit("reloadTaskList",$.data.uuid)})},r=b=>{a.post(a.urls.project_members.format(t.team,b)).then(function($){t.assigns=$.data,t.assignSelect=t.assigns[0].uuid})},p=()=>{let b={categories:[],name:""};a.post(a.urls.team_project_list.format(t.team),b).then(function($){let y=$.data;if(y&&y.length>0){for(let k=0;k<y.length;k++)y[k].uuid===t.project&&(t.projectSelect=t.project),t.projects.push({value:y[k].uuid,text:y[k].name});t.projectSelect||(t.projectSelect=t.projects[0].value)}})},u=b=>{a.get(a.urls.project_template.format(t.team,b)).then(function($){let y=$.data;if(y&&y.length>0){for(let k=0;k<y.length;k++)y[k].uuid===s.issue_type&&(t.issueTypeSelect=s.issue_type),t.issue_types.push({value:y[k].uuid,text:y[k].name});t.issueTypeSelect||(t.issueTypeSelect=t.issue_types[0].value)}})},x=()=>{a.post(a.urls.issue_type_priority.format(t.team)).then(function(b){let $=b.data.options;if($&&$.length>0)for(let y=0;y<$.length;y++)$[y].default_selected&&(t.prioritySelect=$[y].uuid),t.priorities.push({value:$[y].uuid,text:$[y].value})})};return G(()=>t.projectSelect,b=>{r(b),u(b),x()}),{self:t,handleOk:i,onReady:d}},components:{AddTaskButton:ee,User:xe}},se=s=>(H("data-v-63d8520e"),s=s(),A(),s),g_={class:"modal fade",id:"addTask","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","data-bs-focus":"false","aria-hidden":"true"},v_={class:"modal-dialog modal-xl modal-dialog-scrollable"},y_={class:"modal-content h-100"},b_={class:"modal-header"},k_={class:"modal-title",id:"staticBackdropLabel"},w_=se(()=>e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),$_={class:"flex-column flex modal-body"},j_={class:"flex-column flex"},S_=se(()=>e("label",{class:"control-label fs-c8"},"\u6807\u9898",-1)),C_={class:"mt-2"},I_={class:"flex-row flex mt-3"},T_={class:"flex-column flex w-50"},M_=se(()=>e("label",{class:"control-label fs-c8"},"\u6240\u5728\u9879\u76EE",-1)),P_={class:"mt-2"},z_=["value"],D_=se(()=>e("div",{style:{width:"1.5rem"}},null,-1)),B_={class:"flex-column flex w-50"},L_=se(()=>e("label",{class:"control-label fs-c8"},"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1)),U_={class:"mt-2"},V_=["value"],H_={class:"flex-row flex align-items-center mt-3"},A_={class:"flex-column flex w-50"},N_=se(()=>e("label",{class:"control-label fs-c8"},"\u8D1F\u8D23\u4EBA",-1)),q_={class:"mt-2"},E_=["value"],F_=se(()=>e("div",{style:{width:"1.5rem"}},null,-1)),O_={class:"flex-column flex w-50"},R_=se(()=>e("label",{class:"control-label fs-c8"},"\u4F18\u5148\u7EA7",-1)),G_={class:"mt-2"},W_=["value"],K_=se(()=>e("div",{class:"mt-3 fs-c8"}," \u63CF\u8FF0\uFF08\u5BCC\u6587\u672C\u7F16\u8F91\uFF09 ",-1)),J_={class:"flex-column flex flex-fill mt-3"},Y_=se(()=>e("div",{id:"addTaskToolBar"},null,-1)),Q_={id:"addTaskContainer",class:"flex-column flex h-100"},Z_={class:"modal-footer"},X_=se(()=>e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1));function em(s,a,o,t,l,d){const i=h("AddTaskButton"),n=h("User"),_=h("ckeditor");return c(),m(j,null,[f(i,{title:o.title,plus:!0,"data-bs-toggle":"modal","data-bs-target":"#addTask"},null,8,["title"]),e("div",g_,[e("div",v_,[e("div",y_,[e("div",b_,[e("h5",k_,v(o.title),1),w_]),e("div",$_,[e("div",j_,[S_,e("div",C_,[V(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=r=>t.self.name=r),name:"name",class:"form-control"},null,512),[[O,t.self.name]])])]),e("div",I_,[e("div",T_,[M_,e("div",P_,[V(e("select",{"onUpdate:modelValue":a[1]||(a[1]=r=>t.self.projectSelect=r),class:"form-select"},[(c(!0),m(j,null,z(t.self.projects,r=>(c(),m("option",{value:r.value,key:r.value},v(r.text),9,z_))),128))],512),[[Ie,t.self.projectSelect]])])]),D_,e("div",B_,[L_,e("div",U_,[V(e("select",{"onUpdate:modelValue":a[2]||(a[2]=r=>t.self.issueTypeSelect=r),class:"form-select"},[(c(!0),m(j,null,z(t.self.issue_types,r=>(c(),m("option",{value:r.value,key:r.value},v(r.text),9,V_))),128))],512),[[Ie,t.self.issueTypeSelect]])])])]),e("div",H_,[e("div",A_,[N_,e("div",q_,[V(e("select",{"onUpdate:modelValue":a[3]||(a[3]=r=>t.self.assignSelect=r),class:"form-select"},[(c(!0),m(j,null,z(t.self.assigns,r=>(c(),m("option",{value:r.uuid,key:r.uuid},[f(n,{user:r,hasEmail:!0},null,8,["user"])],8,E_))),128))],512),[[Ie,t.self.assignSelect]])])]),F_,e("div",O_,[R_,e("div",G_,[V(e("select",{"onUpdate:modelValue":a[4]||(a[4]=r=>t.self.prioritySelect=r),class:"form-select"},[(c(!0),m(j,null,z(t.self.priorities,r=>(c(),m("option",{value:r.value,key:r.value},v(r.text),9,W_))),128))],512),[[Ie,t.self.prioritySelect]])])])]),K_,e("div",J_,[Y_,e("div",Q_,[f(_,{editor:t.self.editor,onReady:t.onReady,modelValue:t.self.desc,"onUpdate:modelValue":a[5]||(a[5]=r=>t.self.desc=r),config:t.self.editorConfig},null,8,["editor","onReady","modelValue","config"])])])]),e("div",Z_,[X_,e("button",{type:"button",class:"btn btn-primary",onClick:a[6]||(a[6]=(...r)=>t.handleOk&&t.handleOk(...r))},"\u786E\u5B9A")])])])])],64)}var tm=w(x_,[["render",em],["__scopeId","data-v-63d8520e"]]);const sm={props:{comName:String,issue_type:String},setup(s){const{proxy:a}=I();let o=P(),t=C(),l=S({cur:0,team:"",project:"",com:"",tabTitle:["\u5168\u90E8{0}","\u672A\u5F00\u59CB","\u8FDB\u884C\u4E2D","\u5DF2\u5B8C\u6210"],task:{},tasks:[],selectedUUID:"",task_completed:!1,tasks_completed:!1,owner:"",assign:"",comName:s.comName,issue_type:s.issue_type});T(()=>{l.team=t.params.team,l.project=t.params.project,l.com=t.params.com,d()});let d=(x,b)=>{let $=a.urls.task_list.format(l.team,l.project,l.issue_type),y={category:l.cur,owner:l.owner,assign:l.assign};a.post($,y).then(function(k){l.tasks=k.data,l.tasks_completed=!0,l.tasks&&l.tasks.length>0&&(x||(b?x=l.tasks[0].uuid:t.name==="Task"?x=t.params.task:x=l.tasks[0].uuid),i(x))})},i=x=>{x!==l.selectedUUID&&(l.selectedUUID=x),(t.name!=="Task"||t.params.task!==x)&&o.push({name:"Task",params:{team:l.team,project:l.project,com:l.com,task:x}}),n(x)},n=x=>{let b=a.urls.task_get.format(l.team,x);a.get(b).then(function($){l.task=$.data,l.task_completed=!0})},_=x=>{l.cur=x,d(null,!0)},r=Q(()=>"\u65B0\u589E{0}".format(l.comName)),p=Q(()=>"\u641C\u7D22{0}".format(l.comName)),u=Q(()=>l.task_completed&&l.tasks&&l.tasks.length>0);return{self:l,selectTab:_,select_task:i,task_list:d,add_label:r,search_label:p,has:u}},components:{Search:J,Priority:Te,Status:pe,Fields:h_,AddTask:tm}},Je=s=>(H("data-v-6cf48f3a"),s=s(),A(),s),am={class:"flex-column flex jiBox h-100"},om={class:"flex-row flex mt-3 b-line"},lm={class:"flex-row flex ps-4 tab-title"},im=["onClick"],nm=Je(()=>e("div",{style:{flex:"1"}},"\xA0",-1)),rm={class:"flex-row flex p-3"},dm=Je(()=>e("div",{style:{flex:"1",display:"inline-block"}},null,-1)),cm={style:{flex:"0 0 auto","flex-direction":"column","align-items":"center",display:"flex"}},_m={style:{width:"100%","text-align":"right",flex:"1","align-items":"center",display:"flex"}},mm={style:{flex:"1",display:"inline-block"}},pm={style:{position:"relative",height:"0"},class:"t-line flex-row flex flex-fill"},um={key:0,class:"flex-row flex flex-fill",style:{position:"relative"}},fm={style:{overflow:"auto"},class:"flex-row flex flex-fill"},hm={id:"task-list",class:"w-100",style:{overflow:"auto"}},xm=["onClick"],gm={class:"flex-row flex",style:{"border-bottom":"1px solid #f8f8f8",flex:"1",padding:"10px 10px 10px 7px"}},vm={style:{flex:"0 0 auto","margin-left":"10px"},class:"flex-row flex"},ym={style:{flex:"0 0 auto","margin-left":"5px","background-color":"#efefef","border-radius":"4px!important",padding:"0 6px 0 6px",height:"20px"}},bm={style:{flex:"1","margin-left":"10px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap",width:"0"}},km={style:{flex:"0 0 auto","margin-right":"10px","margin-left":"5px","background-color":"rgb(239, 239, 239)","border-radius":"4px !important",padding:"0px 6px",height:"20px"},class:"flex-row flex align-items-center"},wm=Je(()=>e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1623897554814",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4488",width:"12",height:"12"},[e("path",{d:"M64 128a128 128 0 0 1 128-128h64a128 128 0 0 1 128 128v64a128 128 0 0 1-121.6 127.872V425.6h409.6a166.4 166.4 0 0 1 166.4 166.4v112.128A128 128 0 0 1 960 832v64a128 128 0 0 1-128 128h-64a128 128 0 0 1-128-128v-64a128 128 0 0 1 121.6-127.872V592a89.6 89.6 0 0 0-89.6-89.6H262.4v201.728A128 128 0 0 1 384 832v64a128 128 0 0 1-128 128H192a128 128 0 0 1-128-128v-64a128 128 0 0 1 121.6-127.872V319.872A128 128 0 0 1 64 192V128z m128-51.2a51.2 51.2 0 0 0-51.2 51.2v64a51.2 51.2 0 0 0 51.2 51.2h64a51.2 51.2 0 0 0 51.2-51.2V128a51.2 51.2 0 0 0-51.2-51.2H192z m0 704a51.2 51.2 0 0 0-51.2 51.2v64a51.2 51.2 0 0 0 51.2 51.2h64a51.2 51.2 0 0 0 51.2-51.2v-64a51.2 51.2 0 0 0-51.2-51.2H192z m576 0a51.2 51.2 0 0 0-51.2 51.2v64a51.2 51.2 0 0 0 51.2 51.2h64a51.2 51.2 0 0 0 51.2-51.2v-64a51.2 51.2 0 0 0-51.2-51.2h-64z","p-id":"4489",fill:"#515151"})])],-1)),$m={style:{flex:"0 0 auto","margin-left":"5px","font-size":"12px"}},jm={style:{flex:"0 0 auto"}},Sm={key:1,class:"flex flex-fill"},Cm={key:0,style:{"-webkit-flex":"1",flex:"1"},class:"flex-row flex align-items-center justify-content-center"};function Im(s,a,o,t,l,d){const i=h("AddTask"),n=h("Search"),_=h("Priority"),r=h("Status"),p=h("Fields");return c(),m("div",am,[e("div",om,[e("div",lm,[(c(!0),m(j,null,z(t.self.tabTitle,(u,x)=>(c(),m("div",{class:B(["justify-content-between align-items-center pointer px-3 pb-2",{active:t.self.cur==x}]),onClick:b=>t.selectTab(x),key:x},v(u.format(t.self.comName)),11,im))),128))]),nm]),e("div",rm,[f(i,{title:t.add_label,issue_type:o.issue_type,onReloadTaskList:t.task_list},null,8,["title","issue_type","onReloadTaskList"]),dm,e("div",cm,[e("div",_m,[e("div",mm,[f(n,{placeholder:t.search_label},null,8,["placeholder"])])])])]),e("div",pm,[t.self.tasks&&t.self.tasks.length>0?(c(),m("div",um,[e("div",fm,[e("div",hm,[(c(!0),m(j,null,z(t.self.tasks,u=>(c(),m("div",{key:u.uuid,class:B(["flex-row flex flex-fill task-item",{active:t.self.selectedUUID===u.uuid}]),onClick:x=>t.select_task(u.uuid)},[e("div",gm,[e("div",vm,[f(_,{color:u.priority.color,name:u.priority.value,bgColor:u.priority.background_color},null,8,["color","name","bgColor"]),e("div",ym,v(u.assign.name),1)]),e("div",bm,v(u.summary),1),e("div",km,[wm,e("div",$m,v(u.related_task_count[0])+"/"+v(u.related_task_count[1]),1)]),e("div",jm,[f(r,{name:u.task_status.name,color:u.task_status.category.toString()},null,8,["name","color"])])])],10,xm))),128))])]),t.self.task_completed?(c(),N(p,{key:0,task:t.self.task,issue_type:t.self.issue_type,onReloadTaskList:t.task_list},{workField:D(()=>[Xe(s.$slots,"workField",{},void 0,!0)]),_:3},8,["task","issue_type","onReloadTaskList"])):M("",!0)])):(c(),m("div",Sm,[t.self.tasks_completed&&!t.has?(c(),m("div",Cm," \u6682\u65E0"+v(t.self.comName),1)):M("",!0)]))])])}var Ye=w(sm,[["render",Im],["__scopeId","data-v-6cf48f3a"]]);const Tm={props:{comName:String,issue_type:String},setup(s){const{proxy:a}=I();P();let o=C(),t=S({team:"",project:"",summary:"",task:"",tasks:[],linkedTasks:[],addingTasks:[],delUUID:"",comName:s.comName,issue_type:s.issue_type});G(()=>o.params,p=>{t.team=o.params.team,t.project=o.params.project,t.task=o.params.task,i()});let l=null;T(()=>{t.team=o.params.team,t.project=o.params.project,t.task=o.params.task,i(),l=new bootstrap.Modal(document.getElementById("addLinkTasks"),{keyboard:!1}),document.getElementById("addLinkTasks").addEventListener("shown.bs.modal",function(){t.addingTasks.length=0,d()})});let d=p=>{let u=a.urls.link_tasks.format(t.team,t.project);a.post(u,{issueType_name:"\u4EFB\u52A1",summary:t.summary}).then(function(x){t.tasks=x.data})},i=()=>{let p=a.urls.linked_tasks.format(t.team,t.task);a.get(p).then(function(u){t.linkedTasks=u.data})};return{self:t,task_list:d,exist:p=>{if(t.linkedTasks){for(let u=0;u<t.linkedTasks.length;u++)if(t.linkedTasks[u].uuid===p)return!0}return!1},delRelatedTask:p=>{a.post(a.urls.linked_tasks_del.format(t.team,t.task,p)).then(function(u){u.data.code===200&&(i(),a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"))}).catch(function(u){a.bus.emit("alertDanger",u.response.data.errcode)})},beLinkedTasks:()=>{if(t.tasks)for(let u=0;u<t.tasks.length;u++){let x=t.tasks[u];if(x.sel){let b={uuid:x.uuid,issue_type:x.issue_type.uuid};t.addingTasks.push(b)}}let p=t.addingTasks;a.post(a.urls.linked_tasks_add.format(t.team,t.task),p).then(function(u){u.data.code===200&&(l.hide(),i(),a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"))}).catch(function(u){a.bus.emit("alertDanger",u.response.data.errcode)})}}},components:{Com00000:Ye,Priority:Te,Status:pe}},ge=s=>(H("data-v-7ea176ca"),s=s(),A(),s),Mm={class:"field-type-group option"},Pm=ge(()=>e("div",{class:"flex-row flex field-row"},[e("div",{class:"field-cell"},"\u5173\u8054\u4EFB\u52A1"),e("div",{class:"field-cell-value header"},[e("div",{class:"flex-row flex"},[e("div",{style:{flex:"1"}}),e("div",{style:{color:"#303030",height:"1.5rem"},class:"flex-row flex align-items-center pointer","data-bs-toggle":"modal","data-bs-target":"#addLinkTasks"},[e("i",{class:"bi bi-link",style:{"font-size":"1.5rem"}})])])])],-1)),zm={class:"flex-row flex field-row"},Dm={key:0,class:"flex-row flex",style:{"-webkit-flex":"1",flex:"1",position:"relative"}},Bm={style:{overflow:"auto",flex:"1",display:"flex",height:"100%"}},Lm={id:"linked-task-list",class:"flex-column flex flex-fill"},Um=["onMouseover"],Vm=["onClick"],Hm=ge(()=>e("i",{class:"bi bi-x-lg"},null,-1)),Am=[Hm],Nm={key:1},qm={class:"modal fade",id:"addLinkTasks","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Em={class:"modal-dialog modal-lg modal-dialog-scrollable"},Fm={class:"modal-content"},Om=ge(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},"\u5173\u8054\u4EFB\u52A1"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),Rm={class:"modal-body"},Gm={style:{flex:"0 0 auto",padding:"0 10px"}},Wm=ge(()=>e("label",{class:"col-md-12 control-label"},"\u4EFB\u52A1\u6807\u9898",-1)),Km={class:"col-md-12 mt-2"},Jm=ge(()=>e("div",null,"\u8F93\u5165\u4EFB\u52A1\u6807\u9898\u5305\u542B\u7684\u5173\u952E\u5B57",-1)),Ym={style:{flex:"1"},class:"mt-3"},Qm={key:0,class:"flex-row flex",style:{"-webkit-flex":"1",flex:"1",position:"relative"}},Zm={style:{overflow:"auto",flex:"1",display:"flex",height:"100%"}},Xm={id:"task-list",style:{"flex-direction":"column",flex:"1",display:"flex",overflow:"auto"}},e2={class:"flex-row flex",style:{"border-bottom":"1px solid #f8f8f8",flex:"1",padding:"10px 10px 10px 7px"}},t2={style:{flex:"0 0 auto"},class:"flex-row flex align-items-center justify-content-center"},s2={key:0,type:"checkbox",style:{width:"14px",height:"14px"},disabled:"",checked:""},a2=["onUpdate:modelValue"],o2={style:{flex:"0 0 auto","margin-left":"10px"},class:"flex-row flex"},l2={style:{flex:"0 0 auto","margin-left":"5px","background-color":"#efefef","border-radius":"4px!important",padding:"0 6px 0 6px",height:"20px"}},i2={style:{flex:"1","margin-left":"10px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap",width:"0"}},n2={style:{flex:"0 0 auto"}},r2={class:"modal-footer"},d2=ge(()=>e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1));function c2(s,a,o,t,l,d){const i=h("Com00000"),n=h("Priority"),_=h("Status");return c(),m(j,null,[f(i,{comName:t.self.comName,issue_type:t.self.issue_type,ref:"com"},{workField:D(()=>[e("div",Mm,[Pm,e("div",zm,[t.self.linkedTasks&&t.self.linkedTasks.length>0?(c(),m("div",Dm,[e("div",Bm,[e("div",Lm,[(c(!0),m(j,null,z(t.self.linkedTasks,r=>(c(),m("div",{key:r.uuid,class:"flex-row flex flex-fill task-item align-items-center hover"},[e("div",{class:"flex-row flex flex-fill related-task align-items-center",style:{flex:"1",padding:"5px 0"},onMouseover:p=>{t.self.delUUID=r.uuid},onMouseleave:a[0]||(a[0]=p=>{t.self.delUUID=""})},[e("div",{style:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap",width:"0"},class:B(["flex-fill",{del:r.task_status.category===3}])}," #"+v(r.number)+" "+v(r.summary),3),r.uuid===t.self.delUUID?(c(),m("div",{key:0,style:{flex:"0 0 20px","margin-left":"5px"},onClick:p=>t.delRelatedTask(r.uuid),class:"flex-row flex align-items-center pointer"},Am,8,Vm)):M("",!0)],40,Um)]))),128))])])])):(c(),m("div",Nm,"\u6682\u65E0\u5173\u8054"))])])]),_:1},8,["comName","issue_type"]),e("div",qm,[e("div",Em,[e("div",Fm,[Om,e("div",Rm,[e("div",Gm,[Wm,e("div",Km,[V(e("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=r=>t.self.summary=r),onBlur:a[2]||(a[2]=(...r)=>t.task_list&&t.task_list(...r)),name:"name",class:"form-control"},null,544),[[O,t.self.summary]])]),Jm]),e("div",Ym,[t.self.tasks&&t.self.tasks.length>0?(c(),m("div",Qm,[e("div",Zm,[e("div",Xm,[(c(!0),m(j,null,z(t.self.tasks,r=>(c(),m("div",{key:r.uuid,class:"flex-row flex task-item"},[e("div",e2,[e("div",t2,[t.exist(r.uuid)?(c(),m("input",s2)):V((c(),m("input",{key:1,type:"checkbox","onUpdate:modelValue":p=>r.sel=p,style:{width:"14px",height:"14px"}},null,8,a2)),[[he,r.sel]])]),e("div",o2,[f(n,{color:r.priority.color,name:r.priority.value,bgColor:r.priority.background_color},null,8,["color","name","bgColor"]),e("div",l2,v(r.assign.name),1)]),e("div",i2,v(r.summary),1),e("div",n2,[f(_,{name:r.task_status.name,color:r.task_status.category.toString()},null,8,["name","color"])])])]))),128))])])])):M("",!0)])]),e("div",r2,[d2,e("button",{type:"button",class:"btn btn-primary",onClick:a[3]||(a[3]=(...r)=>t.beLinkedTasks&&t.beLinkedTasks(...r))},"\u786E\u5B9A")])])])])],64)}var _2=w(Tm,[["render",c2],["__scopeId","data-v-7ea176ca"]]);const m2={props:{comName:String,issue_type:String},setup(s){return{self:S({comName:s.comName,issue_type:s.issue_type})}},components:{Com00000:Ye}};function p2(s,a,o,t,l,d){const i=h("Com00000");return c(),N(i,{comName:o.comName,issue_type:o.issue_type},{workField:D(()=>[]),_:1},8,["comName","issue_type"])}var u2=w(m2,[["render",p2]]);const f2={props:{comName:String,issue_type:String},setup(s){const{proxy:a}=I();P();let o=C(),t=S({team:o.params.team,project:o.params.project,task:o.params.task,tasks:[],linkedTasks:[],comName:s.comName,issue_type:s.issue_type});T(()=>{l()}),G(()=>o.params,d=>{t.task=o.params.task,l()});let l=()=>{let d=a.urls.linked_source_tasks.format(t.team,t.task);a.get(d).then(function(i){t.linkedTasks=i.data})};return{self:t}},components:{Com00000:Ye}},h2=s=>(H("data-v-ccb6ae2e"),s=s(),A(),s),x2={class:"field-type-group option"},g2=h2(()=>e("div",{class:"flex-row flex field-row"},[e("div",{class:"field-cell"},"\u5173\u8054\u9700\u6C42")],-1)),v2={class:"flex-row field-row flex"},y2={key:0,class:"flex-row flex",style:{"-webkit-flex":"1",flex:"1",position:"relative"}},b2={style:{overflow:"auto",flex:"1",display:"flex",height:"100%"}},k2={id:"linked-task-list",class:"flex-column flex flex-fill"},w2={class:"flex-row flex",style:{flex:"1",padding:"5px 0"}},$2={key:1,style:{padding:"3px 0"}};function j2(s,a,o,t,l,d){const i=h("Com00000");return c(),N(i,{comName:o.comName,issue_type:o.issue_type},{workField:D(()=>[e("div",x2,[g2,e("div",v2,[t.self.linkedTasks&&t.self.linkedTasks.length>0?(c(),m("div",y2,[e("div",b2,[e("div",k2,[(c(!0),m(j,null,z(t.self.linkedTasks,n=>(c(),m("div",{key:n.uuid,class:"flex-row flex flex-fill task-item align-items-center"},[e("div",w2,[e("div",{style:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap",width:"0"},class:B(["flex-fill",{del:n.task_status.category===3}])}," #"+v(n.number)+" "+v(n.summary),3)])]))),128))])])])):(c(),m("div",$2,"\u6682\u65E0\u5173\u8054"))])])]),_:1},8,["comName","issue_type"])}var S2=w(f2,[["render",j2],["__scopeId","data-v-ccb6ae2e"]]);const C2={props:{curMember:Array,role:String},emits:["loadRoleMembers"],components:{AddProjectButton:ee,Search:J,User:xe},setup(s){const{proxy:a}=I();P();let o=C(),t=S({team:o.params.team,project:o.params.project,name:"",items:[],members:[]}),l=null;T(()=>{n(),l=new bootstrap.Modal(document.getElementById("addRoleMember"),{keyboard:!1})});let d=p=>{i()},i=()=>{_()},n=()=>{a.get(a.urls.team_member_list.format(t.team)).then(function(p){if(t.items=p.data,t.items)for(let u=0;u<t.items.length;u++)t.items[u].sel=!1})},_=()=>{if(t.items){t.members=[];for(let u=0;u<t.items.length;u++){let x=t.items[u];x.sel&&t.members.push(x.uuid)}}let p={members:t.members,role_uuid:t.role};a.post(a.urls.project_member_add.format(t.team,t.project),p).then(function(u){u.data.code===200&&(l.hide(),a.$emit("loadRoleMembers"))})};return{self:t,handleSubmit:i,exist:p=>{if(s.curMember){for(let u=0;u<s.curMember.length;u++)if(s.curMember[u].uuid===p)return!0}return!1},addMember:d}}},I2={class:"modal fade",id:"addRoleMember","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},T2={class:"modal-dialog modal-lg modal-dialog-scrollable"},M2={class:"modal-content"},P2=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"exampleModalLabel"},"\u9080\u8BF7\u65B0\u7528\u6237"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),z2={class:"modal-body"},D2={style:{flex:"1",height:"100%"},class:"flex-row flex align-items-center"},B2=e("div",{style:{flex:"1",display:"flex"}}," \u9009\u62E9\u6210\u5458\u52A0\u5165\u5230\u89D2\u8272\uFF1A \u9879\u76EE\u6210\u5458 ",-1),L2={style:{flex:"0 0 300px"}},U2={class:"table mt-4"},V2={class:"table table-hover l-line r-line t-line"},H2=e("thead",{class:"table-light"},[e("tr",null,[e("th",{style:{width:"50px"}},[e("div",{class:"flex-row flex align-items-center"},[e("input",{type:"checkbox",style:{width:"18px",height:"18px"}})])]),e("th",null,"\u7528\u6237\u540D"),e("th",null,"\u90AE\u7BB1"),e("th",{class:"col-2"},"\u6240\u5C5E\u90E8\u95E8"),e("th",{class:"col-2"},"\u7528\u6237\u7EC4")])],-1),A2={style:{"vertical-align":"middle"}},N2={class:"flex-row flex align-items-center"},q2={key:0,type:"checkbox",style:{width:"18px",height:"18px"},disabled:"",checked:""},E2=["onUpdate:modelValue"],F2=e("td",null," \u65E0 ",-1),O2=e("td",null," \u65E0 ",-1),R2={class:"modal-footer"},G2=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1);function W2(s,a,o,t,l,d){const i=h("AddProjectButton"),n=h("Search"),_=h("User");return c(),m(j,null,[f(i,{title:"\u6DFB\u52A0\u6210\u5458","data-bs-toggle":"modal","data-bs-target":"#addRoleMember"}),e("div",I2,[e("div",T2,[e("div",M2,[P2,e("div",z2,[e("form",{ref:"form",onSubmit:a[0]||(a[0]=fe((...r)=>t.handleSubmit&&t.handleSubmit(...r),["stop","prevent"]))},[e("div",D2,[B2,e("div",L2,[f(n,{placeholder:"\u8F93\u5165\u7528\u6237\u540D\uFF0C\u90AE\u7BB1"})])])],544),e("div",U2,[e("table",V2,[H2,e("tbody",null,[(c(!0),m(j,null,z(t.self.items,r=>(c(),m("tr",{key:r.uuid},[e("td",A2,[e("div",N2,[t.exist(r.uuid)?(c(),m("input",q2)):V((c(),m("input",{key:1,type:"checkbox","onUpdate:modelValue":p=>r.sel=p,style:{width:"18px",height:"18px"}},null,8,E2)),[[he,r.sel]])])]),e("td",null,[f(_,{user:r},null,8,["user"])]),e("td",null,v(r.email),1),F2,O2]))),128))])])])]),e("div",R2,[G2,e("button",{type:"button",class:"btn btn-primary",onClick:a[1]||(a[1]=(...r)=>t.addMember&&t.addMember(...r))},"\u786E\u5B9A")])])])])],64)}var K2=w(C2,[["render",W2]]);const J2={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,project:a.params.project,items:[],roles:[],fields:[{key:"user",label:"\u7528\u6237\u540D"},{key:"email",label:"\u90AE\u7BB1"},{key:"role",label:"\u89D2\u8272"},{key:"op",label:"\u64CD\u4F5C",w:"80px"}],selectedRole:""});T(()=>{t()});let t=()=>{o.roles=[],s.post(s.urls.project_members.format(o.team,o.project)).then(function(d){o.items=d.data;let i=[];for(let n=0;n<o.items.length;n++){let _=!1,r=o.items[n];for(let p=0;p<i.length;p++)if(i[p]===r.role_uuid){_=!0;break}if(!_){let p={uuid:r.role_uuid,name:r.role_name};o.roles.push(p)}i.push(r.role_uuid)}o.roles.length>0&&(o.selectedRole=o.roles[0].uuid)})};return{self:o,delMember:(d,i)=>{},get_role_members:t}},components:{Search:J,AddMember:K2,User:Ee}},ze=s=>(H("data-v-ff492134"),s=s(),A(),s),Y2={class:"flex-column flex h-100 jiBox"},Q2=ze(()=>e("div",{class:"b-line p-3 fs-4"},"\u6210\u5458",-1)),Z2={class:"flex-row flex align-items-center",style:{flex:"0 0 auto",margin:"10px 20px"}},X2={class:"flex-fill"},ep={class:"flex-row flex members t-line i-table",style:{flex:"1"}},tp={style:{flex:"0 0 200px"},class:"r-line"},sp={style:{flex:"1",margin:"-1px 0 0 0"}},ap={class:"table table-hover"},op=ze(()=>e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u7528\u6237\u540D"),e("th",{scope:"col"},"\u90AE\u7BB1"),e("th",{scope:"col"},"\u89D2\u8272"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1)),lp=ze(()=>e("td",null,[e("div",null,"\u65E0")],-1)),ip=["onClick"],np=ze(()=>e("i",{class:"bi bi-x fs-c8"},null,-1)),rp=[np];function dp(s,a,o,t,l,d){const i=h("Search"),n=h("AddMember"),_=h("User");return c(),m("div",Y2,[Q2,e("div",Z2,[e("div",X2,[f(i,{placeholder:"\u641C\u7D22\u6210\u5458"})]),e("div",null,[f(n,{role:t.self.selectedRole,curMember:t.self.items,onLoadRoleMembers:t.get_role_members},null,8,["role","curMember","onLoadRoleMembers"])])]),e("div",ep,[e("div",tp,[(c(!0),m(j,null,z(t.self.roles,r=>(c(),m("div",{key:r.uuid,class:B(["role active",{active:r.uuid===t.self.selectedRole}])},v(r.name),3))),128))]),e("div",sp,[e("table",ap,[op,e("tbody",null,[(c(!0),m(j,null,z(t.self.items,r=>(c(),m("tr",{key:r.uuid},[e("td",null,[f(_,{user:r},null,8,["user"])]),e("td",null,v(r.email),1),lp,e("td",null,[e("div",{class:"member-delete-x",onClick:p=>t.delMember(r.role_uuid,r.uuid)},rp,8,ip)])]))),128))])])])])])}var cp=w(J2,[["render",dp],["__scopeId","data-v-ff492134"]]);const _p={components:{Search:J},setup(){return{self:S({name:"",nameState:null,submittedNames:[]})}}},mp=s=>(H("data-v-0d056109"),s=s(),A(),s),pp={class:"app-main-content jiBox flex-column flex h-100"},up=mp(()=>e("div",{style:{flex:"0 0 auto","font-size":"18px",padding:"20px 0 10px 20px"},class:"b-line"},"\u62A5\u8868",-1)),fp={class:"flex-row flex align-items-center",style:{flex:"0 0 auto",margin:"10px 20px"}},hp={style:{flex:"0 0 300px","text-align":"right",display:"flex"}},xp=X('<div class="flex-row flex report t-line" style="flex:1;" data-v-0d056109><div style="flex:0 0 200px;" class="r-line" data-v-0d056109><div class="report-menu active" data-v-0d056109> \u5E38\u7528\u62A5\u8868 </div><div class="report-menu" data-v-0d056109> \u9700\u6C42\u5206\u6790 </div><div class="report-menu" data-v-0d056109> \u7F3A\u9677\u5206\u6790 </div><div class="report-menu" data-v-0d056109> \u4EFB\u52A1\u5206\u6790 </div><div class="report-menu" data-v-0d056109> \u5DE5\u65F6\u62A5\u8868 </div></div><div style="flex:1;margin:10px 20px;" class="flex-column flex" data-v-0d056109><div class="report-item report-title" data-v-0d056109>\u5E38\u7528\u62A5\u8868</div><div class="report-item flex-row flex" data-v-0d056109><div style="flex:0 0 auto;color:#CD950C;" data-v-0d056109><i class="bi bi-bar-chart-line" data-v-0d056109></i></div><div style="flex:0 0 auto;margin-left:15px;" data-v-0d056109> \u9700\u6C42\u72B6\u6001\u5206\u5E03 </div></div><div class="report-item flex-row flex" data-v-0d056109><div style="flex:0 0 auto;color:#A020F0;" data-v-0d056109><i class="bi bi-bar-chart-line" data-v-0d056109></i></div><div style="flex:0 0 auto;margin-left:15px;" data-v-0d056109> \u7F3A\u9677\u72B6\u6001\u5206\u5E03 </div></div><div class="report-item flex-row flex" data-v-0d056109><div style="flex:0 0 auto;color:#CD1076;" data-v-0d056109><i class="bi bi-bar-chart-line" data-v-0d056109></i></div><div style="flex:0 0 auto;margin-left:15px;" data-v-0d056109> \u4EFB\u52A1\u72B6\u6001\u5206\u5E03 </div></div><div class="report-item flex-row flex" data-v-0d056109><div style="flex:0 0 auto;color:#1e7e34;" data-v-0d056109><i class="bi bi-bar-chart-line" data-v-0d056109></i></div><div style="flex:0 0 auto;margin-left:15px;" data-v-0d056109> \u6BCF\u65E5\u5DE5\u65F6\u65E5\u5FD7\u62A5\u8868 </div></div></div></div>',1);function gp(s,a,o,t,l,d){const i=h("Search");return c(),m("div",pp,[up,e("div",fp,[e("div",hp,[f(i,{placeholder:"\u641C\u7D22\u62A5\u8868"})])]),xp])}var vp=w(_p,[["render",gp],["__scopeId","data-v-0d056109"]]);const yp={props:{user:Object},emits:["loadProject"],setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,project:a.params.project,users:[]});T(()=>{t()});let t=()=>{s.post(s.urls.project_members.format(o.team,o.project)).then(function(d){o.users=d.data})};return{self:o,change_assign:d=>{let i={uuid:d};s.post(s.urls.project_change_assign.format(o.team,o.project),i).then(function(n){n.data.code===200&&(s.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),s.$emit("loadProject"))}).catch(function(n){s.bus.emit("alertDanger",n.response.data.errcode)})}}},components:{User:xe,Search:J}},bp=s=>(H("data-v-5027a006"),s=s(),A(),s),kp={class:"flex-row flex"},wp={class:"flex-row flex assign align-items-center py-2 pe-4 pointer","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},$p=["src"],jp={style:{"margin-left":"10px"},class:"flex-column flex"},Sp={style:{"text-align":"left",color:"#363636"}},Cp=bp(()=>e("div",{style:{"text-align":"left",color:"#999999","font-size":"12px"}},"\u9879\u76EE\u8D1F\u8D23\u4EBA",-1)),Ip={class:"dropdown-menu border-0 jiBox",style:{"overflow-y":"auto","overflow-x":"hidden",position:"relative"}},Tp={style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}};function Mp(s,a,o,t,l,d){const i=h("Search"),n=h("User");return c(),m("div",kp,[e("div",wp,[e("div",null,[e("img",{src:o.user.avatar,style:{height:"30px",width:"30px","border-radius":"30px"}},null,8,$p)]),e("div",jp,[e("div",Sp,v(o.user.name),1),Cp])]),e("div",Ip,[f(i,{class:"px-2",placeholder:"\u641C\u7D22\u9879\u76EE\u8D1F\u8D23\u4EBA"}),e("div",Tp,[(c(!0),m(j,null,z(t.self.users,_=>(c(),m("div",{class:"mt-2",key:_.uuid},[f(n,{onSubmit:t.change_assign,class:"px-2 py-1 status-item",user:_,selected:_.uuid===o.user.uuid,hasEmail:!0},null,8,["onSubmit","user","selected"])]))),128))])])])}var Pp=w(yp,[["render",Mp],["__scopeId","data-v-5027a006"]]);const zp={data(){return{statuses:[{uuid:"to_do",name:"\u672A\u5F00\u59CB"},{uuid:"in_progress",name:"\u8FDB\u884C\u4E2D"},{uuid:"done",name:"\u5DF2\u5B8C\u6210"}]}},props:{team:String,project:String,name:String,color:String},emits:["loadProject"],setup(s){const{proxy:a}=I();P(),C();let o=S({statuses:[{uuid:"to_do",name:"\u672A\u5F00\u59CB"},{uuid:"in_progress",name:"\u8FDB\u884C\u4E2D"},{uuid:"done",name:"\u5DF2\u5B8C\u6210"}]}),t=i=>{let n={category:i};a.post(a.urls.project_change_status.format(s.team,s.project),n).then(function(_){_.data.code===200&&(a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a.$emit("loadProject"))}).catch(function(_){a.bus.$emit("alertDanger",_.response.data.errcode)})},l=Q(()=>{let i=s.name;switch(s.name){case"1":case"to_do":i="\u672A\u5F00\u59CB";break;case"2":case"in_progress":i="\u8FDB\u884C\u4E2D";break;case"3":case"done":i="\u5DF2\u5B8C\u6210";break}return i}),d=Q(()=>{let i=s.color;switch(s.color){case"1":i="to_do";break;case"2":i="in_progress";break;case"3":i="done";break}return i});return{self:o,curName:l,curColor:d,change_status:t}}},De=s=>(H("data-v-6e550568"),s=s(),A(),s),Dp={class:"flex-row flex align-items-center h-100 pointer"},Bp=De(()=>e("i",{class:"bi bi-chevron-expand"},null,-1)),Lp={class:"dropdown-menu border-0 jiBox",style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},Up=De(()=>e("div",{class:"pb-2 px-2 b-line"},"\u66F4\u6539\u9879\u76EE\u72B6\u6001",-1)),Vp=["onClick"],Hp={key:0,class:"flex-row flex flex-fill align-items-center"},Ap=De(()=>e("div",{style:{flex:"1","min-width":"50px"}},null,-1)),Np=De(()=>e("div",{style:{flex:"0 0 auto",display:"flex","align-items":"center","text-align":"right"}},[e("i",{class:"bi bi-check"})],-1)),qp=[Ap,Np];function Ep(s,a,o,t,l,d){return c(),m("div",Dp,[e("div",{class:B(["status",t.curColor]),"data-bs-toggle":"dropdown","data-bs-offset":"0,2"},[L(v(t.curName)+" ",1),Bp],2),e("div",Lp,[Up,(c(!0),m(j,null,z(t.self.statuses,i=>(c(),m("div",{key:i.uuid},[e("div",{onClick:n=>t.change_status(i.uuid),class:B(["status-item flex-row flex align-items-center p-2",{selected:t.curColor===i.uuid}])},[e("div",null,v(i.name),1),t.curColor===i.uuid?(c(),m("div",Hp,qp)):M("",!0)],10,Vp)]))),128))])])}var Fp=w(zp,[["render",Ep],["__scopeId","data-v-6e550568"]]);const Op={props:["pic"]},Rp={style:{"margin-right":"5px"}},Gp={style:{flex:"0 0 40px",border:"1px solid #e8e8e8","border-radius":"40px",height:"40px",width:"40px"},class:"flex-row flex align-items-center justify-content-center"},Wp=["src"];function Kp(s,a,o,t,l,d){return c(),m("div",Rp,[e("div",Gp,[e("img",{src:o.pic,style:{height:"30px",width:"30px","border-radius":"30px"}},null,8,Wp)])])}var Jp=w(Op,[["render",Kp]]);const Yp={setup(){const{proxy:s}=I();P();let a=C(),o=W(null),t=W(null),l=S({team:a.params.team,project:a.params.project,projectName:"",item:{assign:{}},chartData:{labels:["\u9700\u6C42","\u4EFB\u52A1","\u7F3A\u9677"],datasets:[{label:"\u672A\u5F00\u59CB",barPercentage:.6,backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"\u8FDB\u884C\u4E2D",barPercentage:.6,backgroundColor:"rgba(54, 162, 235, 0.5)"},{label:"\u5DF2\u5B8C\u6210",barPercentage:.6,backgroundColor:"rgba(255, 206, 86, 0.5)"}]},members:[]}),d={type:"bar",data:null,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{stacked:!0},y:{beginAtZero:!0,stacked:!0}}}},i=null;T(()=>{_(),r(),n(),i=new Chart(document.getElementById("projectChart"),d)});let n=()=>{s.post(s.urls.project_members.format(l.team,l.project)).then(function(b){l.members=b.data})},_=()=>{let b=s.urls.project_get.format(l.team,l.project);s.get(b).then(function($){l.item=$.data})},r=()=>{let b=s.urls.status_data_list.format(l.team,l.project);s.get(b).then(function($){l.chartData.labels=$.data.labels,l.chartData.datasets[0].data=$.data.datas[0],l.chartData.datasets[1].data=$.data.datas[1],l.chartData.datasets[2].data=$.data.datas[2],i.data=l.chartData,i.update()})},p=Q(()=>!l.item.to_do_count||l.item.to_do_count+l.item.in_progress_count+l.item.done_count===0?0:(l.item.done_count*100/(l.item.to_do_count+l.item.in_progress_count+l.item.done_count)).toFixed(0)),u=()=>{if(o.value){let b={plan_start_time:o.value.getTime()};s.post(s.urls.project_plan_update.format(l.team,l.project),b).then(function($){$.data.code===200&&(s.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),_())}).catch(function($){s.bus.emit("alertDanger",$.response.data.errcode)})}},x=()=>{if(t.value){let b={plan_end_time:t.value.getTime()};s.post(s.urls.project_plan_update.format(l.team,l.project),b).then(function($){$.data.code===200&&(s.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),_())}).catch(function($){s.bus.emit("alertDanger",$.response.data.errcode)})}};return G(()=>l.item,()=>{if(l.item.plan_start_time){let b=new Date(l.item.plan_start_time);o.value=b}if(l.item.plan_end_time){let b=new Date(l.item.plan_end_time);t.value=b}}),{self:l,progressRate:p,planStartDatePick:o,planEndDatePick:t,project_get:_,onUpdateStart:u,onUpdateEnd:x}},components:{ProjectAssign:Pp,ChangeStatus:Fp,Avatar:Jp,Datepicker:Ze}},te=s=>(H("data-v-9f04a5fc"),s=s(),A(),s),Qp={class:"h-100"},Zp={class:"flex-row flex flex-fill align-items-center"},Xp={style:{flex:"1"},class:"flex-row flex align-items-center"},eu=te(()=>e("div",{class:"fs-c10"},"\u9879\u76EE\u8FDB\u5EA6",-1)),tu={class:"progress flex-fill mx-3",style:{height:"28px"}},su={style:{flex:"0 0 auto"}},au={class:"task-stat jiBox flex-row flex"},ou={class:"task-stat-item"},lu={class:"flex-column flex"},iu=te(()=>e("div",{class:"task-stat-icon"},[e("svg",{t:"1602158573955",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"27927",width:"30",height:"30"},[e("path",{d:"M512.718 1.549C230.377 1.549 1.494 230.432 1.494 512.774S230.377 1024 512.718 1024s511.224-228.884 511.224-511.226S795.06 1.55 512.718 1.55z m0 971.325c-254.108 0-460.102-205.996-460.102-460.102S258.61 52.67 512.718 52.67 972.82 258.665 972.82 512.772 766.826 972.874 512.718 972.874z m232.06-496.332c-79.556-54.133-223.815-135.157-305.959-185.36-33.678-21.239-61.996-12.71-64.717 24.8-1.971 100.468 0 294.317 0 396.523 1.711 38.08 35.282 43.102 64.419 27.812 82.05-49.71 223.071-135.147 305.536-185.11-0.54-0.327 62.614-35.06 0.72-78.665z","p-id":"27928",fill:"#1296db"})])],-1)),nu={class:"task-stat-body flex-column flex align-items-center"},ru={class:"task-stat-count"},du=te(()=>e("div",{class:"task-stat-text"},"\u672A\u5F00\u59CB",-1)),cu={class:"task-stat-item"},_u={class:"flex-column flex"},mu=te(()=>e("div",{class:"task-stat-icon"},[e("svg",{t:"1602158832799",class:"icon",viewBox:"0 0 1098 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"29074",width:"30",height:"30"},[e("path",{d:"M549.47 851.316c-38.634 0-69.82-31.185-69.82-69.818V184.32c0-38.633 31.186-69.818 69.82-69.818s69.817 31.185 69.817 69.818v596.945c0 38.633-31.185 70.051-69.818 70.051z m239.708-186.181c-38.633 0-69.818-31.186-69.818-69.819V370.27c0-38.633 31.185-69.818 69.818-69.818s69.818 31.185 69.818 69.818v225.047c0 38.633-31.185 69.819-69.818 69.819z m239.942-31.884c-38.633 0-69.818-31.186-69.818-69.818V402.385c0-38.632 31.185-69.818 69.818-69.818s69.818 31.186 69.818 69.818v161.048c0 38.632-31.185 69.818-69.818 69.818z m-719.36 31.884c-38.633 0-69.818-31.186-69.818-69.819V370.27c0-38.633 31.185-69.818 69.818-69.818s69.818 31.185 69.818 69.818v225.047c0 38.633-31.418 69.819-69.818 69.819zM69.818 633.25C31.185 633.25 0 602.065 0 563.433V402.385c0-38.632 31.185-69.818 69.818-69.818s69.818 31.186 69.818 69.818v161.048c0 38.632-31.185 69.818-69.818 69.818z","p-id":"29075",fill:"#d4237a"})])],-1)),pu={class:"task-stat-body flex-column flex align-items-center"},uu={class:"task-stat-count"},fu=te(()=>e("div",{class:"task-stat-text"},"\u8FDB\u884C\u4E2D",-1)),hu={class:"task-stat-item"},xu={class:"flex-column flex"},gu=te(()=>e("div",{class:"task-stat-icon"},[e("svg",{t:"1602158959005",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"30986",width:"30",height:"30"},[e("path",{d:"M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0z m273.066667 388.266667l-298.666667 298.666666c-21.333333 21.333333-59.733333 21.333333-81.066667 0l-170.666666-166.4c-21.333333-21.333333-21.333333-59.733333 0-81.066666s59.733333-21.333333 81.066666 0l123.733334 123.733333 260.266666-256c21.333333-21.333333 59.733333-21.333333 81.066667 0 29.866667 21.333333 29.866667 64 4.266667 81.066667z",fill:"#3FC591","p-id":"30987"})])],-1)),vu={class:"task-stat-body flex-column flex align-items-center"},yu={class:"task-stat-count"},bu=te(()=>e("div",{class:"task-stat-text"},"\u5DF2\u5B8C\u6210",-1)),ku={class:"flex-row flex flex-fill mt-4"},wu={class:"flex-fill w-50 p-4 jiBox"},$u=te(()=>e("div",{class:"fs-c10"}," \u9879\u76EE\u7B80\u4ECB\uFF1A ",-1)),ju=te(()=>e("div",{style:{color:"#98a6ad","padding-top":"10px",height:"200px"}},[L(" Jitask \u662F\u4E00\u6B3E\u7CBE\u7B80\u3001\u591A\u79DF\u6237\u7684\u9879\u76EE\u7BA1\u7406\u8F6F\u4EF6\uFF0C\u63D0\u4F9B\u4EFB\u52A1\u7BA1\u7406\u3001\u6587\u6863\u7BA1\u7406\u4E24\u5927\u677F\u5757\uFF0C\u5185\u7F6E\u6743\u9650\u7BA1\u7406\uFF0C\u9879\u76EE\u62A5\u8868\uFF0C\u9879\u76EE\u914D\u7F6E\uFF0C\u9700\u6C42\u4EFB\u52A1\u5173\u8054\u7B49\u529F\u80FD\uFF0C\u76EE\u524D\u4EC5\u652F\u6301saas\u90E8\u7F72\u3002\u6211\u4EEC\u7684\u8FFD\u6C42\uFF1A\u5C0F\u800C\u7CBE\uFF0C\u4E0D\u505A\u591A\u4F59\u529F\u80FD\u7684\u3002\u4F7F\u547D\uFF1A\u7528\u597D\u7CFB\u7EDF\uFF0C\u5C11\u7528\u7CFB\u7EDF\uFF0C\u4E0D\u7C98\u6EDE\u7528\u6237\u3002 "),e("br"),e("br"),L(" \u7CFB\u7EDF\u4F7F\u7528 Golang + Vue 3.x + bootstrap 5.x \u5F00\u53D1\uFF0C\u7531 Jimmy \u72EC\u81EA\u5F00\u53D1\uFF0C\u7528\u65F6\u8FD1\u4E24\u5E74\uFF0C\u4E3A\u8131\u4EA7\u671F\u95F4\u548C\u95F2\u6687\u65F6\u95F4\u5F00\u53D1\uFF0C\u6570\u636E\u5E93\u4F7F\u7528 Mysql 8.x\uFF0CRedis 5.x\u3002\u4F7F\u7528\u963F\u91CC\u4E91 docker-compose \u516C\u6709\u90E8\u7F72\u3002 "),e("br"),e("br"),L(" \u6B22\u8FCE\u4F60\u4EEC\u4F53\u9A8C\uFF0C\u60A8\u7684\u5B9D\u8D35\u610F\u89C1\u662F\u6211\u6210\u957F\u7684\u6307\u5357\u3002 ")],-1)),Su={class:"project-overview-time flex-row flex"},Cu={style:{flex:"1"}},Iu={style:{flex:"1"},class:"py-2"},Tu=te(()=>e("div",{class:"ms-1"},"\u5F00\u59CB\u65F6\u95F4",-1)),Mu={class:"flex-row flex align-item-center w-50 pointer field-cell-time field-edit"},Pu={style:{flex:"1"},class:"py-2"},zu=te(()=>e("div",{class:"ms-1"},"\u7ED3\u675F\u65F6\u95F4",-1)),Du={class:"flex-row flex align-item-center w-50 pointer field-cell-time field-edit"},Bu={class:"project-overview-member"},Lu=te(()=>e("div",{class:"fs-c10"},"\u9879\u76EE\u6210\u5458\uFF1A",-1)),Uu={class:"flex-row flex",style:{padding:"10px 0 0 0"}},Vu=X('<div style="width:1.5rem;" data-v-9f04a5fc></div><div class="flex-column flex flex-fill w-50 jiBox p-4" data-v-9f04a5fc><div class="fs-c10" data-v-9f04a5fc>\u5DE5\u4F5C\u9879\u7C7B\u578B\u7EDF\u8BA1</div><div class="pt-3" style="height:420px;" data-v-9f04a5fc><canvas id="projectChart" data-v-9f04a5fc></canvas></div></div>',2);function Hu(s,a,o,t,l,d){const i=h("ChangeStatus"),n=h("ProjectAssign"),_=h("datepicker"),r=h("Avatar");return c(),m("div",Qp,[e("div",Zp,[e("div",Xp,[eu,e("div",tu,[e("div",{class:"progress-bar progress-bar-striped bg-warning fs-c9",role:"progressbar",style:ye("width:"+t.progressRate+"%"),"aria-valuemax":"100"},v(t.progressRate)+"%",5)]),e("div",su,[f(i,{name:t.self.item.status_uuid,style:{"margin-left":"5px"},color:t.self.item.status_uuid,team:t.self.team,project:t.self.project,onLoadProject:t.project_get},null,8,["name","color","team","project","onLoadProject"])])])]),e("div",au,[e("div",ou,[e("div",lu,[iu,e("div",nu,[e("div",ru,v(t.self.item.to_do_count),1),du])])]),e("div",cu,[e("div",_u,[mu,e("div",pu,[e("div",uu,v(t.self.item.in_progress_count),1),fu])])]),e("div",hu,[e("div",xu,[gu,e("div",vu,[e("div",yu,v(t.self.item.done_count),1),bu])])])]),e("div",ku,[e("div",wu,[$u,ju,e("div",Su,[e("div",Cu,[f(n,{user:t.self.item.assign,onLoadProject:t.project_get},null,8,["user","onLoadProject"])]),e("div",Iu,[Tu,e("div",Mu,[f(_,{modelValue:t.planStartDatePick,"onUpdate:modelValue":[a[0]||(a[0]=p=>t.planStartDatePick=p),t.onUpdateStart],clearable:!1},null,8,["modelValue","onUpdate:modelValue"])])]),e("div",Pu,[zu,e("div",Du,[f(_,{modelValue:t.planEndDatePick,"onUpdate:modelValue":[a[1]||(a[1]=p=>t.planEndDatePick=p),t.onUpdateEnd],clearable:!1},null,8,["modelValue","onUpdate:modelValue"])])])]),e("div",Bu,[Lu,e("div",Uu,[(c(!0),m(j,null,z(t.self.members,p=>(c(),N(r,{pic:p.avatar,key:p.uuid},null,8,["pic"]))),128))])])]),Vu])])}var Au=w(Yp,[["render",Hu],["__scopeId","data-v-9f04a5fc"]]);const Nu={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,project:a.params.project,tabTitle:["\u57FA\u7840\u8BBE\u7F6E"],cur:0,selectedComUUID:"",selectedComTempUUID:"",name:"",desc:"",items:[],disabled:!0});T(()=>{d(!0)});let t=n=>{o.selectedComUUID=n.uuid,o.selectedComTempUUID=n.template_uuid,o.name=n.name,o.desc=n.desc},l=()=>{o.disabled=!1},d=n=>{s.get(s.urls.components.format(o.team,o.project)).then(function(_){o.items=_.data,n&&o.items&&o.items.length>0&&t(o.items[0])})};return{self:o,change:l,update:()=>{s.post(s.urls.component_update.format(o.team,o.project,o.selectedComUUID),{name:o.name,desc:o.desc}).then(function(n){n.data.code===200&&(o.disabled=!0,d(),s.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),s.bus.emit("updateComponents"))}).catch(function(n){s.bus.emit("alertDanger",n.response.data.errcode)})},set_value:t}},components:{PermissionHeader:Y,UpdateButton:ee}},ue=s=>(H("data-v-3835d274"),s=s(),A(),s),qu={class:"flex-fill jiBox h-100"},Eu=ue(()=>e("div",{class:"com-line-header t-line"},[e("div",{class:"com-line-header-title"},"\u5BFC\u822A\u81EA\u5B9A\u4E49")],-1)),Fu={class:"flex-row flex com",style:{"margin-top":"30px","background-color":"#f8f8f8",padding:"11px 11px 1px 11px","flex-wrap":"wrap"}},Ou=["onClick"],Ru=ue(()=>e("div",{style:{flex:"0 0 auto",display:"flex"}},[e("svg",{t:"1602764784806",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"50821",width:"15",height:"15"},[e("path",{d:"M329.1136 793.6c63.488 0 115.2 51.712 115.2 115.2S392.6016 1024 329.1136 1024 214.016 972.288 214.016 908.8 265.6256 793.6 329.1136 793.6z m349.2864 0c63.488 0 115.2 51.712 115.2 115.2S741.888 1024 678.4 1024 563.2 972.288 563.2 908.8 614.912 793.6 678.4 793.6z m-349.184-396.8c63.488 0 115.0976 51.712 115.0976 115.2s-51.712 115.2-115.2 115.2S214.016 575.488 214.016 512s51.712-115.2 115.2-115.2z m349.184 0c63.488 0 115.2 51.712 115.2 115.2s-51.712 115.2-115.2 115.2S563.2 575.488 563.2 512s51.712-115.2 115.2-115.2zM329.216 0c63.488 0 115.0976 51.712 115.0976 115.2S392.6016 230.4 329.1136 230.4 214.016 178.688 214.016 115.2 265.6256 0 329.1136 0z m349.184 0c63.488 0 115.2 51.712 115.2 115.2S741.888 230.4 678.4 230.4 563.2 178.688 563.2 115.2 614.912 0 678.4 0z",fill:"#8a8a8a","p-id":"50822"})])],-1)),Gu={class:"com-name"},Wu=ue(()=>e("div",{class:"com-line-header t-line"},[e("div",{class:"com-line-header-title"},"\u7EC4\u4EF6\u8BE6\u60C5")],-1)),Ku={class:"tab-title flex-row flex b-line",style:{"margin-top":"30px"}},Ju=["onClick"],Yu={class:"tab-content",style:{"margin-top":"20px"}},Qu={style:{width:"420px"}},Zu={class:"flex-row flex align-items-center"},Xu=ue(()=>e("div",{style:{"text-align":"right",flex:"0 0 100px"}},[e("span",{style:{color:"#ff0000"}},"*"),L("\u7EC4\u4EF6\u663E\u793A\u540D\u79F0 ")],-1)),ef={style:{"margin-left":"10px",flex:"1"}},tf={class:"flex-row flex align-items-center",style:{"margin-top":"20px"}},sf=ue(()=>e("div",{style:{"text-align":"right",flex:"0 0 100px"}}," \u7EC4\u4EF6\u540D\u79F0 ",-1)),af={style:{"margin-left":"10px",flex:"1"}},of={class:"flex-row flex align-items-center",style:{"margin-top":"20px"}},lf=ue(()=>e("div",{style:{"text-align":"right",flex:"0 0 100px"}}," \u7EC4\u4EF6\u63CF\u8FF0 ",-1)),nf={style:{"margin-left":"10px",flex:"1",overflow:"hidden"}},rf={class:"flex-row flex align-items-center",style:{"margin-top":"20px"}},df=ue(()=>e("div",{style:{"text-align":"right",flex:"0 0 100px"}},null,-1)),cf={style:{"margin-left":"10px",flex:"1",overflow:"hidden"}},_f={style:{}};function mf(s,a,o,t,l,d){const i=h("PermissionHeader"),n=h("UpdateButton");return c(),m("div",qu,[f(i,{title:"\u7EC4\u5EFA\u914D\u7F6E",desc:"\u4F60\u53EF\u4EE5\u901A\u8FC7\u62D6\u653E\u7EC4\u4EF6\u5E93\u4E2D\u7684\u7EC4\u4EF6\u6765\u81EA\u5B9A\u4E49\u754C\u9762\u7684\u5BFC\u822A\u680F\u3002\u4F60\u4E5F\u53EF\u4EE5\u8BBE\u7F6E\u6BCF\u4E00\u4E2A\u7EC4\u4EF6\uFF0C\u4F7F\u5176\u62E5\u6709\u4E2A\u6027\u5316\u7684\u914D\u7F6E\u3002"}),Eu,e("div",Fu,[(c(!0),m(j,null,z(t.self.items,_=>(c(),m("div",{style:{width:"115px"},class:B(["com-box-border align-items-center flex-row flex",{active:t.self.selectedComUUID===_.uuid}]),key:_.uuid,onClick:r=>{t.set_value(_)}},[Ru,e("div",Gu,v(_.name),1)],10,Ou))),128))]),Wu,e("div",Ku,[(c(!0),m(j,null,z(t.self.tabTitle,(_,r)=>(c(),m("div",{onClick:p=>t.self.cur=r,class:B({active:t.self.cur===r}),key:r},v(_),11,Ju))),128))]),e("div",Yu,[V(e("div",Qu,[e("div",Zu,[Xu,e("div",ef,[V(e("input",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=_=>t.self.name=_),onChange:a[1]||(a[1]=(..._)=>t.change&&t.change(..._))},null,544),[[O,t.self.name]])])]),e("div",tf,[sf,e("div",af,v(s.filters.formatComponentTemplate(t.self.selectedComTempUUID)),1)]),e("div",of,[lf,e("div",nf,[V(e("textarea",{"onUpdate:modelValue":a[2]||(a[2]=_=>t.self.desc=_),rows:"3","max-rows":"3",style:{overflow:"hidden"},class:"form-control",onChange:a[3]||(a[3]=(..._)=>t.change&&t.change(..._))},null,544),[[O,t.self.desc]])])]),e("div",rf,[df,e("div",cf,[f(n,{disabled:t.self.disabled,title:"\u66F4\u65B0\u4FE1\u606F",onSubmit:t.update},null,8,["disabled","onSubmit"])])])],512),[[He,t.self.cur===0]]),V(e("div",_f,"\xA0",512),[[He,t.self.cur===1]])])])}var pf=w(Nu,[["render",mf],["__scopeId","data-v-3835d274"]]);const uf={props:["to","name","icon","scale"]},ff={class:"align-items-center py-2"},hf={key:0,style:{color:"#1677FF"}},xf=e("i",{class:"bi bi-briefcase-fill fs-c12"},null,-1),gf=[xf],vf={key:1,style:{color:"#F7B621"}},yf=e("i",{class:"bi bi-bug-fill fs-c12"},null,-1),bf=[yf],kf={key:2,style:{color:"#3FD698"}},wf=e("i",{class:"bi bi-receipt fs-c12"},null,-1),$f=[wf],jf={key:3,style:{color:"#DAA520"}},Sf=e("i",{class:"bi bi-flower2 fs-c12"},null,-1),Cf=[Sf],If={key:4,style:{color:"#556B2F"}},Tf=e("i",{class:"bi bi-flower1 fs-c12"},null,-1),Mf=[Tf],Pf={key:5,style:{color:"#BC8F8F"}},zf=e("i",{class:"bi bi-globe fs-c12"},null,-1),Df=[zf],Bf={key:6,style:{color:"#8B0000"}},Lf=e("i",{class:"bi bi-bell fs-c12"},null,-1),Uf=[Lf];function Vf(s,a,o,t,l,d){return c(),m("div",ff,[o.icon==="1"?(c(),m("div",hf,gf)):M("",!0),o.icon==="2"?(c(),m("div",vf,bf)):M("",!0),o.icon==="7"?(c(),m("div",kf,$f)):M("",!0),o.icon==="9"?(c(),m("div",jf,Cf)):M("",!0),o.icon==="10"?(c(),m("div",If,Mf)):M("",!0),o.icon==="13"?(c(),m("div",Pf,Df)):M("",!0),o.icon==="15"?(c(),m("div",Bf,Uf)):M("",!0)])}var yt=w(uf,[["render",Vf]]);const Hf={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,project:a.params.project,items:[]});T(()=>{t()});let t=()=>{s.get(s.urls.project_template.format(o.team,o.project)).then(function(l){o.items=l.data})};return{self:o}},components:{PermissionHeader:Y,Search:J,IBIcon:yt}},$e=s=>(H("data-v-b7ce97f8"),s=s(),A(),s),Af={class:"flex-fill jiBox h-100"},Nf={class:"px-4"},qf={class:"flex-row flex mt-3"},Ef={style:{flex:"1"}},Ff={class:"t-line l-line r-line mt-3"},Of={class:"flex-row flex align-items-center ms-3"},Rf={class:"flex-column flex ms-3"},Gf={style:{color:"#999999"}},Wf=$e(()=>e("span",{style:{margin:"0 10px",color:"#999999"}}," | ",-1)),Kf={class:"flex-row flex flex-fill align-items-center justify-content-end"},Jf={class:"flex-row flex task-attr align-items-center",style:{"margin-right":"20px"}},Yf=$e(()=>e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1602939503677",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"59063",width:"16",height:"16"},[e("path",{d:"M510.81 959L31.93 754.63C12.77 741.86 0 722.7 12.77 703.55 19.15 684.4 44.7 678 63.85 684.4l453.34 191.54L970.52 684.4c19.16-6.39 44.7 0 51.09 19.15s0 44.7-19.16 51.08z m0 0","p-id":"59064",fill:"#515151"}),e("path",{d:"M510.81 729.09L31.93 524.77C12.77 518.38 0 492.84 12.77 473.69c6.38-19.16 25.54-25.54 44.69-19.16l453.35 191.56 453.33-191.56c19.16-6.38 44.7 0 51.08 19.16s0 44.69-19.15 51.08z m0 0","p-id":"59065",fill:"#515151"}),e("path",{d:"M510.81 499.23L0 282.14 510.81 65.05l510.8 217.09z m0 0","p-id":"59066",fill:"#515151"})])],-1)),Qf={style:{flex:"0 0 auto","margin-left":"5px"}},Zf=L("\u5DE5\u4F5C\u9879\u5C5E\u6027"),Xf={class:"flex-row flex task-attr align-items-center",style:{"margin-right":"20px"}},e6=$e(()=>e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1602939398177",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"55763",width:"16",height:"16"},[e("path",{d:"M908.864 128h-9.6C765.888 128 644.096 85.888 592.64 13.312 586.304 6.912 572.864 0 554.56 0h-21.12c-19.072 0-36.352 6.08-41.408 17.28C442.688 86.976 323.648 128 188.736 128h-9.6C150.912 128 128 158.976 128 187.392l0.064 351.552c14.08 234.816 181.888 433.792 408.064 483.904a31.808 31.808 0 0 0 13.824 0c222.656-49.28 388.672-242.752 407.296-472.768A33.152 33.152 0 0 0 960 537.024V187.392C960 158.08 937.984 128 908.864 128zM896 526.016a31.04 31.04 0 0 0-1.856 9.088c-12.224 204.032-156.16 377.28-351.104 423.68C348.096 912.32 204.16 739.2 192 537.024V199.936C342.208 199.168 472.704 148.992 539.328 64h8.576C609.984 146.176 745.216 199.168 896 199.936v326.08z","p-id":"55764",fill:"#515151"}),e("path",{d:"M416 352c0 59.456 40.96 109.12 96 123.456V832a32 32 0 0 0 64 0v-64h64a32 32 0 0 0 0-64h-64v-64h64a32 32 0 0 0 0-64h-64V475.456c55.04-14.336 96-64 96-123.456 0-70.592-57.408-128-128-128s-128 57.408-128 128z m192 0a64 64 0 1 1-128 0 64 64 0 0 1 128 0z","p-id":"55765",fill:"#515151"})])],-1)),t6={style:{flex:"0 0 auto","margin-left":"5px"}},s6=L("\u5DE5\u4F5C\u9879\u6743\u9650"),a6={class:"flex-row flex task-attr align-items-center",style:{"margin-right":"20px"}},o6=$e(()=>e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1603325433305",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10548",width:"16",height:"16"},[e("path",{d:"M426.496 170.496h427.008v256H768V256H426.496v170.496H0V0h426.496zM597.504 597.504V768H256v-170.496H170.496v256h426.496V1024H1024v-426.496h-426.496z m340.992 340.992h-256v-256h256v256z","p-id":"10549"})])],-1)),l6={style:{flex:"0 0 auto","margin-left":"5px"}},i6=L("\u5DE5\u4F5C\u9879\u5DE5\u4F5C\u6D41"),n6=$e(()=>e("div",{class:"flex-row flex task-attr align-items-center",style:{"margin-right":"20px"}},[e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1603325268548",class:"icon",viewBox:"0 0 1059 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6696",width:"16",height:"16"},[e("path",{d:"M826.512515 882.978679a64.292434 64.292434 0 0 1-64.511862 63.92672H297.105649a64.365576 64.365576 0 0 1-64.511862-63.92672V204.068134h593.918728v678.837403zM361.617511 89.38038a13.019401 13.019401 0 0 1 13.238829-13.165686h310.41762a13.019401 13.019401 0 0 1 13.238829 13.165686v38.546203H361.617511v-38.546203z m658.72316 38.546203H775.312624v-38.546203A90.038664 90.038664 0 0 0 685.200817 0H374.85634a90.038664 90.038664 0 0 0-90.18495 89.307237v38.546203H38.911917a38.546203 38.546203 0 1 0 0 77.092407h115.784894v677.95969A141.750553 141.750553 0 0 0 297.105649 1023.997806h465.114432a141.677411 141.677411 0 0 0 142.335695-141.019127V204.141277h115.858037a38.619346 38.619346 0 0 0 38.911917-38.473061 37.961062 37.961062 0 0 0-38.911917-37.741633z m-490.714377 703.41335a38.692489 38.692489 0 0 0 38.911916-38.546203v-409.599123a38.911917 38.911917 0 0 0-77.823833 0v409.599123a38.692489 38.692489 0 0 0 38.911917 38.47306z m-181.247612 0a38.692489 38.692489 0 0 0 38.911917-38.546203v-409.599123a38.911917 38.911917 0 0 0-77.823834 0v409.599123a39.716486 39.716486 0 0 0 38.911917 38.47306z m362.495223 0a38.619346 38.619346 0 0 0 38.911917-38.546203v-409.599123a38.911917 38.911917 0 0 0-77.823833 0v409.599123a38.619346 38.619346 0 0 0 38.911916 38.47306z","p-id":"6697"})])]),e("div",{style:{flex:"0 0 auto","margin-left":"5px"}},"\u5220\u9664\u5DE5\u4F5C\u9879\u7C7B\u578B")],-1));function r6(s,a,o,t,l,d){const i=h("PermissionHeader"),n=h("Search"),_=h("IBIcon"),r=h("router-link");return c(),m("div",Af,[f(i,{title:"\u5DE5\u4F5C\u9879\u7C7B\u578B",desc:"\u5DE5\u4F5C\u9879\u7C7B\u578B\u7528\u4E8E\u5728\u540C\u4E00\u4E2A\u9879\u76EE\u4E0B\u4F7F\u7528\u4E0D\u540C\u7C7B\u578B\u7684\u5DE5\u4F5C\u9879\uFF0C\u4E0D\u540C\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u53EF\u4EE5\u5B9A\u4E49\u4E0D\u540C\u7684\u5C5E\u6027\u5B57\u6BB5\u3001\u6743\u9650\u548C\u5DE5\u4F5C\u6D41\u7B49\u3002\u9879\u76EE\u4E0B\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u914D\u7F6E\u7684\u4FEE\u6539\u4E0D\u4F1A\u540C\u6B65\u5230\u914D\u7F6E\u4E2D\u5FC3\u4E0B\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u4E2D\u3002"}),e("div",Nf,[e("div",qf,[e("div",Ef,[f(n,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u7C7B\u578B"})])]),e("div",Ff,[(c(!0),m(j,null,z(t.self.items,p=>(c(),m("div",{class:"flex-row flex b-line py-2",key:p.uuid},[e("div",Of,[f(_,{icon:p.icon.toString()},null,8,["icon"]),e("div",Rf,[e("div",null,v(p.name),1),e("div",Gf,[L(v(p.field_count)+" \u5DE5\u4F5C\u9879\u5C5E\u6027",1),Wf,L(v(p.status_count)+" \u5DE5\u4F5C\u9879\u72B6\u6001",1)])])]),e("div",Kf,[e("div",Jf,[Yf,e("div",Qf,[f(r,{to:{name:"ComponentIssueTypeDesigner",params:{team:t.self.team,project:t.self.project,com:"designer",attr:"issue_type_field",issue_type:p.uuid,title:p.name}}},{default:D(()=>[Zf]),_:2},1032,["to"])])]),e("div",Xf,[e6,e("div",t6,[f(r,{to:{name:"ComponentIssueTypeDesigner",params:{team:t.self.team,project:t.self.project,com:"designer",attr:"issue_type_permission",issue_type:p.uuid,title:p.name}}},{default:D(()=>[s6]),_:2},1032,["to"])])]),e("div",a6,[o6,e("div",l6,[f(r,{to:{name:"ComponentIssueTypeDesigner",params:{team:t.self.team,project:t.self.project,com:"designer",attr:"issue_type_flow",issue_type:p.uuid,title:p.name}}},{default:D(()=>[i6]),_:2},1032,["to"])])]),n6])]))),128))])])])}var d6=w(Hf,[["render",r6],["__scopeId","data-v-b7ce97f8"]]);const c6={setup(){P();let s=C();return{self:S({team:s.params.team,project:s.params.project}),del:()=>{}}}},_6={class:"flex-fill jiBox h-100"},m6={class:"flex-row flex align-items-center b-line mx-4 py-3"},p6=e("div",{style:{flex:"1"}},[e("div",{class:"fs-c10"},"\u9879\u76EE\u4FE1\u606F"),e("div",{style:{color:"#999999"}},"\u5220\u9664\u9879\u76EE\u4E0B\u6240\u6709\u8D44\u6E90")],-1),u6={style:{flex:"0 0 100px","text-align":"right"}};function f6(s,a,o,t,l,d){return c(),m("div",_6,[e("div",m6,[p6,e("div",u6,[e("button",{class:"btn btn-danger",onClick:a[0]||(a[0]=(...i)=>t.del&&t.del(...i))},"\u5220\u9664\u9879\u76EE")])])])}var h6=w(c6,[["render",f6]]);const x6={props:{user:Object},setup(s){let{user:a}=oe(s);return{user:a}}},g6={class:"flex-row flex align-items-center"},v6=["src"],y6={style:{"margin-left":"10px"}},b6={style:{"text-align":"left",color:"#363636"}};function k6(s,a,o,t,l,d){var i,n;return c(),m("div",g6,[e("div",null,[e("img",{src:(i=t.user.avatar)!=null?i:"/images/default_avatar.jpg",style:{height:"20px",width:"20px","border-radius":"20px"}},null,8,v6)]),e("div",y6,[e("div",b6,v((n=t.user.name)!=null?n:"I am creator.")+" "+v(t.user.email?"("+t.user.email+")":""),1)])])}var w6=w(x6,[["render",k6]]);const $6={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,project:a.params.project,name:"",disabled:!0,creator:{}});T(()=>{d()});let t=()=>{o.disabled=!1},l=()=>{s.post(s.urls.project_update.format(o.team,o.project),{name:o.name,uuid:o.project}).then(function(i){i.data.code===200&&(o.disabled=!0,s.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),s.bus.emit("updateProjectInfo",o.project))}).catch(function(i){s.bus.$emit("alertDanger",i.response.data.errcode)})},d=()=>{s.get(s.urls.project_get.format(o.team,o.project)).then(function(i){o.name=i.data.name,i.data.owner&&(o.creator=i.data.owner)})};return{self:o,name_change:t,update:l}},components:{Creator:w6,AddProjectButton:ee}},j6={class:"flex-fill jiBox h-100"},S6=e("div",{class:"mx-4 py-3 b-line fs-c10"},"\u9879\u76EE\u4FE1\u606F",-1),C6={class:"p-5"},I6={style:{"margin-bottom":"20px"},class:"flex-row flex"},T6=e("div",{style:{flex:"0 0 120px"}},[e("label",null,"\u521B\u5EFA\u8005")],-1),M6={style:{flex:"0 0 300px"}},P6=e("div",{style:{"margin-bottom":"20px"},class:"flex-row flex"},[e("div",{style:{flex:"0 0 120px"}},[e("label",null,"\u521B\u5EFA\u65F6\u95F4")]),e("div",{style:{flex:"0 0 300px"}}," 2019-01-01 12:12:12 ")],-1),z6={style:{"margin-bottom":"20px"},class:"flex-row flex"},D6=e("div",{style:{flex:"0 0 120px"}},[e("label",null,"\u9879\u76EE\u540D\u79F0")],-1),B6={style:{flex:"0 0 300px"}},L6={style:{"margin-bottom":"20px"},class:"flex-row flex"},U6=e("div",{style:{flex:"0 0 120px"}},[e("label")],-1),V6={style:{flex:"0 0 300px"}};function H6(s,a,o,t,l,d){const i=h("Creator"),n=h("AddProjectButton");return c(),m("div",j6,[S6,e("div",C6,[e("div",I6,[T6,e("div",M6,[f(i,{user:t.self.creator},null,8,["user"])])]),P6,e("div",z6,[D6,e("div",B6,[V(e("input",{class:"form-control",onChange:a[0]||(a[0]=(..._)=>t.name_change&&t.name_change(..._)),onKeydown:a[1]||(a[1]=(..._)=>t.name_change&&t.name_change(..._)),"onUpdate:modelValue":a[2]||(a[2]=_=>t.self.name=_)},null,544),[[O,t.self.name]])])]),e("div",L6,[U6,e("div",V6,[f(n,{disabled:t.self.disabled,title:"\u66F4\u65B0\u4FE1\u606F",onSubmit:t.update},null,8,["disabled","onSubmit"])])])])])}var A6=w($6,[["render",H6]]);const N6={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,project:a.params.project,maps:{browse:{code:1102,permission:"browse_project",title:"\u67E5\u770B\u9879\u76EE",desc:"\u5141\u8BB8\u6210\u5458\u6D4F\u89C8\u5F53\u524D\u9879\u76EE\uFF0C\u5305\u62EC\u5DE5\u4F5C\u9879\uFF0C\u7B5B\u9009\u5668\uFF0C\u62A5\u8868\u7B49\u4FE1\u606F",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},manage:{code:1101,permission:"manage_project",title:"\u7BA1\u7406\u9879\u76EE",desc:"\u7BA1\u7406\u5F53\u524D\u9879\u76EE\u5E76\u66F4\u65B0\u9879\u76EE\u7684\u914D\u7F6E\u4FE1\u606F",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},reports:{code:1104,permission:"view_project_reports",title:"\u67E5\u770B\u9879\u76EE\u62A5\u8868",desc:"\u5141\u8BB8\u6210\u5458\u67E5\u770B\u5F53\u524D\u9879\u76EE\u7684\u6570\u636E\u62A5\u8868",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]}},role_members:[],loaded:!1,data:{permission_rule:{context_type:"project",context_param:{}}}});T(()=>{t(),o.data={permission_rule:{context_type:"project",context_param:{project_uuid:o.project}}}});let t=()=>{let d=[];for(let i in o.maps)d.push(o.maps[i].code);s.post(s.urls.project_user_domain_group.format(o.team,o.project),d).then(function(i){for(let n in o.maps){let _=o.maps[n];_.groups=[]}if(i.data&&i.data.length>0)for(let n in o.maps){let _=o.maps[n];for(let r=0;r<i.data.length;r++){let p=i.data[r];if(p.permission===_.code){_.groups=p.groups;break}}}l()})},l=()=>{s.get(s.urls.project_role_members.format(o.team,o.project)).then(function(d){if(d.data&&d.data.role_members&&d.data.role_members.length>0)for(let i=0;i<d.data.role_members.length;i++){let n=d.data.role_members[i];for(let _ in o.maps){let r=o.maps[_];r.roles=[],r.members=[],n.role.type="role",r.roles.push(n.role);for(let p=0;p<n.members.length;p++){let u=n.members[p];u.type="single_user",r.members.push(u)}}}o.loaded=!0})};return{self:o,GetUserDomainGroups:t}},components:{PermissionHeader:Y,PermissionItem:re}},q6={class:"flex-fill jiBox h-100"},E6={style:{padding:"0 20px 20px 20px"}};function F6(s,a,o,t,l,d){const i=h("PermissionHeader"),n=h("PermissionItem");return c(),m("div",q6,[f(i,{title:"\u9879\u76EE\u6743\u9650",desc:"\u9879\u76EE\u6743\u9650\u53EF\u4EE5\u7528\u4E8E\u5B9A\u5236\u9879\u76EE\u7684\u64CD\u4F5C\u6743\u9650\u63A7\u5236\u3002"}),e("div",E6,[t.self.loaded?(c(),N(n,{key:0,role_members:t.self.role_members,data:t.self.data,group:t.self.maps.browse,onLoadPermissionData:t.GetUserDomainGroups},null,8,["role_members","data","group","onLoadPermissionData"])):M("",!0),t.self.loaded?(c(),N(n,{key:1,role_members:t.self.role_members,data:t.self.data,group:t.self.maps.manage,onLoadPermissionData:t.GetUserDomainGroups},null,8,["role_members","data","group","onLoadPermissionData"])):M("",!0),t.self.loaded?(c(),N(n,{key:2,role_members:t.self.role_members,data:t.self.data,group:t.self.maps.reports,onLoadPermissionData:t.GetUserDomainGroups},null,8,["role_members","data","group","onLoadPermissionData"])):M("",!0)])])}var O6=w(N6,[["render",F6]]);const R6={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,project:a.params.project,items:[],desc:"\u9879\u76EE\u5C5E\u6027\u8BBE\u7F6E\u53EF\u4EE5\u8BBE\u7F6E\u9879\u76EE\u6982\u89C8\u9875\u9762\u9700\u8981\u663E\u793A\u7684\u9879\u76EE\u81EA\u5B9A\u4E49\u5C5E\u6027\u3002"});T(()=>{t(!0)});let t=()=>{s.post(s.urls.project_field.format(o.team),{project:o.project}).then(function(l){o.items=l.data})};return{self:o}},components:{PermissionHeader:Y,Search:J}},G6={class:"flex-fill jiBox h-100"},W6={class:"px-4"},K6={class:"table table-hover"},J6=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u5C5E\u6027\u540D\u79F0"),e("th",{scope:"col"},"\u5C5E\u6027\u7C7B\u578B"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),Y6={class:"flex-row flex align-items-center"},Q6={style:{flex:"0 0 auto"}},Z6={class:"flex-row flex align-items-center",style:{height:"100%","margin-left":"5px"}},X6={key:0,style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px","align-items":"center",display:"flex"}},e4={key:0,style:{width:"30px",height:"2px"}},t4=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),s4=[t4],a4={key:1};function o4(s,a,o,t,l,d){const i=h("PermissionHeader"),n=h("Search");return c(),m("div",G6,[f(i,{title:"\u9879\u76EE\u5C5E\u6027",desc:t.self.desc},null,8,["desc"]),f(n,{style:{margin:"15px 20px"},placeholder:"\u641C\u7D22\u9879\u76EE\u5C5E\u6027"}),e("div",W6,[e("table",K6,[J6,e("tbody",null,[(c(!0),m(j,null,z(t.self.items,_=>(c(),m("tr",{key:_.uuid},[e("td",null,[e("div",Y6,[e("div",Q6,v(_.name),1),e("div",Z6,[_.built_in?(c(),m("div",X6,"\u7CFB\u7EDF")):M("",!0)])])]),e("td",null,v(s.filters.projectFieldType(_.field_type)),1),e("td",null,[_.built_in?(c(),m("div",e4,s4)):(c(),m("div",a4," x "))])]))),128))])])])])}var l4=w(R6,[["render",o4]]);const i4={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,project:a.params.project,items:[],desc:"\u9879\u76EE\u72B6\u6001\u7528\u4E8E\u5B9A\u5236\u9879\u76EE\u6240\u5904\u7684\u4E0D\u540C\u72B6\u6001\uFF0C\u652F\u6301\u4E0D\u540C\u72B6\u6001\u95F4\u7684\u5207\u6362\u3002"});T(()=>{t(!0)});let t=()=>{s.post(s.urls.project_status.format(o.team)).then(function(l){o.items=l.data})};return{self:o}},components:{Status:pe,Search:J,PermissionHeader:Y}},n4={class:"flex-fill jiBox h-100"},r4={class:"px-4"},d4={class:"table table-hover"},c4=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u72B6\u6001\u540D\u79F0"),e("th",{scope:"col"},"\u72B6\u6001\u7C7B\u578B"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),_4={class:"flex-row flex align-items-center"},m4={style:{flex:"0 0 auto"}},p4=e("div",{style:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},[e("div",{style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},"\u7CFB\u7EDF")],-1),u4={class:"td",style:{display:"flex","align-items":"center"}},f4=e("td",null,[e("div",{style:{width:"30px",height:"2px"}},[e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])],-1);function h4(s,a,o,t,l,d){const i=h("PermissionHeader"),n=h("Search"),_=h("Status");return c(),m("div",n4,[f(i,{title:"\u9879\u76EE\u72B6\u6001",desc:t.self.desc},null,8,["desc"]),f(n,{style:{margin:"15px 20px"},placeholder:"\u641C\u7D22\u9879\u76EE\u72B6\u6001"}),e("div",r4,[e("table",d4,[c4,e("tbody",null,[(c(!0),m(j,null,z(t.self.items,r=>(c(),m("tr",{key:r.uuid},[e("td",null,[e("div",_4,[e("div",m4,v(r.name),1),p4])]),e("td",null,[e("div",u4,[f(_,{name:r.name,color:r.uuid},null,8,["name","color"])])]),f4]))),128))])])])])}var x4=w(i4,[["render",h4]]);const g4={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,project:a.params.project,desc:"\u5DE5\u4F5C\u9879\u5C5E\u6027\u7528\u4E8E\u914D\u7F6E\u5DE5\u4F5C\u9879\u9700\u8981\u7684\u663E\u793A\u5B57\u6BB5\uFF0C\u53EF\u4EE5\u7528\u591A\u79CD\u5C5E\u6027\u7C7B\u578B\u6765\u8FDB\u884C\u914D\u7F6E\uFF0C\u4E0D\u540C\u9879\u76EE\u53EF\u4EE5\u5171\u7528\u540C\u4E00\u4E2A\u5C5E\u6027\u3002",issue_type:a.params.issue_type,title:a.params.title,name:"",items:[]});T(()=>{t(),l()});let t=()=>{s.get(s.urls.project_issue_type_field.format(o.team,o.project,o.issue_type)).then(function(i){o.items=i.data.field_configs})},l=()=>{o.title||s.get(s.urls.issue_type_get.format(o.team,o.issue_type)).then(function(i){o.title=i.data.name})};return{self:o,toggle:i=>{console.log(i.uuid,i.fixed)}}},components:{Search:J,Summary:ne}},v4={class:"flex-fill jiBox h-100"},y4={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},b4={style:{flex:"0 0 auto",display:"flex"}},k4=e("span",null,"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1),w4=e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),$4={style:{color:"#909090"}},j4=e("div",{style:{margin:"0 10px"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),S4=e("div",{class:"flex-fill"},[e("span",{style:{color:"#909090"}},"\u5DE5\u4F5C\u9879\u5C5E\u6027")],-1),C4={class:"flex-row flex align-items-center justify-content-end;"},I4={class:"px-4"},T4={class:"flex-row flex mt-3"},M4={style:{flex:"1"}},P4={class:"t-line l-line r-line mt-3"},z4={class:"table table-hover"},D4=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u5C5E\u6027\u540D\u79F0"),e("th",{scope:"col"},"\u5C5E\u6027\u7C7B\u578B"),e("th",{scope:"col"},"\u5C5E\u6027\u9ED8\u8BA4\u503C"),e("th",{scope:"col"},"\u662F\u5426\u5FC5\u586B"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),B4={class:"flex-row flex align-items-center"},L4={style:{flex:"0 0 auto"}},U4={style:{flex:"0 0 auto","margin-left":"5px"}},V4={key:0,class:"flex align-items-center",style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"21px"}},H4={key:0,style:{width:"30px","font-weight":"bolder"},class:"flex align-items-center justify-content-center"},A4=["onUpdate:modelValue","onChange"],N4={key:1,style:{width:"30px",height:"2px"}},q4=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),E4=[q4],F4={class:"align-items-center",style:{display:"flex",flex:"0 0 80px"}},O4={key:0,style:{"font-weight":"bolder","text-align":"center",width:"30px"},class:"del"},R4=e("svg",{t:"1619925824323",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"24636",width:"12",height:"12"},[e("path",{d:"M647.168 512L1024 888.832 888.832 1024 512 647.168 135.168 1024 0 888.832 376.832 512 0 135.168 135.168 0 512 376.832 888.832 0 1024 135.168 647.168 512z","p-id":"24637",fill:"#2c2c2c"})],-1),G4=[R4],W4={key:1,style:{width:"30px",height:"2px"}},K4=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),J4=[K4];function Y4(s,a,o,t,l,d){const i=h("router-link"),n=h("Summary"),_=h("Search");return c(),m("div",v4,[e("div",y4,[e("div",b4,[f(i,{to:{name:"ComponentDesigner",params:{team:t.self.team,project:t.self.project,com:"designer",attr:"issue_type"}}},{default:D(()=>[k4]),_:1},8,["to"])]),w4,e("div",$4,v(t.self.title),1),j4,S4,e("div",C4,[f(n,{desc:t.self.desc},null,8,["desc"])])]),e("div",I4,[e("div",T4,[e("div",M4,[f(_,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u5C5E\u6027"})])]),e("div",P4,[e("table",z4,[D4,e("tbody",null,[(c(!0),m(j,null,z(t.self.items,r=>(c(),m("tr",{key:r.uuid},[e("td",null,[e("div",B4,[e("div",L4,v(r.name),1),e("div",U4,[r.built_in?(c(),m("div",V4,"\u7CFB\u7EDF")):M("",!0)])])]),e("td",null,v(s.filters.taskFieldType(r.type)),1),e("td",null,v(r.default_value||"---"),1),e("td",null,[r.can_modify_required?(c(),m("div",H4,[V(e("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":p=>r.required=p,name:"check-button",onChange:p=>t.toggle(r)},null,40,A4),[[he,r.required]])])):(c(),m("div",N4,E4))]),e("td",null,[e("div",F4,[r.can_delete?(c(),m("div",O4,G4)):(c(),m("div",W4,J4))])])]))),128))])])])])])}var Q4=w(g4,[["render",Y4]]);const Z4={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,project:a.params.project,title:a.params.title,issue_type:a.params.issue_type,maps:{create:{code:1201,permission:"create_tasks",title:"\u521B\u5EFA#",desc:"\u5141\u8BB8\u6210\u5458\u521B\u5EFA#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},view:{code:1202,permission:"view_tasks",title:"\u67E5\u770B#",desc:"\u5141\u8BB8\u6210\u5458\u67E5\u770B#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},update:{code:1203,permission:"update_tasks",title:"\u7F16\u8F91#",desc:"\u5141\u8BB8\u6210\u5458\u4FEE\u6539#\uFF0C\u4EE5\u53CA\u5BF9#\u8FDB\u884C\u5176\u4ED6\u53D8\u66F4\u64CD\u4F5C",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},delete:{code:1204,permission:"delete_tasks",title:"\u5220\u9664#",desc:"\u5141\u8BB8\u6210\u5458\u5220\u9664#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},transit:{code:1206,permission:"transit_tasks",title:"\u66F4\u65B0#\u72B6\u6001",desc:"\u5141\u8BB8\u6210\u5458\u66F4\u65B0#\u72B6\u6001",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]}},loaded:!1,data:{},desc:"\u5DE5\u4F5C\u9879\u6743\u9650\u53EF\u4EE5\u7528\u4E8E\u5B9A\u5236\u5DE5\u4F5C\u9879\u7684\u64CD\u4F5C\u6743\u9650\u63A7\u5236\u3002"});T(()=>{t(),o.data={permission_rule:{context_type:"issue_type",context_param:{project_uuid:o.project,issue_type_uuid:o.issue_type}}}});let t=()=>{o.title?l():s.get(s.urls.issue_type_get.format(o.team,o.issue_type)).then(function(i){o.title=i.data.name,l()})},l=()=>{let i=[];for(let n in o.maps)i.push(o.maps[n].code);s.post(s.urls.issue_type_user_domain_group.format(o.team,o.project,o.issue_type),i).then(function(n){for(let _ in o.maps){let r=o.maps[_];r.title=r.title.replace("#",o.title),r.desc=r.desc.replace("#",o.title),r.groups=[]}if(n.data&&n.data.length>0)for(let _ in o.maps){let r=o.maps[_];for(let p=0;p<n.data.length;p++){let u=n.data[p];if(u.permission===r.code){r.groups=u.groups;break}}}d()})},d=()=>{s.get(s.urls.project_role_members.format(o.team,o.project)).then(function(i){if(i.data&&i.data.role_members&&i.data.role_members.length>0)for(let n=0;n<i.data.role_members.length;n++){let _=i.data.role_members[n];for(let r in o.maps){let p=o.maps[r];p.roles=[],p.members=[],_.role.type="role",p.roles.push(_.role);for(let u=0;u<_.members.length;u++){let x=_.members[u];x.type="single_user",p.members.push(x)}}}o.loaded=!0})};return{self:o,GetUserDomainGroups:l}},components:{PermissionItem:re,Summary:ne}},X4={class:"flex-fill jiBox h-100"},e3={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},t3={style:{flex:"0 0 auto",display:"flex"}},s3=e("span",null,"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1),a3=e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),o3={style:{color:"#909090"}},l3=e("div",{style:{margin:"0 10px"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),i3=e("div",{class:"flex-fill"},[e("span",{style:{color:"#909090"}},"\u5DE5\u4F5C\u9879\u6743\u9650")],-1),n3={class:"flex-row flex align-items-center justify-content-end;"},r3={key:0,class:"px-4"};function d3(s,a,o,t,l,d){const i=h("router-link"),n=h("Summary"),_=h("PermissionItem");return c(),m("div",X4,[e("div",e3,[e("div",t3,[f(i,{to:{name:"ComponentDesigner",params:{team:t.self.team,project:t.self.project,com:"designer",attr:"issue_type"}}},{default:D(()=>[s3]),_:1},8,["to"])]),a3,e("div",o3,v(t.self.title),1),l3,i3,e("div",n3,[f(n,{desc:t.self.desc},null,8,["desc"])])]),t.self.loaded?(c(),m("div",r3,[(c(!0),m(j,null,z(t.self.maps,(r,p)=>(c(),N(_,{data:t.self.data,group:r,key:p,onLoadPermissionData:t.GetUserDomainGroups},null,8,["data","group","onLoadPermissionData"]))),128))])):M("",!0)])}var c3=w(Z4,[["render",d3]]);const _3={data(){return{}},props:{name:String,color:String},computed:{curColor:function(){let s=this,a=s.color;switch(s.color){case"1":a="to_do";break;case"2":a="in_progress";break;case"3":a="done";break}return a}}};function m3(s,a,o,t,l,d){return c(),m("div",{class:B(d.curColor)},v(o.name),3)}var bt=w(_3,[["render",m3],["__scopeId","data-v-9f44216a"]]);const p3={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,project:a.params.project,issue_type:a.params.issue_type,title:a.params.title,desc:"\u5DE5\u4F5C\u6D41\u53EF\u4EE5\u7528\u4E8E\u5B9A\u5236\u5BF9\u5E94\u5DE5\u4F5C\u9879\u7684\u5728\u4E0D\u540C\u72B6\u6001\u9636\u6BB5\u7684\u6D41\u8F6C\u3002\u4F60\u53EF\u4EE5\u5728\u8868\u683C\u89C6\u56FE\u4E2D\uFF0C\u901A\u8FC7\u52FE\u9009\u590D\u9009\u6846\u7684\u65B9\u5F0F\u65B0\u5EFA\u5DE5\u4F5C\u6D41\u6B65\u9AA4\u3002\u4F60\u4E5F\u53EF\u4EE5\u5207\u6362\u5230\u8BE6\u60C5\u89C6\u56FE\u4E2D\u65B0\u5EFA\u5DE5\u4F5C\u6D41\u6B65\u9AA4\u3002",flows:[],headers:[],lock:!0});T(()=>{l(),d()});let t=(i,n,_,r,p)=>{if(o.lock){o.lock=!1;let u={uuid:i,name:n,start_status:_,end_status:r,state:p};s.post(s.urls.project_issue_type_flow_submit.format(o.team,o.project,o.issue_type),u).then(function(){d(),o.lock=!0})}},l=()=>{o.title||s.get(s.urls.issue_type_get.format(o.team,o.issue_type)).then(function(i){o.title=i.data.name})},d=()=>{s.get(s.urls.project_issue_type_flow.format(o.team,o.project,o.issue_type)).then(function(i){o.headers=i.data.headers,o.flows=i.data.flows})};return{self:o,change_task_status:t}},components:{Summary:ne,ColorStatus:bt}},je=s=>(H("data-v-7a1eb315"),s=s(),A(),s),u3={class:"flex-fill jiBox h-100"},f3={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},h3={style:{flex:"0 0 auto",display:"flex"}},x3=je(()=>e("span",null,"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1)),g3=je(()=>e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1)),v3={style:{color:"#909090"}},y3=je(()=>e("div",{style:{margin:"0 10px"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1)),b3=je(()=>e("div",{class:"flex-fill"},[e("span",{style:{color:"#909090"}},"\u5DE5\u4F5C\u9879\u5DE5\u4F5C\u6D41")],-1)),k3={class:"flex-row flex align-items-center justify-content-end;"},w3={id:"project-main",style:{margin:"20px"}},$3={class:"flex-column flex workFlowTable",style:{"border-left":"1px solid #dedede","border-top":"1px solid #dedede"}},j3={style:{flex:"1"}},S3={class:"flex-row flex",style:{flex:"1","background-color":"#f8f8f8","border-bottom":"1px solid #dedede",height:"60px"}},C3=X('<div style="flex:0 0 auto;display:flex;width:200px;height:60px;position:relative;" data-v-7a1eb315><div style="flex:0 0 auto;border-right:1px solid #dedede;position:absolute;height:60px;width:200px;" data-v-7a1eb315><div style="" class="table-head-title" data-v-7a1eb315><div data-v-7a1eb315><div class="start-status-title" style="height:initial;" data-v-7a1eb315>\u5F00\u59CB\u72B6\u6001</div></div><div data-v-7a1eb315><div class="end-status-title" style="height:initial;" data-v-7a1eb315>\u76EE\u6807\u72B6\u6001</div></div></div></div></div>',1),I3={style:{flex:"1"},class:"flex-column flex"},T3={style:{flex:"0 0 200px",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px",width:"200px"}},M3={class:"flex-row flex"},P3={style:{flex:"0 0 auto"}},z3={key:0,style:{"margin-left":"5px"}},D3=je(()=>e("div",{style:{"font-size":"12px",color:"#909090",display:"inline-block",height:"20px","line-height":"18px",border:"1px solid rgba(134,147,160,0.5)","border-radius":"20px",padding:"0px 8px"}},"\u521D\u59CB\u72B6\u6001",-1)),B3=[D3],L3=["onUpdate:modelValue","onChange"];function U3(s,a,o,t,l,d){const i=h("router-link"),n=h("Summary"),_=h("ColorStatus");return c(),m("div",u3,[e("div",f3,[e("div",h3,[f(i,{to:{name:"ComponentDesigner",params:{team:t.self.team,project:t.self.project,com:"designer",attr:"issue_type"}}},{default:D(()=>[x3]),_:1},8,["to"])]),g3,e("div",v3,v(t.self.title),1),y3,b3,e("div",k3,[f(n,{desc:t.self.desc},null,8,["desc"])])]),e("div",w3,[e("div",$3,[e("div",j3,[e("div",S3,[C3,(c(!0),m(j,null,z(t.self.headers,r=>(c(),m("div",{class:"flex-row flex align-items-center justify-content-center",style:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede"},key:r.uuid},[e("div",null,[f(_,{color:r.category.toString(),name:r.name},null,8,["color","name"])])]))),128))])]),e("div",I3,[(c(!0),m(j,null,z(t.self.flows,r=>(c(),m("div",{class:"flex-row flex align-items-center",style:{flex:"1","border-bottom":"1px solid #dedede"},key:r.uuid},[e("div",T3,[e("div",M3,[e("div",P3,[f(_,{color:r.category.toString(),name:r.name},null,8,["color","name"])]),r.default?(c(),m("div",z3,B3)):M("",!0)])]),(c(!0),m(j,null,z(r.items,p=>(c(),m("div",{class:"align-items-center flex-row flex justify-content-center",style:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px"},key:p.uuid},[V(e("input",{style:{height:"16px",width:"16px"},type:"checkbox","onUpdate:modelValue":u=>p.sel=u,onChange:u=>t.change_task_status(p.uuid,p.name,p.start_uuid,p.end_uuid,p.sel)},null,40,L3),[[he,p.sel]])]))),128))]))),128))])])])])}var V3=w(p3,[["render",U3],["__scopeId","data-v-7a1eb315"]]);const H3={setup(){P();let s=C(),a=S({team:s.params.team,project:s.params.project,currentTabComponent:"com",items:[]});T(()=>{a.currentTabComponent=o.value}),G(()=>s.params,t=>{a.currentTabComponent=o.value});let o=Q(()=>{var t;return(t=s.params.attr)!=null?t:"com"});return{self:a}},components:{com:pf,issue_type:d6,more:h6,project_info:A6,project_permission:O6,project_field:l4,project_status:x4,issue_type_field:Q4,issue_type_permission:c3,issue_type_flow:V3}};function A3(s,a,o,t,l,d){return c(),N(Pt,null,[(c(),N(le(t.self.currentTabComponent)))],1024)}var N3=w(H3,[["render",A3]]);const q3={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,project:a.params.project,com:a.params.com,issue_type:"",comName:"",currentTabComponent:""});T(()=>{t()}),G(()=>a.params,l=>{o.com=a.params.com,o.com&&t()});let t=()=>{if(o.com==="designer"){o.currentTabComponent="designer";return}s.get(s.urls.component_get.format(o.team,o.project,o.com)).then(function(l){l.data.objects.length>0&&(o.issue_type=l.data.objects[0].uuid),o.comName=l.data.name,o.currentTabComponent=l.data.template_uuid})};return{self:o}},components:{com00001:_2,com00002:u2,com00003:S2,com00004:cp,com00005:vp,com00009:Au,designer:N3}};function E3(s,a,o,t,l,d){return t.self.currentTabComponent?(c(),N(le(t.self.currentTabComponent),{key:0,comName:t.self.comName,issue_type:t.self.issue_type},null,8,["comName","issue_type"])):M("",!0)}var Be=w(q3,[["render",E3]]);const F3={setup(){let s=W(1),a=C();G(()=>a.params,t=>{o()}),T(()=>{o()});let o=()=>{switch(a.params.type){case"account":s.value=1;break;case"safe":s.value=2;break;case"certificate":s.value=11;break}};return{currentIndex:s}}},Qe=s=>(H("data-v-5743f344"),s=s(),A(),s),O3={id:"personal"},R3=Qe(()=>e("div",{style:{flex:"0",padding:"5px 0 5px 30px",width:"100%","font-size":"18px","margin-bottom":"20px"}},"\u8D26\u53F7\u7BA1\u7406",-1)),G3=Qe(()=>e("div",{style:{flex:"0",padding:"5px 0 5px 30px",width:"100%",color:"#aaaaaa"}},"\u4E2A\u4EBA\u4FE1\u606F",-1)),W3=L("\u8D26\u53F7\u4FE1\u606F"),K3=L("\u5B89\u5168\u8BBE\u7F6E"),J3=Qe(()=>e("div",{style:{flex:"0",padding:"20px 0 5px 30px",width:"100%",color:"#aaaaaa"}},"\u9489\u9489\u8D26\u53F7",-1)),Y3=L("\u767B\u9646\u51ED\u8BC1");function Q3(s,a,o,t,l,d){const i=h("router-link");return c(),m("div",O3,[R3,G3,e("div",{class:B({active:t.currentIndex===1})},[f(i,{to:{name:"Center",params:{type:"account"}}},{default:D(()=>[W3]),_:1})],2),e("div",{class:B({active:t.currentIndex===2})},[f(i,{to:{name:"Center",params:{type:"safe"}}},{default:D(()=>[K3]),_:1})],2),J3,e("div",{class:B({active:t.currentIndex===11})},[f(i,{to:{name:"Center",params:{type:"certificate"}}},{default:D(()=>[Y3]),_:1})],2)])}var Z3=w(F3,[["render",Q3],["__scopeId","data-v-5743f344"]]);const X3={components:{UpdateButton:ee},setup(){const{proxy:s}=I();let a=S({}),o=S({avatar:"",name:"",email:"",phone:"",disabled:!1});T(()=>{l()});let t=()=>{let d={user_name:a.title,email:a.email,phone:a.phone};s.post(s.urls.user_update.format(ke()),d).then(function(i){i.data.code===200&&(o.disabled=!0)}).catch(function(i){s.bus.emit("alertDanger",i.response.data.errcode)})},l=()=>{let d=s.urls.user_get.format(ke());s.get(d).then(function(i){let{avatar:n,name:_,email:r,phone:p}=i.data;a.avatar=n,a.title=_,a.email=r,a.phone=p})};return{user:a,self:o,update:t}}},Le=s=>(H("data-v-8745a87e"),s=s(),A(),s),e5={class:"form-horizontal mg0 jiBox",style:{"max-width":"1200px","background-color":"#ffffff",flex:"1 1 auto",padding:"20px",height:"100%"}},t5={class:"form-body",style:{padding:"20px"}},s5={class:"pointer"},a5={class:"col-md-1"},o5={class:"avatar-upload pointer"},l5=["src"],i5=Le(()=>e("input",{type:"file"},null,-1)),n5={class:"mt-4"},r5=Le(()=>e("label",{class:"col-md-1 control-label"},"\u540D\u5B57",-1)),d5={class:"col-md-5"},c5={class:"mt-4"},_5=Le(()=>e("label",{class:"col-md-1 control-label"},"\u90AE\u7BB1",-1)),m5={class:"col-md-5"},p5={class:"mt-4"},u5=Le(()=>e("label",{class:"col-md-1 control-label"},"\u7535\u8BDD",-1)),f5={class:"col-md-5"},h5={class:"mt-4"},x5={class:"col-md-5"};function g5(s,a,o,t,l,d){const i=h("UpdateButton");return c(),m("div",e5,[e("div",t5,[e("div",s5,[e("div",a5,[e("div",o5,[e("img",{src:t.user.avatar,style:{"max-height":"100px"}},null,8,l5),i5]),V(e("input",{type:"hidden","onUpdate:modelValue":a[0]||(a[0]=n=>t.user.avatar=n),name:"avatar",class:"form-control",placeholder:"\u5934\u50CF"},null,512),[[O,t.user.avatar]])])]),e("div",n5,[r5,e("div",d5,[V(e("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=n=>t.user.title=n),name:"name",class:"form-control",placeholder:"\u540D\u5B57"},null,512),[[O,t.user.title]])])]),e("div",c5,[_5,e("div",m5,[V(e("input",{type:"text","onUpdate:modelValue":a[2]||(a[2]=n=>t.user.email=n),name:"email",class:"form-control",placeholder:"\u90AE\u7BB1"},null,512),[[O,t.user.email]])])]),e("div",p5,[u5,e("div",f5,[V(e("input",{type:"text","onUpdate:modelValue":a[3]||(a[3]=n=>t.user.phone=n),name:"phone",class:"form-control",placeholder:"\u7535\u8BDD"},null,512),[[O,t.user.phone]])])]),e("div",h5,[e("div",x5,[f(i,{title:"\u66F4\u65B0\u4FE1\u606F",onSubmit:t.update,disabled:t.self.disabled},null,8,["onSubmit","disabled"])])])])])}var v5=w(X3,[["render",g5],["__scopeId","data-v-8745a87e"]]);const y5={},b5={style:{"max-width":"1200px"},class:"flex-fill h-100 jiBox p-4 fs-c8"};function k5(s,a,o,t,l,d){return c(),m("div",b5," \u5F85\u5F00\u53D1\uFF0C\u656C\u8BF7\u5173\u6CE8\uFF01 ")}var w5=w(y5,[["render",k5]]);const $5={name:"safe"},j5={style:{"max-width":"1200px"},class:"flex-fill h-100 jiBox"},S5=e("div",{class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},[e("div",{style:{flex:"0 0 auto",display:"flex"}},[e("span",{class:"fs-c10"},"\u5B89\u5168\u8BBE\u7F6E")])],-1),C5=e("div",{class:"px-4"},[e("div",{class:"flex-row flex px-4 py-4 b-line align-items-center"},[e("div",{style:{flex:"0 0 auto"}},[e("div",{class:"flex-column flex flex-fill align-items-center justify-content-center"},[e("svg",{t:"1600093044171",class:"icon",viewBox:"0 0 1536 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2745",width:"48",height:"48"},[e("path",{d:"M1450.666667 0H85.333333a85.333333 85.333333 0 0 0-85.333333 85.333333v51.2l724.48 434.346667a85.333333 85.333333 0 0 0 85.333333 0L1536 136.533333V85.333333a85.333333 85.333333 0 0 0-85.333333-85.333333zM682.666667 715.093333L0 307.2V938.666667a85.333333 85.333333 0 0 0 85.333333 85.333333h1365.333334a85.333333 85.333333 0 0 0 85.333333-85.333333V307.2l-682.666667 407.893333a170.666667 170.666667 0 0 1-170.666666 0z",fill:"#FAB200","p-id":"2746"})])])]),e("div",{class:"ms-4 flex-fill"},[e("div",{class:"fs-c8"},"\u90AE\u7BB1\u786E\u8BA4(pinbor@iissy.com)"),e("div",{style:{color:"#aaaaaa"}},"\u8BF7\u6536\u5230\u90AE\u4EF6\u540E\uFF0C\u70B9\u51FB\u90AE\u7BB1\u91CC\u9762\u786E\u8BA4\u8FDE\u63A5")]),e("div",null,[e("i",{class:"bi bi-chevron-right fs-c10"})])]),e("div",{class:"flex-row flex px-4 py-4 b-line align-items-center"},[e("div",{style:{flex:"0 0 auto"}},[e("div",{class:"flex-column flex flex-fill align-items-center justify-content-center"},[e("svg",{t:"1600123151164",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5723",width:"48",height:"48"},[e("path",{d:"M654.990991 196.036036H371.315315c-25.945946 0-47.279279 21.333333-47.279279 47.279279s21.333333 47.279279 47.279279 47.27928h283.675676c25.945946 0 47.279279-21.333333 47.279279-47.27928s-21.333333-47.279279-47.279279-47.279279z m173.54955-189.693694H197.765766c-69.765766 0-126.27027 56.504505-126.270271 126.270271v757.045045c0 69.765766 56.504505 126.27027 126.270271 126.27027h630.774775c69.765766 0 126.27027-56.504505 126.27027-126.27027V132.612613c-0.576577-69.765766-56.504505-126.27027-126.27027-126.270271z m31.135135 851.603604c0 34.594595-28.252252 62.846847-62.846847 62.846847H229.477477c-34.594595 0-62.846847-28.252252-62.846846-62.846847V164.324324c0-34.594595 28.252252-62.846847 62.846846-62.846847h567.351352c34.594595 0 62.846847 28.252252 62.846847 62.846847v693.621622zM513.153153 731.675676c-34.594595 0-62.846847 28.252252-62.846847 62.846847S478.558559 857.369369 513.153153 857.369369s62.846847-28.252252 62.846847-62.846846S547.747748 731.675676 513.153153 731.675676z",fill:"#2185F5","p-id":"5724"})])])]),e("div",{class:"ms-4 flex-fill"},[e("div",{class:"fs-c8"},"\u624B\u673A\u786E\u8BA4"),e("div",{style:{color:"#aaaaaa"}},"\u901A\u8FC7\u624B\u673A\u8BA4\u8BC1\u7801\u786E\u8BA4\u624B\u673A\u53F7\u7801")]),e("div",null,[e("i",{class:"bi bi-chevron-right fs-c10"})])]),e("div",{class:"flex-row flex px-4 py-4 b-line align-items-center"},[e("div",{style:{flex:"0 0 auto"}},[e("div",{class:"flex-column flex flex-fill align-items-center justify-content-center"},[e("svg",{t:"1600123506120",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6528",width:"48",height:"48"},[e("path",{d:"M893.632 382.976h-127.616V255.36a255.36 255.36 0 1 0-510.72 0v127.68H127.68A127.552 127.552 0 0 0 0 510.656v382.976c0 70.528 57.152 127.68 127.68 127.68h765.952a127.744 127.744 0 0 0 127.744-127.68V510.656a127.744 127.744 0 0 0-127.744-127.68zM319.168 255.36a191.424 191.424 0 1 1 382.976 0v127.68H319.168V255.36z m638.336 638.336a63.872 63.872 0 0 1-63.872 63.872H127.68a63.872 63.872 0 0 1-63.872-63.872V510.656c0-35.264 28.544-63.872 63.872-63.872h765.952c35.328 0 63.872 28.608 63.872 63.872v383.04zM510.656 542.592a95.488 95.488 0 1 0-31.872 185.664v133.568h63.808v-133.568a95.36 95.36 0 0 0 63.808-89.856c0-52.992-42.88-95.808-95.744-95.808z m0 143.68a47.936 47.936 0 1 1 0.128-95.872 47.936 47.936 0 0 1-0.128 95.872z",fill:"#27D400","p-id":"6529"})])])]),e("div",{class:"ms-4 flex-fill"},[e("div",{class:"fs-c8"},"\u8BBE\u7F6E\u5BC6\u7801"),e("div",{style:{color:"#aaaaaa"}},"\u5FC5\u987B\u5148\u8BBE\u7F6E\u90AE\u7BB1\u786E\u8BA4\u6216\u8005\u624B\u673A\u786E\u8BA4\uFF0C\u624D\u53EF\u4EE5\u8BBE\u7F6E\u5BC6\u7801\uFF0C\u8BBE\u7F6E\u5BC6\u7801\u540E\u5C31\u53EF\u4EE5\u51ED\u90AE\u7BB1\u6216\u8005\u624B\u673A\u767B\u9646\u7CFB\u7EDF")]),e("div",null,[e("i",{class:"bi bi-chevron-right fs-c10"})])])],-1),I5=[S5,C5];function T5(s,a,o,t,l,d){return c(),m("div",j5,I5)}var M5=w($5,[["render",T5]]);const P5={components:{Personal:Z3,Account:v5,Certificate:w5,Safe:M5},setup(){let s=C(),a=W("account");T(()=>{o()}),G(()=>s.params,t=>{o()});let o=()=>{var t;a.value=(t=s.params.type)!=null?t:a};return{currentTabComponent:a}}},z5={style:{"margin-left":"-1.5rem"},class:"flex-row flex h-100"};function D5(s,a,o,t,l,d){const i=h("personal");return c(),m("div",z5,[f(i),(c(),N(le(t.currentTabComponent)))])}var B5=w(P5,[["render",D5]]);const L5={setup(){let{proxy:s}=I(),a=P(),o=C(),t=S({name:"",team:"",disabled:!1});return be(()=>{t.team=o.params.team}),{self:t,add:()=>{t.name&&(t.disabled=!0,s.post(s.urls.project_add.format(t.team),{project:{name:t.name},template_id:"project-t1"}).then(function(d){d.data.code===200?a.push({name:"Projects",params:{team:t.team}}):t.disabled=!1}))}}},components:{AddProjectButton:ee}},U5={class:"app-main-center jiBox flex-column flex h-100"},V5={style:{flex:"1"},class:"flex-column flex"},H5=e("div",{style:{flex:"0 0 auto",padding:"20px","font-size":"18px"}}," \u65B0\u5EFA\u9879\u76EE ",-1),A5={class:"form-horizontal mg0 t-line",style:{flex:"1",padding:"20px"}},N5=e("div",{style:{}},[e("label",{class:"col-md-8"},[L("\u9879\u76EE\u540D\u5B57"),e("span",{style:{color:"#ff0000"}},"*")])],-1),q5={class:"col-md-8"},E5={class:"text-end p-3 t-line"};function F5(s,a,o,t,l,d){const i=h("AddProjectButton");return c(),m("div",U5,[e("div",V5,[H5,e("div",A5,[N5,e("div",null,[e("div",q5,[V(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=n=>t.self.name=n),name:"name",class:"form-control",placeholder:"\u9879\u76EE\u540D\u5B57"},null,512),[[O,t.self.name,void 0,{trim:!0}]])])])]),e("div",E5,[f(i,{title:"\u786E\u5B9A\u63D0\u4EA4",onSubmit:t.add,disabled:t.self.disabled},null,8,["onSubmit","disabled"])])])])}var O5=w(L5,[["render",F5]]);const R5={setup(){const{proxy:s}=I();let a=P(),o=C();be(()=>{let t=o.params.team,l=o.params.project;s.get(s.urls.project_first_component.format(t,l)).then(function(d){a.push({name:"Component",params:{team:t,project:l,com:d.data.uuid}})})})}};function G5(s,a,o,t,l,d){return c(),m("div")}var W5=w(R5,[["render",G5]]);const K5={setup(){const{proxy:s}=I();let a=C(),o=S({name:"",team:"",items:[]});T(()=>{o.team=a.params.team,t()});let t=()=>{s.post(s.urls.project_list.format(o.team)).then(function(l){o.items=l.data})};return{self:o}},components:{ProjectMangeHeader:Y,Search:J}},J5={class:"pb-3 px-3 pt-3"},Y5={class:"table table-hover mt-3"},Q5=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u9879\u76EE\u540D\u79F0"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),Z5=e("i",{class:"bi bi-pencil-square"},null,-1);function X5(s,a,o,t,l,d){const i=h("ProjectMangeHeader"),n=h("Search"),_=h("router-link");return c(),m(j,null,[f(i,{title:"\u9879\u76EE\u7BA1\u7406",desc:"\u9879\u76EE\u7BA1\u7406\u9875\u5C55\u793A\u5F53\u524D\u6240\u6709\u9879\u76EE\uFF0C\u53EF\u5BF9\u9879\u76EE\u8FDB\u884C\u6743\u9650\u7F16\u8F91\u548C\u5220\u9664\u64CD\u4F5C\u3002"}),e("div",J5,[f(n,{placeholder:"\u641C\u7D22\u9879\u76EE"}),e("table",Y5,[Q5,e("tbody",null,[(c(!0),m(j,null,z(t.self.items,r=>(c(),m("tr",{key:r.uuid},[e("td",null,[f(_,{to:{name:"Project",params:{team:t.self.team,project:r.uuid}}},{default:D(()=>[L(v(r.name),1)]),_:2},1032,["to"])]),e("td",null,[f(_,{to:{name:"ProjectPermissionSetting",params:{team:t.self.team,project:r.uuid,title:r.name}}},{default:D(()=>[Z5]),_:2},1032,["to"])])]))),128))])])])],64)}var e8=w(K5,[["render",X5]]);const t8={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,items:[]});T(()=>{t()});let t=()=>{let l=a.params.project;s.post(s.urls.project_field.format(o.team),{project:l}).then(function(d){o.items=d.data})};return{self:o}},components:{ProjectMangeHeader:Y,Search:J}},s8={class:"pb-3 px-3 pt-3"},a8={class:"table table-hover mt-3"},o8=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u5C5E\u6027\u540D\u79F0"),e("th",{scope:"col"},"\u5C5E\u6027\u7C7B\u578B"),e("th",{scope:"col"},"\u4F7F\u7528\u5230\u7684\u9879\u76EE"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),l8={class:"flex-row flex align-items-center"},i8={style:{flex:"0 0 auto"}},n8={class:"flex-row flex align-items-center",style:{height:"100%","margin-left":"5px"}},r8={key:0,style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px","align-items":"center",display:"flex"}},d8=e("td",null," \u6240\u6709\u9879\u76EE ",-1),c8={key:0,style:{width:"30px",height:"2px"}},_8=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),m8=[_8],p8={key:1};function u8(s,a,o,t,l,d){const i=h("ProjectMangeHeader"),n=h("Search");return c(),m(j,null,[f(i,{title:"\u9879\u76EE\u5C5E\u6027",desc:"\u9879\u76EE\u5C5E\u6027\u8BBE\u7F6E\u53EF\u4EE5\u8BBE\u7F6E\u9879\u76EE\u6982\u89C8\u9875\u9762\u9700\u8981\u663E\u793A\u7684\u9879\u76EE\u81EA\u5B9A\u4E49\u5C5E\u6027\u3002"}),e("div",s8,[f(n,{placeholder:"\u641C\u7D22\u9879\u76EE\u5C5E\u6027"}),e("table",a8,[o8,e("tbody",null,[(c(!0),m(j,null,z(t.self.items,_=>(c(),m("tr",{key:_.alias},[e("td",null,[e("div",l8,[e("div",i8,v(_.name),1),e("div",n8,[_.built_in?(c(),m("div",r8,"\u7CFB\u7EDF")):M("",!0)])])]),e("td",null,v(s.filters.projectFieldType(_.field_type)),1),d8,e("td",null,[_.built_in?(c(),m("div",c8,m8)):(c(),m("div",p8," x "))])]))),128))])])])],64)}var f8=w(t8,[["render",u8]]);const h8={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:"",items:[]});T(()=>{o.team=a.params.team,t()});let t=()=>{s.post(s.urls.project_status.format(o.team)).then(function(l){o.items=l.data})};return{self:o}},components:{Status:pe,Search:J,ProjectMangeHeader:Y}},x8={class:"pb-3 px-3 pt-3"},g8={class:"table table-hover mt-3"},v8=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u72B6\u6001\u540D\u79F0"),e("th",{scope:"col"},"\u72B6\u6001\u7C7B\u578B"),e("th",{scope:"col"},"\u4F7F\u7528\u5230\u7684\u9879\u76EE"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),y8={class:"flex-row flex align-items-center"},b8={style:{flex:"0 0 auto"}},k8={class:"flex-row flex align-items-center",style:{height:"100%","margin-left":"5px"}},w8={key:0,style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px","align-items":"center",display:"flex"}},$8=e("td",null," \u6240\u6709\u9879\u76EE ",-1),j8=e("td",null,[e("div",{style:{width:"30px",height:"2px"}},[e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])],-1);function S8(s,a,o,t,l,d){const i=h("ProjectMangeHeader"),n=h("Search"),_=h("Status",!0);return c(),m(j,null,[f(i,{title:"\u9879\u76EE\u72B6\u6001",desc:"\u9879\u76EE\u72B6\u6001\u7528\u4E8E\u6807\u793A\u9879\u76EE\u6240\u5904\u72B6\u6001\uFF0C\u4E0D\u540C\u72B6\u6001\u7C7B\u578B\u4E0B\u53EF\u4EE5\u6709\u591A\u79CD\u72B6\u6001\uFF0C\u5F53\u524D\u4E3A\u7CFB\u7EDF\u9879\u76EE\u72B6\u6001\u5217\u8868\uFF0C\u4E0D\u540C\u9879\u76EE\u53EF\u4EE5\u5171\u7528\u540C\u4E00\u4E2A\u72B6\u6001\u3002"}),e("div",x8,[f(n,{placeholder:"\u641C\u7D22\u9879\u76EE\u72B6\u6001"}),e("table",g8,[v8,e("tbody",null,[(c(!0),m(j,null,z(t.self.items,r=>(c(),m("tr",{key:r.alias},[e("td",null,[e("div",y8,[e("div",b8,v(r.name),1),e("div",k8,[r.built_in?(c(),m("div",w8,"\u7CFB\u7EDF")):M("",!0)])])]),e("td",null,[f(_,{name:r.name,color:r.uuid},null,8,["name","color"])]),$8,j8]))),128))])])])],64)}var C8=w(h8,[["render",S8]]);const I8={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,items:[]});T(()=>{t()});let t=()=>{s.post(s.urls.issue_type_list.format(o.team)).then(function(l){o.items=l.data})};return{self:o}},components:{ProjectMangeHeader:Y,Search:J,IBIcon:yt}},T8={class:"pb-3 px-3 pt-3"},M8={class:"table table-hover mt-3"},P8=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u5DE5\u4F5C\u9879\u7C7B\u578B"),e("th",{scope:"col"},"\u7C7B\u578B"),e("th",{scope:"col"},"\u4F7F\u7528\u5230\u7684\u9879\u76EE"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),z8={class:"flex-row flex align-items-center"},D8={class:"flex-column flex",style:{"margin-left":"20px","line-height":"25px"}},B8={class:"flex-row flex align-items-center"},L8={style:{color:"#17C4BB"}},U8={style:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},V8={key:0,style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},H8={style:{color:"#999999"}},A8=e("span",{style:{margin:"0 10px",color:"#999999"}}," | ",-1),N8={key:0},q8={key:1},E8=e("td",null,[e("div",null,"3\u4E2A\u9879\u76EE")],-1),F8=L(" \u7F16\u8F91 ");function O8(s,a,o,t,l,d){const i=h("ProjectMangeHeader"),n=h("Search"),_=h("IBIcon"),r=h("router-link");return c(),m(j,null,[f(i,{title:"\u5DE5\u4F5C\u9879\u7C7B\u578B",desc:"\u914D\u7F6E\u4E2D\u5FC3\u4E0B\uFF0C\u5DE5\u4F5C\u9879\u7C7B\u578B\u914D\u7F6E\u9879\u7684\u4FEE\u6539\uFF0C\u4E0D\u4F1A\u540C\u6B65\u5230\u5DF2\u7ECF\u5E94\u7528\u7684\u9879\u76EE\u4E2D\u3002"}),e("div",T8,[f(n,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u7C7B\u578B"}),e("table",M8,[P8,e("tbody",null,[(c(!0),m(j,null,z(t.self.items,p=>(c(),m("tr",{key:p.uuid},[e("td",null,[e("div",z8,[f(_,{icon:p.icon.toString()},null,8,["icon"]),e("div",D8,[e("div",B8,[e("div",L8,v(p.name),1),e("div",U8,[p.built_in?(c(),m("div",V8,"\u7CFB\u7EDF")):M("",!0)])]),e("div",H8,[L(v(p.field_count)+" \u5DE5\u4F5C\u9879\u5C5E\u6027",1),A8,L(v(p.status_count)+" \u5DE5\u4F5C\u9879\u72B6\u6001",1)])])])]),e("td",null,[p.detail_type===0?(c(),m("div",N8,"\u81EA\u5B9A\u4E49\u7C7B\u578B")):(c(),m("div",q8,"\u6807\u51C6\u7C7B\u578B"))]),E8,e("td",null,[f(r,{to:{name:"IssueTypeSetting",params:{team:t.self.team,issue_type:p.uuid,title:p.name,type:"config"}}},{default:D(()=>[F8]),_:2},1032,["to"])])]))),128))])])])],64)}var R8=w(I8,[["render",O8]]);const G8={components:{Search:J,ProjectMangeHeader:Y,AddButton:ee},setup(){const{proxy:s}=I();P();let a=C(),o=S({uuid:"",name:"",team:a.params.team,items:[],nameState:null,option:"",optionState:null,disabled:!1,options:[]}),t=null;T(()=>{l(),t=new bootstrap.Modal(document.getElementById("addIssueTypeField"),{keyboard:!1})});let l=()=>{s.post(s.urls.issue_type_field_list.format(o.team)).then(function(x){o.items=x.data})},d=()=>{s.get(s.urls.issue_type_field_option_list.format(o.team,o.uuid)).then(function(x){o.options=x.data})};return{self:o,addOption:()=>{let x={},b=!0;if(o.option){for(let $=0;$<o.options.length;$++)if(o.options[$].value===o.option){b=!1;break}b&&(x.value=o.option,x.background_color="#ff6a39",x.color="#fff",o.options.push(x),o.option="")}},showModal:(x,b)=>{t.toggle(),o.options=[],o.uuid=x,o.name=b,d()},editOption:()=>{},handleSubmit:()=>{!this.checkFormValidity()||(this.submit(),this.$nextTick(()=>{this.$bvModal.hide("modal-edit-field")}))},handleOk:x=>{x.preventDefault(),this.handleSubmit()},delOption:(x,b)=>{let $=this,y=[];for(let k=0;k<$.options.length;k++)$.options[k].uuid===x&&$.options[k].value===b||y.push($.options[k]);$.options=y}}}},W8={class:"pb-3 px-3 pt-3"},K8={class:"table table-hover mt-3"},J8=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u5C5E\u6027\u540D\u79F0"),e("th",{scope:"col"},"\u5C5E\u6027\u7C7B\u578B"),e("th",{scope:"col"},"\u4F7F\u7528\u5230\u7684\u9879\u76EE"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),Y8={class:"flex-row flex align-items-center"},Q8={style:{"margin-left":"5px"}},Z8={key:0,style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},X8=e("td",null," \u6240\u6709\u9879\u76EE ",-1),eh={key:0,style:{width:"30px",height:"2px"}},th=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),sh=[th],ah={key:1,style:{"font-weight":"bolder"},class:"flex-row iop"},oh=["onClick"],lh=e("svg",{t:"1619926041971",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"33589",width:"12",height:"12"},[e("path",{d:"M522.24 196.9152L157.4912 571.0848 0 1024l452.9152-147.6608L817.2544 512z m462.7456-29.4912L856.576 39.424a119.3984 119.3984 0 0 0-177.2544 0L571.0848 147.6608l295.424 305.2544 118.0672-118.1696A124.8256 124.8256 0 0 0 1024 245.76a121.5488 121.5488 0 0 0-39.424-78.336z",fill:"#2c2c2c","p-id":"33590"})],-1),ih=[lh],nh={class:"modal fade",id:"addIssueTypeField","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},rh={class:"modal-dialog modal-dialog-scrollable"},dh={class:"modal-content"},ch=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},"\u7F16\u8F91\u5DE5\u4F5C\u9879\u5C5E\u6027"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),_h={class:"modal-body"},mh={class:"flex-column flex my-3"},ph=e("label",{class:"col-md-12 control-label"},"\u5C5E\u6027\u540D\u79F0",-1),uh={class:"col-md-12 mt-2"},fh={class:"flex-column flex my-3"},hh=e("div",null,[e("label",{class:"col-md-12 control-label"},"\u9009\u9879\u503C")],-1),xh={class:"flex-row flex mt-2"},gh={style:{flex:"1"}},vh={style:{flex:"0 0 60px","margin-left":"5px"},class:"flex-column flex align-items-center justify-content-center"},yh={class:"flex-row flex",style:{"border-bottom":"1px solid #e8e8e8",padding:"5px 0"}},bh=e("div",{style:{flex:"0 0 20px","margin-left":"5px"}},[e("i",{class:"bi bi-grip-horizontal"})],-1),kh={style:{flex:"1"}},wh=e("svg",{t:"1619926041971",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"33589",width:"12",height:"12"},[e("path",{d:"M522.24 196.9152L157.4912 571.0848 0 1024l452.9152-147.6608L817.2544 512z m462.7456-29.4912L856.576 39.424a119.3984 119.3984 0 0 0-177.2544 0L571.0848 147.6608l295.424 305.2544 118.0672-118.1696A124.8256 124.8256 0 0 0 1024 245.76a121.5488 121.5488 0 0 0-39.424-78.336z",fill:"#2c2c2c","p-id":"33590"})],-1),$h=[wh],jh=["onClick"],Sh=e("svg",{t:"1619925824323",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"24636",width:"12",height:"12"},[e("path",{d:"M647.168 512L1024 888.832 888.832 1024 512 647.168 135.168 1024 0 888.832 376.832 512 0 135.168 135.168 0 512 376.832 888.832 0 1024 135.168 647.168 512z","p-id":"24637",fill:"#2c2c2c"})],-1),Ch=[Sh],Ih={class:"modal-footer"},Th=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1);function Mh(s,a,o,t,l,d){const i=h("ProjectMangeHeader"),n=h("Search"),_=h("AddButton");return c(),m(j,null,[f(i,{title:"\u5DE5\u4F5C\u9879\u5C5E\u6027",desc:"\u5DE5\u4F5C\u9879\u5C5E\u6027\u7528\u4E8E\u914D\u7F6E\u5DE5\u4F5C\u9879\u9700\u8981\u7684\u663E\u793A\u5B57\u6BB5\uFF0C\u53EF\u4EE5\u7528\u591A\u79CD\u5C5E\u6027\u7C7B\u578B\u6765\u8FDB\u884C\u914D\u7F6E\uFF0C\u4E0D\u540C\u9879\u76EE\u53EF\u4EE5\u5171\u7528\u540C\u4E00\u4E2A\u5C5E\u6027\u3002"}),e("div",W8,[f(n,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u5C5E\u6027"}),e("table",K8,[J8,e("tbody",null,[(c(!0),m(j,null,z(t.self.items,r=>(c(),m("tr",{key:r.uuid},[e("td",null,[e("div",Y8,[e("div",null,v(r.name),1),e("div",Q8,[r.built_in?(c(),m("div",Z8,"\u7CFB\u7EDF")):M("",!0)])])]),e("td",null,v(s.filters.taskFieldType(r.type)),1),X8,e("td",null,[r.built_in?(c(),m("div",eh,sh)):(c(),m("div",ah,[e("div",{style:{flex:"0 0 20px"},class:"edit pointer",onClick:p=>t.showModal(r.uuid,r.name)},ih,8,oh)]))])]))),128))])])]),e("div",nh,[e("div",rh,[e("div",dh,[ch,e("div",_h,[e("form",{ref:"form",onSubmit:a[3]||(a[3]=fe((...r)=>t.handleSubmit&&t.handleSubmit(...r),["stop","prevent"]))},[e("div",mh,[ph,e("div",uh,[V(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=r=>t.self.name=r),name:"name",class:"form-control"},null,512),[[O,t.self.name]])])]),e("div",fh,[hh,e("div",xh,[e("div",gh,[V(e("input",{class:"form-control","onUpdate:modelValue":a[1]||(a[1]=r=>t.self.option=r)},null,512),[[O,t.self.option]])]),e("div",vh,[f(_,{disabled:t.self.disabled,title:"\u6DFB\u52A0",onSubmit:t.addOption},null,8,["disabled","onSubmit"])])])]),(c(!0),m(j,null,z(t.self.options,r=>(c(),m("div",{key:r.uuid,class:"iop"},[e("div",yh,[bh,e("div",kh,v(r.value),1),e("div",{style:{flex:"0 0 20px"},class:"edit",onClick:a[2]||(a[2]=(...p)=>t.editOption&&t.editOption(...p))},$h),e("div",{style:{flex:"0 0 20px","margin-left":"10px"},class:"del",onClick:p=>t.delOption(r.uuid,r.value)},Ch,8,jh)])]))),128))],544)]),e("div",Ih,[Th,e("button",{type:"button",class:"btn btn-primary",onClick:a[4]||(a[4]=(...r)=>t.handleOk&&t.handleOk(...r))},"\u786E\u5B9A")])])])])],64)}var Ph=w(G8,[["render",Mh]]);const zh={components:{Status:pe,ProjectMangeHeader:Y,Search:J},setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,name:"",items:[]});T(()=>{t()});let t=()=>{s.post(s.urls.issue_type_status.format(o.team)).then(function(l){o.items=l.data})};return{self:o}}},Dh={class:"pb-3 px-3 pt-3"},Bh={class:"table table-hover mt-3"},Lh=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u72B6\u6001\u540D\u79F0"),e("th",{scope:"col"},"\u72B6\u6001\u7C7B\u578B"),e("th",{scope:"col"},"\u4F7F\u7528\u5230\u7684\u9879\u76EE"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),Uh={style:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center"}},Vh=e("td",null," \u6240\u6709\u9879\u76EE ",-1),Hh=e("td",null,[e("div",{style:{display:"flex","align-items":"center",flex:"0 0 80px"}},[e("div",{style:{width:"30px",height:"2px"}},[e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])])],-1);function Ah(s,a,o,t,l,d){const i=h("ProjectMangeHeader"),n=h("Search"),_=h("Status",!0);return c(),m(j,null,[f(i,{title:"\u5DE5\u4F5C\u9879\u72B6\u6001",desc:"\u5DE5\u4F5C\u9879\u72B6\u6001\u7528\u4E8E\u6807\u793A\u5DE5\u4F5C\u9879\u6240\u5904\u9636\u6BB5\uFF0C\u4E0D\u540C\u7684\u72B6\u6001\u53EF\u4EE5\u5728\u9879\u76EE\u4E2D\u7EC4\u88C5\u6210\u4E3A\u5DE5\u4F5C\u6D41\uFF0C\u4E0D\u540C\u9879\u76EE\u53EF\u4EE5\u5171\u7528\u540C\u4E00\u4E2A\u72B6\u6001\u3002"}),e("div",Dh,[f(n,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u72B6\u6001"}),e("table",Bh,[Lh,e("tbody",null,[(c(!0),m(j,null,z(t.self.items,r=>(c(),m("tr",{key:r.uuid},[e("td",null,[e("div",null,v(r.name),1)]),e("td",null,[e("div",Uh,[f(_,{name:r.category.toString(),color:r.category.toString()},null,8,["name","color"])])]),Vh,Hh]))),128))])])])],64)}var Nh=w(zh,[["render",Ah]]);const qh={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,name:"",items:[],defaultValue:""});T(()=>{t()});let t=()=>{s.post(s.urls.issue_type_priority.format(o.team)).then(function(l){o.items=l.data.options,o.defaultValue=l.data.default_value})};return{self:o}},components:{Priority:Te,ProjectMangeHeader:Y,Search:J}},Eh={class:"pb-3 px-3 pt-3"},Fh={class:"table table-hover mt-3"},Oh=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u4F18\u5148\u7EA7\u540D\u79F0"),e("th",{scope:"col"},"\u63CF\u8FF0"),e("th",{scope:"col"},"\u663E\u793A\u6837\u5F0F"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),Rh={class:"flex-row flex align-items-center"},Gh={style:{flex:"0 0 auto"}},Wh={key:0,style:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},Kh=e("div",{style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},"\u9ED8\u8BA4",-1),Jh=[Kh],Yh={style:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},Qh=e("td",null,[e("div",{style:{display:"flex","align-items":"center",flex:"0 0 80px"}},[e("div",{style:{width:"30px",height:"2px"}},[e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])])],-1);function Zh(s,a,o,t,l,d){const i=h("ProjectMangeHeader"),n=h("Search"),_=h("Priority",!0);return c(),m(j,null,[f(i,{title:"\u4F18\u5148\u7EA7",desc:"\u901A\u8FC7\u4E0D\u540C\u7684\u7EC4\u5408\u8BBE\u5B9A\uFF0C\u4E2A\u6027\u5316\u60A8\u7684\u4F18\u5148\u7EA7\u663E\u793A\u65B9\u5F0F\u3002"}),e("div",Eh,[f(n,{placeholder:"\u641C\u7D22\u4F18\u5148\u7EA7"}),e("table",Fh,[Oh,e("tbody",null,[(c(!0),m(j,null,z(t.self.items,r=>(c(),m("tr",{key:r.uuid},[e("td",null,[e("div",Rh,[e("div",Gh,v(r.value),1),r.uuid===t.self.defaultValue?(c(),m("div",Wh,Jh)):M("",!0)])]),e("td",null,[e("div",null,v(r.desc),1)]),e("td",null,[e("div",Yh,[f(_,{color:r.color,name:r.value,bgColor:r.background_color},null,8,["color","name","bgColor"])])]),Qh]))),128))])])])],64)}var Xh=w(qh,[["render",Zh]]);const e9={setup(){const{proxy:s}=I();let a=C(),o=W(a.params.title),t=S({dropdownActive:!1,team:"",project:"",maps:{read:{code:1102,permission:"browse_project",title:"\u67E5\u770B\u9879\u76EE",desc:"\u5141\u8BB8\u6210\u5458\u6D4F\u89C8\u5F53\u524D\u9879\u76EE\uFF0C\u5305\u62EC\u5DE5\u4F5C\u9879\uFF0C\u7B5B\u9009\u5668\uFF0C\u62A5\u8868\u7B49\u4FE1\u606F",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},write:{code:1101,permission:"manage_project",title:"\u7BA1\u7406\u9879\u76EE",desc:"\u7BA1\u7406\u5F53\u524D\u9879\u76EE\u5E76\u66F4\u65B0\u9879\u76EE\u7684\u914D\u7F6E\u4FE1\u606F",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]}},role_members:[],data:{},loaded:!1,desc:"\u9879\u76EE\u7BA1\u7406\u3001\u67E5\u770B\u57FA\u672C\u6743\u9650\u914D\u7F6E\uFF0C\u9700\u8981\u66F4\u7EC6\u81F4\u6743\u9650\u8BF7\u5230\u5404\u4E2A\u5177\u4F53\u9879\u76EE\u4E0B\u914D\u7F6E\u3002"});T(()=>{t.team=a.params.team,t.project=a.params.project,t.data={permission_rule:{context_type:"project",context_param:{project_uuid:t.project}}},l(),d()});let l=()=>{o.value=a.params.title,o.value||s.get(s.urls.project_get.format(t.team,t.project)).then(function(n){o.value=n.data.name})},d=()=>{let n=[];for(let _ in t.maps)n.push(t.maps[_].code);s.post(s.urls.project_user_domain_group.format(t.team,t.project),n).then(function(_){for(let r in t.maps){let p=t.maps[r];p.groups=[]}if(_.data&&_.data.length>0)for(let r in t.maps){let p=t.maps[r];for(let u=0;u<_.data.length;u++){let x=_.data[u];if(x.permission===p.code){p.groups=x.groups;break}}}i()})},i=()=>{s.get(s.urls.project_role_members.format(t.team,t.project)).then(function(n){if(n.data&&n.data.role_members&&n.data.role_members.length>0)for(let _=0;_<n.data.role_members.length;_++){let r=n.data.role_members[_];for(let p in t.maps){let u=t.maps[p];u.roles=[],u.members=[],r.role.type="role",u.roles.push(r.role);for(let x=0;x<r.members.length;x++){let b=r.members[x];b.type="single_user",u.members.push(b)}}}t.loaded=!0})};return{ProjectName:o,self:t,GetUserDomainGroups:d}},components:{ProjectMangeHeader:Y,PermissionItem:re,Summary:ne}},t9={style:{padding:"0 20px 20px 20px"}};function s9(s,a,o,t,l,d){const i=h("ProjectMangeHeader"),n=h("PermissionItem");return c(),m(j,null,[f(i,{title:t.ProjectName,desc:t.self.desc},null,8,["title","desc"]),e("div",t9,[t.self.loaded?(c(),N(n,{key:0,role_members:t.self.role_members,data:t.self.data,group:t.self.maps.read,onLoadPermissionData:t.GetUserDomainGroups},null,8,["role_members","data","group","onLoadPermissionData"])):M("",!0),t.self.loaded?(c(),N(n,{key:1,role_members:t.self.role_members,data:t.self.data,group:t.self.maps.write,onLoadPermissionData:t.GetUserDomainGroups},null,8,["role_members","data","group","onLoadPermissionData"])):M("",!0)])],64)}var a9=w(e9,[["render",s9]]);const o9={setup(s){const{proxy:a}=I();let o=P(),t=C(),l=S({team:"",space:""});T(()=>{l.team=t.params.team,l.space=t.params.space,d()});let d=()=>{a.get(a.urls.default_main_page.format(l.team,l.space)).then(function(i){o.push({name:"Page",params:{team:l.team,space:l.space,page:i.data.uuid}})})};return(i,n)=>(c(),m("div"))}};const l9={name:"PageTree",props:{tree:Object,team:String,space:String,selected:String},setup(s){C();let{selected:a}=oe(s),o=S({tree:s.tree,team:s.team,space:s.space});return{selected:a,self:o}}},kt=s=>(H("data-v-40db7f46"),s=s(),A(),s),i9={key:0,class:"arrow flex-row flex align-items-center"},n9={key:1,style:{color:"#c0c0c0","padding-left":"10px"}},r9=kt(()=>e("i",{class:"bi bi-dot"},null,-1)),d9=[r9],c9={key:2,style:{"padding-left":"10px"}},_9=kt(()=>e("svg",{t:"1605661940824",class:"icon",viewBox:"0 0 1152 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"177974",width:"16",height:"16"},[e("path",{d:"M1152 896a128 128 0 0 1-128 128H128a128 128 0 0 1-128-128V128a128 128 0 0 1 128-128h279.936a128 128 0 0 1 120.576 84.992l9.728 27.456H1024a128 128 0 0 1 127.68 118.528l0.32 9.536zM407.936 128H128v768h896V494.72H629.056a128 128 0 0 1-116.8-75.52l-3.84-9.408L408 128z m176 112.448l45.12 126.336L1024 366.72V240.512l-440.064-0.064z","p-id":"177975",fill:"#515151"})],-1)),m9=[_9],p9={class:"flex-row flex align-items-center"},u9={style:{overflow:"hidden","white-space":"nowrap","min-width":"0","text-overflow":"ellipsis","margin-left":"5px"}};function f9(s,a,o,t,l,d){const i=h("router-link"),n=h("PageTree");return c(),m("div",{style:ye({padding:t.self.tree.padding?"0 0 0 10px":"0"})},[e("div",{class:B(["page-item flex-row flex align-items-center",{active:t.self.tree.uuid===t.selected}])},[t.self.tree.son&&t.self.tree.parent_uuid?(c(),m("div",i9,[t.self.tree.opened?(c(),m("div",{key:0,class:"down",onClick:a[0]||(a[0]=_=>t.self.tree.opened=!1)})):(c(),m("div",{key:1,class:"right",onClick:a[1]||(a[1]=_=>t.self.tree.opened=!0)}))])):t.self.tree.parent_uuid?(c(),m("div",n9,d9)):(c(),m("div",c9,m9)),e("div",{style:{flex:"1",width:"0"},onClick:a[2]||(a[2]=_=>t.self.tree.opened=!0)},[f(i,{to:{name:"Page",params:{team:t.self.team,space:t.self.space,page:t.self.tree.uuid}}},{default:D(()=>[e("div",p9,[e("div",u9,v(t.self.tree.title?t.self.tree.title:"\u672A\u547D\u540D"),1)])]),_:1},8,["to"])])],2),V(e("div",null,[(c(!0),m(j,null,z(t.self.tree.pages,_=>(c(),N(n,{key:_.uuid,tree:_,selected:t.selected,team:t.self.team,space:t.self.space},null,8,["tree","selected","team","space"]))),128))],512),[[He,t.self.tree.opened]])],4)}var h9=w(l9,[["render",f9],["__scopeId","data-v-40db7f46"]]);const x9={props:{team:String,space:String,drafts:Array,selected:{default:!1}},setup(s){let{team:a,space:o,drafts:t,selected:l}=oe(s);return{team:a,space:o,drafts:t,selected:l}}},g9={key:0,style:{padding:"20px 0 0 0"}},v9=e("div",{style:{flex:"0 0 auto",padding:"0 20px 10px 20px"},class:"flex-row flex"},[e("div",{style:{flex:"1",color:"#909090"}},"\u8349\u7A3F\u7BB1")],-1),y9={style:{padding:"0 20px"}},b9={style:{flex:"1","padding-left":"10px"},class:"flex-row flex align-items-center"},k9={style:{flex:"1",overflow:"hidden","white-space":"nowrap","min-width":"0","text-overflow":"ellipsis"}},w9={key:0,style:{flex:"0 0 auto",color:"#909090"}},$9=e("i",{class:"bi bi-cursor-fill"},null,-1),j9=[$9];function S9(s,a,o,t,l,d){const i=h("router-link");return t.drafts&&t.drafts.length>0?(c(),m("div",g9,[v9,e("div",y9,[(c(!0),m(j,null,z(t.drafts,n=>(c(),m("div",{class:B(["page-item",{active:n.uuid===t.selected}]),key:n.uuid},[f(i,{class:B({unnamed:!n.title}),to:{name:"Draft",params:{team:t.team,space:t.space,draft:n.uuid}},title:n.status===1?"\u672A\u53D1\u5E03":""},{default:D(()=>[e("div",b9,[e("div",k9,v(n.title||"\u672A\u547D\u540D"),1),n.status===1?(c(),m("div",w9,j9)):M("",!0)])]),_:2},1032,["class","to","title"])],2))),128))])])):M("",!0)}var C9=w(x9,[["render",S9]]);const I9={setup(){const{proxy:s}=I();P();let a=C(),o=W(""),t=S({team:a.params.team,space:a.params.space,spaces:[],tree:{},drafts:[],inside:!1,loaded:!1,spaceName:""});T(()=>{t.page=a.params.page,l(),n(),i(),d()}),G(()=>a.params,p=>{l()});let l=()=>{a.name==="Draft"?o.value!==a.params.draft&&(o.value=a.params.draft):a.name==="Page"&&o.value!==a.params.page&&(o.value=a.params.page)},d=()=>{s.get(s.urls.spaces.format(t.team)).then(function(p){t.spaces=p.data.spaces;for(let u=0;u<t.spaces.length;u++)if(t.spaces[u].uuid===t.space){t.spaceName=t.spaces[u].title;break}})},i=()=>{s.get(s.urls.page_tree_get.format(t.team,t.space)).then(function(p){if(t.tree=p.data,t.tree.pages&&t.tree.pages.length>0)for(let u=0;u<t.tree.pages.length;u++){let x=t.tree.pages[u];if(_(x),t.inside)break}t.loaded=!0})},n=()=>{s.get(s.urls.drafts.format(t.team,t.space)).then(function(p){t.drafts=p.data.drafts})},_=p=>{if(p.pages&&p.pages.length>0)for(let u=0;u<p.pages.length;u++){let x=p.pages[u];if(x.uuid===t.page?(p.opened=!0,t.inside=!0):_(x),t.inside)break}t.inside&&(p.opened=!0)},r=Q(()=>[{uuid:"wiki-setting",name:"WikiSetting",params:{team:t.team,type:"list"},title:"\u6587\u6863\u914D\u7F6E\u4E2D\u5FC3"}]);return{selected:o,self:t,tools:r}},components:{PageTree:h9,Drafts:C9}},ve=s=>(H("data-v-61ddef33"),s=s(),A(),s),T9={id:"catalog",class:"flex-column flex r-line"},M9={style:{flex:"0 0 40px"},class:"flex-row flex align-items-center b-line"},P9=ve(()=>e("div",{"data-bs-toggle":"offcanvas","data-bs-target":"#sidebarSpaces",class:"ps-3 pointer"},[e("i",{class:"bi bi-list",style:{"font-size":"1.5rem"}})],-1)),z9={class:"flex-fill ms-2 fw-bolder"},D9=ve(()=>e("div",{"data-bs-toggle":"dropdown",class:"flex-row flex align-items-center h-100 pe-3 pointer","data-bs-offset":"-20,2"},[e("i",{class:"bi bi-gear"})],-1)),B9={class:"dropdown-menu border-0 jiBox"},L9={class:"menu-item"},U9=L("\u9875\u9762\u7EC4\u4FE1\u606F"),V9={class:"menu-item"},H9=L("\u9875\u9762\u7EC4\u6743\u9650"),A9={class:"menu-item"},N9=L("\u56DE\u6536\u7AD9"),q9={style:{"overflow-y":"auto"}},E9={style:{padding:"0 20px"}},F9=ve(()=>e("div",{style:{flex:"0 0 auto",margin:"20px 0 10px 0"},class:"flex-row flex align-items-center"},[e("div",{style:{flex:"1",color:"#909090"}},"\u9875\u9762\u6811"),e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1605536091310",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4339",width:"16",height:"16"},[e("path",{d:"M624.904671 1023.115112a27.162332 27.162332 0 0 1-18.711829-6.639682L354.488565 814.870566a30.783976 30.783976 0 0 1-13.88297-22.333473v-380.272649L14.054003 50.100016A29.576762 29.576762 0 0 1 11.035966 18.108825 30.783976 30.783976 0 0 1 38.801905 0.000604h942.834727a30.180369 30.180369 0 0 1 21.729865 51.306627l-348.281457 362.164427v582.481122a29.576762 29.576762 0 0 1-16.901007 27.162332 25.35151 25.35151 0 0 1-13.279362 0zM400.966333 778.050516l191.343539 152.712667V400.795903a28.973154 28.973154 0 0 1 8.450503-20.52265l307.839764-319.911911H106.405932l289.127934 320.515518a27.765939 27.765939 0 0 1 5.432467 19.919043z",fill:"#515151","p-id":"4340"}),e("path",{d:"M985.258276 519.706557h-193.154361a30.180369 30.180369 0 0 1-30.180369-30.180369 30.180369 30.180369 0 0 1 30.180369-30.180369h193.154361a30.783976 30.783976 0 0 1 30.180369 30.180369 30.180369 30.180369 0 0 1-30.180369 30.180369zM985.258276 648.878536h-193.154361a30.180369 30.180369 0 0 1-30.180369-30.180369 30.180369 30.180369 0 0 1 30.180369-30.180369h193.154361a30.180369 30.180369 0 0 1 30.180369 30.180369 30.783976 30.783976 0 0 1-30.180369 30.180369zM985.258276 777.446908h-193.154361a30.180369 30.180369 0 0 1 0-60.360738h193.154361a30.180369 30.180369 0 0 1 0 60.360738z",fill:"#515151","p-id":"4341"})])])],-1)),O9={class:"offcanvas offcanvas-start",style:{width:"300px"},tabindex:"-1",id:"sidebarSpaces","aria-labelledby":"offcanvasExampleLabel"},R9=ve(()=>e("div",{class:"offcanvas-header b-line"},[e("div",{class:"offcanvas-title fw-bolder",id:"offcanvasExampleLabel"},"\u5FEB\u901F\u5BFC\u822A"),e("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),G9={class:"offcanvas-body ps-4"},W9=ve(()=>e("div",{class:"tool-header"},"\u5DE5\u5177",-1)),K9={class:"mt-4 pt-3"},J9=ve(()=>e("div",{class:"tool-header"},"\u9875\u9762\u7EC4",-1));function Y9(s,a,o,t,l,d){const i=h("router-link"),n=h("Drafts"),_=h("PageTree");return c(),m("div",T9,[e("div",M9,[P9,e("div",z9,v(t.self.spaceName),1),D9,e("div",B9,[e("div",L9,[f(i,{to:{name:"SpaceSettings",params:{team:t.self.team,space:t.self.space,type:"info"}}},{default:D(()=>[U9]),_:1},8,["to"])]),e("div",V9,[f(i,{to:{name:"SpaceSettings",params:{team:t.self.team,space:t.self.space,type:"permissions"}}},{default:D(()=>[H9]),_:1},8,["to"])]),e("div",A9,[f(i,{to:{name:"SpaceSettings",params:{team:t.self.team,space:t.self.space,type:"recycle"}}},{default:D(()=>[N9]),_:1},8,["to"])])])]),e("div",q9,[f(n,{drafts:t.self.drafts,selected:t.selected,team:t.self.team,space:t.self.space},null,8,["drafts","selected","team","space"]),e("div",E9,[F9,t.self.loaded?(c(),N(_,{key:0,tree:t.self.tree,selected:t.selected,team:t.self.team,space:t.self.space},null,8,["tree","selected","team","space"])):M("",!0)]),e("div",O9,[R9,e("div",G9,[e("div",null,[W9,(c(!0),m(j,null,z(t.tools,r=>(c(),m("div",{class:"mt-2 ps-3",key:r.uuid},[f(i,{to:{name:r.name,params:r.params}},{default:D(()=>[L(v(r.title),1)]),_:2},1032,["to"])]))),128))]),e("div",K9,[J9,(c(!0),m(j,null,z(t.self.spaces,r=>(c(),m("div",{class:B(["ps-3 py-2 menu-item",{active:r.uuid===t.self.space}]),key:r.uuid},[f(i,{to:{name:"Space",params:{team:t.self.team,space:r.uuid}}},{default:D(()=>[L(v(r.title),1)]),_:2},1032,["to"])],2))),128))])])])])])}var Q9=w(I9,[["render",Y9],["__scopeId","data-v-61ddef33"]]);const Z9={class:"flex-row flex",style:{flex:"1"}},X9={setup(s){return(a,o)=>{const t=h("router-view");return c(),m("div",Z9,[f(Q9),f(t)])}}};const e7={setup(){return{self:S({cur:0,tabs:["\u5168\u90E8","\u8BC4\u8BBA","\u6587\u4EF6","\u53D8\u66F4\u8BB0\u5F55"]})}}},wt=s=>(H("data-v-b7292fa8"),s=s(),A(),s),t7={id:"dynamic",class:"flex-column flex l-line"},s7=X('<div style="flex:0 0 40px;" class="flex-row flex align-items-center b-line" data-v-b7292fa8><div style="flex:0 0 auto;margin-left:20px;cursor:pointer;" data-v-b7292fa8>\u52A8\u6001</div><div style="flex:1;" data-v-b7292fa8>\xA0</div><div style="flex:0 0 auto;margin-right:20px;" data-v-b7292fa8><i class="bi bi-x" data-v-b7292fa8></i></div></div>',1),a7={class:"tab-title flex-row flex align-items-center b-line",style:{"margin-top":"10px","justify-content":"space-between"}},o7=wt(()=>e("div",{style:{flex:"1"}},null,-1)),l7=["onClick"],i7=wt(()=>e("div",{style:{flex:"1"}},null,-1)),n7=X('<div style="padding:20px;" class="flex-row flex" data-v-b7292fa8><div style="flex:0 0 auto;" data-v-b7292fa8><i class="bi bi-pencil-square" data-v-b7292fa8></i></div><div style="flex:1;margin-left:10px;" data-v-b7292fa8><div data-v-b7292fa8><span style="color:#000000;font-weight:bold;" data-v-b7292fa8>\u4F55\u654F</span>\u53D1\u5E03\u4E86\u9875\u9762</div><div style="color:#909090;font-size:12px;" data-v-b7292fa8>9\u670814\u65E5 \u65E9\u4E0A06:42</div></div></div>',1);function r7(s,a,o,t,l,d){return c(),m("div",t7,[s7,e("div",a7,[o7,(c(!0),m(j,null,z(t.self.tabs,(i,n)=>(c(),m("div",{onClick:_=>t.self.cur=n,class:B({active:t.self.cur===n}),key:n},v(i),11,l7))),128)),i7]),n7])}var d7=w(e7,[["render",r7],["__scopeId","data-v-b7292fa8"]]);const c7={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,space:a.params.space,page:a.params.page,user:{},item:{}});T(()=>{l()});let t=()=>{s.get(s.urls.team_user_get.format(o.team,o.item.owner_uuid)).then(function(d){o.user=d.data})};G(()=>a.params,d=>{a.params.page&&o.page!==a.params.page&&(o.page=a.params.page,l())});let l=()=>{s.get(s.urls.page_get.format(o.team,o.space,o.page)).then(function(d){o.item=d.data,t()})};return{self:o}}},$t=s=>(H("data-v-e8da2b46"),s=s(),A(),s),_7={id:"article",class:"flex-column flex"},m7={style:{flex:"0 0 40px",padding:"0 20px"},class:"flex-row flex align-items-center b-line"},p7=$t(()=>e("div",{style:{flex:"1"},class:"flex-row flex"},[e("div",{style:{flex:"0 0 auto"}},[e("i",{class:"bi bi-house-door-fill"})]),e("div",{style:{flex:"0 0 auto","margin-left":"5px"}},"\u4E3B\u9875")],-1)),u7={style:{flex:"0 0 auto"},class:"flex-row flex"},f7=$t(()=>e("div",{style:{flex:"0 0 auto"}},[e("i",{class:"bi bi-pencil-square"})],-1)),h7={style:{flex:"0 0 auto","margin-left":"5px"}},x7=L("\u7F16\u8F91"),g7={style:{flex:"1","background-color":"#ffffff",padding:"30px","overflow-y":"auto"},class:"flex-column flex"},v7={style:{"font-size":"28px","font-weight":"800"}},y7={style:{color:"#909090","margin-top":"5px"}},b7=["innerHTML"];function k7(s,a,o,t,l,d){const i=h("router-link");return c(),m("div",_7,[e("div",m7,[p7,e("div",u7,[f7,e("div",h7,[f(i,{to:{name:"EditPage",params:{team:t.self.team,space:t.self.space,page:t.self.page}}},{default:D(()=>[x7]),_:1},8,["to"])])])]),e("div",g7,[e("div",v7,v(t.self.item.title),1),e("div",y7,v(t.self.user.name)+"\u4E8E "+v(s.filters.formatTime(t.self.item.updated_time))+" \u4FEE\u6539",1),e("div",{class:"ck-content",style:{"margin-top":"20px"},innerHTML:t.self.item.content},null,8,b7)])])}var w7=w(c7,[["render",k7],["__scopeId","data-v-e8da2b46"]]);const $7={class:"flex-row flex flex-fill"},j7={class:"flex-fill"},S7={setup(s){return(a,o)=>(c(),m("div",$7,[e("div",j7,[f(w7)]),f(d7)]))}};const C7={data:function(){return{}},props:{title:String,disabled:{default:!1},fill:{default:!0}},methods:{onsubmit:function(){this.disabled||this.$emit("submit")}}},I7={style:{"box-shadow":"none",outline:"none"}};function T7(s,a,o,t,l,d){return c(),m("div",I7,[e("div",{class:B(["button",{disabled:o.disabled,fill:o.fill}]),onClick:a[0]||(a[0]=(...i)=>d.onsubmit&&d.onsubmit(...i))},v(o.title),3)])}var jt=w(C7,[["render",T7],["__scopeId","data-v-6616622a"]]);const M7={props:{item:Object},setup(s){const{proxy:a}=I();let o=P(),t=C(),l=S({team:t.params.team,space:t.params.space,item:s.item});return T(()=>{l.team=t.params.team,l.space=t.params.space}),{self:l,edit:()=>{let _={team:l.team,space:l.space,draft:l.item.uuid};o.push({name:"EditDraft",params:_})},update:()=>{let _={title:l.item.title,content:l.item.content,page_uuid:l.item.page_uuid,status:l.item.status,is_published:!0,space_uuid:l.space,from_version:l.item.from_version};a.post(a.urls.page_draft_update.format(l.team,l.space,l.item.uuid),_).then(function(r){let p={team:l.team,space:l.space,page:r.data.page_uuid};o.push({name:"Page",params:p})})},del:()=>{this.$bvModal.msgBoxConfirm("\u6B64\u64CD\u4F5C\u4E0D\u53EF\u64A4\u9500\uFF0C\u662F\u5426\u786E\u5B9A\uFF1F",{title:"\u5220\u9664\u8349\u7A3F",okVariant:"danger",okTitle:"\u786E\u5B9A",cancelTitle:"\u53D6\u6D88",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then(_=>{_&&a.post(a.urls.draft_delete.format(l.team,l.space,l.item.uuid)).then(function(r){r.data.code===200&&o.push({name:"Space",params:{team:l.team,space:l.space}})}).catch(function(r){a.bus.emit("alertDanger",r.response.data.errcode)})}).catch(_=>{console.log(_)})}}},components:{PublishButton:jt}},Se=s=>(H("data-v-2823af42"),s=s(),A(),s),P7={id:"article",class:"flex-column flex"},z7={style:{flex:"0 0 40px",padding:"0 20px"},class:"flex-row flex align-items-center b-line"},D7=Se(()=>e("div",{style:{flex:"1"},class:"flex-row flex"},[e("div",{style:{flex:"0 0 auto"}},[e("i",{class:"bi bi-house-door-fill"})]),e("div",{style:{flex:"0 0 auto","margin-left":"5px"}},"\u4E3B\u9875")],-1)),B7={style:{flex:"0 0 auto"},class:"flex-row flex align-items-center"},L7=Se(()=>e("div",{style:{flex:"0 0 auto",color:"inherit"}},[e("i",{class:"bi bi-pencil-square"})],-1)),U7=Se(()=>e("div",{style:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}}," \u7F16\u8F91 ",-1)),V7=[L7,U7],H7=Se(()=>e("div",{style:{flex:"0 0 auto",color:"inherit"}},[e("i",{class:"bi bi-x"})],-1)),A7=Se(()=>e("div",{style:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}}," \u5220\u9664\u8349\u7A3F ",-1)),N7=[H7,A7],q7={style:{flex:"1","background-color":"#ffffff",padding:"30px","overflow-y":"auto"},class:"flex-column flex"},E7={style:{color:"#909090","margin-top":"5px"}},F7=["innerHTML"];function O7(s,a,o,t,l,d){const i=h("PublishButton");return c(),m("div",P7,[e("div",z7,[D7,e("div",B7,[e("div",{style:{flex:"0 0 auto","margin-left":"10px"},class:"flex-row flex align-items-center op-article",onClick:a[0]||(a[0]=(...n)=>t.edit&&t.edit(...n))},V7),e("div",{style:{flex:"0 0 auto","margin-left":"10px"},class:"flex-row flex align-items-center op-article",onClick:a[1]||(a[1]=(...n)=>t.del&&t.del(...n))},N7),o.item.status===1?(c(),N(i,{key:0,style:{"margin-left":"10px"},title:"\u53D1\u5E03",onSubmit:t.update},null,8,["onSubmit"])):M("",!0),o.item.status===2?(c(),N(i,{key:1,style:{"margin-left":"10px"},title:"\u66F4\u65B0",onSubmit:t.update},null,8,["onSubmit"])):M("",!0)])]),e("div",q7,[e("div",{class:B({unnamed:!o.item.title}),style:{"font-size":"28px","font-weight":"800"}},v(o.item.title||"\u672A\u547D\u540D"),3),e("div",E7,"\u6700\u540E\u7F16\u8F91\u4E8E "+v(s.filters.formatTime(o.item.updated_time)),1),e("div",{class:"ck-content",style:{"margin-top":"20px"},innerHTML:o.item.content},null,8,F7)])])}var R7=w(M7,[["render",O7],["__scopeId","data-v-2823af42"]]);const G7={class:"h-100 flex-fill"},W7={setup(s){const{proxy:a}=I();P();let o=C(),t=S({team:o.params.team,space:o.params.space,page:o.params.page,draft:o.params.draft,item:{},loaded:!1});T(()=>{t.team=o.params.team,t.space=o.params.space,t.page=o.params.page,t.draft=o.params.draft,l()}),G(()=>o.params,d=>{o.params.draft&&t.draft!==o.params.draft&&(t.draft=o.params.draft,l())});let l=()=>{a.get(a.urls.draft_get.format(t.team,t.space,t.draft)).then(function(d){t.item=d.data,t.page=d.data.page_uuid,t.loaded=!0})};return(d,i)=>(c(),m("div",G7,[g(t).loaded?(c(),N(R7,{key:0,item:g(t).item},null,8,["item"])):M("",!0)]))}};const K7={setup(){let{proxy:s}=I(),a=C(),o=P(),t=W(""),l=W(""),d=S({team:a.params.team,space:a.params.space,page:"",fill:!1,list:[],draft:"",editor:Ve,editorConfig:{toolbar:{items:["undo","redo","heading","fontFamily","fontSize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","numberedList","bulletedList","outdent","indent","|","link","blockquote","imageUpload","insertTable"]},ckfinder:{uploadUrl:"",options:{resourceType:"Images"}}},mod:"",loaded:!1,ing:-1,status:1,version:0});T(()=>{d.mod=a.name,d.editorConfig.ckfinder.uploadUrl=s.urls.upload.format(d.team),d.mod==="EditDraft"?(d.draft=a.params.draft,u()):d.mod==="AddPage"?(d.page=a.params.page,s.$parent.page=d.page):d.mod==="EditPage"&&(d.page=a.params.page,s.$parent.page=d.page,d.status=2,x()),setInterval(function(){d.list.length>0&&d.ing!==1&&(d.ing=1,d.list.length=0,d.draft.length===8?r():_())},3e3)}),zt(()=>{d.loaded=!0});let i=b=>{let $=document.querySelector("#toolbarContainer"),y=document.querySelector("#bodyContainer");$.hasChildNodes()&&($.innerHTML=""),y.hasChildNodes()&&(y.innerHTML=""),$.appendChild(b.ui.view.toolbar.element),y.appendChild(b.ui.getEditableElement())},n=()=>{d.mod==="EditDraft"?o.push({name:"Draft",params:{team:d.team,space:d.space,draft:d.draft}}):d.mod==="AddPage"?o.push({name:"Page",params:{team:d.team,space:d.space,page:d.page}}):d.mod==="EditPage"&&o.push({name:"Page",params:{team:d.team,space:d.space,page:d.page}})},_=()=>{let b={title:t.value,content:l.value,page_uuid:d.page,status:d.status,from_version:d.version};s.post(s.urls.page_draft_add.format(d.team,d.space),b).then(function($){d.draft=$.data.uuid,d.ing=2})},r=()=>{let b={title:t.value,content:l.value,page_uuid:d.page,status:d.status,is_published:!1,space_uuid:d.space,from_version:d.version};s.post(s.urls.page_draft_update.format(d.team,d.space,d.draft),b).then(function($){$.data&&$.data.draft_uuid&&(d.draft=$.data.draft_uuid),d.ing=2})},p=()=>{let b={title:t.value,content:l.value,page_uuid:d.page,status:d.status,is_published:!0,space_uuid:d.space,from_version:d.version};s.post(s.urls.page_draft_update.format(d.team,d.space,d.draft),b).then(function($){let y={team:d.team,space:d.space,page:$.data.page_uuid};o.push({name:"Page",params:y})})},u=()=>{s.get(s.urls.draft_get.format(d.team,d.space,d.draft)).then(function(b){t.value=b.data.title,l.value=b.data.content,d.draft=b.data.uuid,d.page=b.data.page_uuid,s.$parent.page=d.page})},x=()=>{s.get(s.urls.page_get.format(d.team,d.space,d.page)).then(function(b){b.data&&b.data.draft_uuid&&b.data.draft_uuid.length===8?(d.draft=b.data.draft_uuid,u()):(t.value=b.data.title,l.value=b.data.content,d.version=b.data.version)})};return G([t,l],()=>{d.loaded&&(d.ing=0,d.list.push(!0))}),{title:t,model:l,self:d,onReady:i,back:n,publish:p}},components:{AddAndBackButton:jt}},J7=s=>(H("data-v-d4f5197e"),s=s(),A(),s),Y7={class:"flex-column flex flex-fill",style:{"min-width":"1280px"}},Q7={style:{flex:"0 0 40px","background-color":"#f8f8f8"},class:"flex-row flex align-items-center"},Z7=J7(()=>e("div",{style:{flex:"1"},id:"toolbarContainer"},null,-1)),X7={style:{flex:"0 0 auto","margin-right":"20px"},class:"flex-row flex align-items-center"},ex={style:{"margin-right":"10px"}},tx={key:0,style:{color:"#909090"}},sx={key:1,style:{color:"#909090"}},ax={key:2,style:{color:"#909090"}},ox={style:{"overflow-y":"auto","background-color":"#ffffff"},id:"scrollable_container",class:"flex-row flex-fill"},lx={style:{flex:"1",height:"100%"},class:"flex-column flex"},ix={style:{flex:"0 0 auto",padding:"20px 60px 0 60px"}},nx={id:"bodyContainer",style:{padding:"0 60px 0 60px"},class:"flex-column flex flex flex-fill"};function rx(s,a,o,t,l,d){const i=h("AddAndBackButton"),n=h("ckeditor");return c(),m("div",Y7,[e("div",Q7,[Z7,e("div",X7,[e("div",ex,[t.self.ing===0?(c(),m("div",tx,"\u5373\u5C06\u4FDD\u5B58...")):t.self.ing===1?(c(),m("div",sx,"\u6B63\u5728\u4FDD\u5B58...")):t.self.ing===2?(c(),m("div",ax,"\u8349\u7A3F\u5DF2\u4FDD\u5B58")):M("",!0)]),f(i,{onSubmit:t.back,title:"\u8FD4\u56DE",fill:t.self.fill,disabled:t.self.list&&t.self.list.length>0},null,8,["onSubmit","fill","disabled"]),f(i,{onSubmit:t.publish,style:{"margin-left":"10px"},title:"\u53D1\u5E03",disabled:t.self.list&&t.self.list.length>0},null,8,["onSubmit","disabled"])])]),e("div",ox,[e("div",lx,[e("div",ix,[V(e("input",{type:"text",class:"title","onUpdate:modelValue":a[0]||(a[0]=_=>t.title=_),placeholder:"\u6211\u7684\u6807\u9898"},null,512),[[O,t.title]])]),e("div",nx,[f(n,{editor:t.self.editor,onReady:t.onReady,modelValue:t.model,"onUpdate:modelValue":a[1]||(a[1]=_=>t.model=_),config:t.self.editorConfig},null,8,["editor","onReady","modelValue","config"])])])])])}var St=w(K7,[["render",rx],["__scopeId","data-v-d4f5197e"]]);const dx={setup(s){return(a,o)=>(c(),N(St))}},Ct={setup(s){return(a,o)=>(c(),N(St))}},cx=e("div",{class:"px-4 py-3 b-line fs-c10"},"\u9875\u9762\u7EC4\u7BA1\u7406",-1),_x={class:"px-3 pt-4 px-5"},mx={class:"mb-4"},px=e("label",{for:"exampleFormControlInput1",class:"form-label"},"\u9875\u9762\u7EC4\u540D\u79F0",-1),ux={class:"mb-4"},fx=e("label",{for:"exampleFormControlInput1",class:"form-label"},"\u9875\u9762\u7EC4\u63CF\u8FF0",-1),hx={class:"flex-row flex mb-4"},xx={style:{flex:"0 0 auto"}},gx=e("div",{style:{flex:"1"}},null,-1),vx=e("div",{style:{flex:"0 0 auto"}},[e("button",{type:"button",class:"btn btn-danger"},"\u5220\u9664\u9875\u9762\u7EC4")],-1),It={setup(s){let{proxy:a}=I(),o=C();P();let t=S({team:o.params.team,space:o.params.space,title:"",description:"",disabled:!0});T(()=>{l()});let l=()=>{a.get(a.urls.space_get.format(t.team,t.space)).then(function(n){t.title=n.data.title,t.description=n.data.description})},d=()=>{t.disabled=!1},i=()=>{a.post(a.urls.space_update.format(t.team,t.space),{title:t.title,description:t.description}).then(function(n){n.data.code===200&&(t.disabled=!0,a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"))}).catch(function(n){a.bus.emit("alertDanger",n.response.data.errcode)})};return(n,_)=>(c(),m(j,null,[cx,e("div",_x,[e("div",mx,[px,V(e("input",{type:"email",class:"form-control",id:"exampleFormControlInput1","onUpdate:modelValue":_[0]||(_[0]=r=>g(t).title=r),required:"",onChange:_[1]||(_[1]=(...r)=>g(d)&&g(d)(...r)),onKeydown:_[2]||(_[2]=(...r)=>g(d)&&g(d)(...r))},null,544),[[O,g(t).title]])]),e("div",ux,[fx,V(e("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3","onUpdate:modelValue":_[3]||(_[3]=r=>g(t).description=r),required:"",onChange:_[4]||(_[4]=(...r)=>g(d)&&g(d)(...r)),onKeydown:_[5]||(_[5]=(...r)=>g(d)&&g(d)(...r))},null,544),[[O,g(t).description]])]),e("div",hx,[e("div",xx,[f(ee,{disabled:g(t).disabled,title:"\u66F4\u65B0\u4FE1\u606F",onSubmit:g(i)},null,8,["disabled","onSubmit"])]),gx,vx])])],64))}},yx={style:{padding:"0 20px 20px 20px",flex:"1"},class:"flex-column flex"},bx={setup(s){let{proxy:a}=I(),o=C();P();let t=S({team:o.params.team,space:o.params.space,project:"",maps:{view:{code:2003,permission:"view_page",title:"\u9605\u89C8\u4E0E\u53CD\u9988",desc:"\u5141\u8BB8\u7528\u6237\u8FDB\u5165\u9875\u9762\u7EC4\u5E76\u67E5\u770B\u9875\u9762",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},create:{code:2002,permission:"create_page",title:"\u7F16\u8F91\u5185\u5BB9",desc:"\u5141\u8BB8\u7528\u6237\u65B0\u5EFA\u3001\u7F16\u8F91\u3001\u5220\u9664\u9875\u9762",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},manage:{code:2001,permission:"manage_space",title:"\u7BA1\u7406\u9875\u9762\u7EC4",desc:"\u5141\u8BB8\u7528\u6237\u4F7F\u7528\u9875\u9762\u7EC4\u63A7\u5236\u53F0\uFF0C\u7BA1\u7406\u9875\u9762\u56DE\u6536\u7AD9",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],data:{},loaded:!1});T(()=>{t.space=o.params.space,t.team=o.params.team,t.data={permission_rule:{context_type:"space",context_param:{space_uuid:t.space}}},l()});let l=()=>{let i=[];for(let n in t.maps)i.push(t.maps[n].code);a.post(a.urls.space_user_domain_group.format(t.team,t.space),i).then(function(n){for(let _ in t.maps){let r=t.maps[_];r.groups=[]}if(n.data&&n.data.length>0)for(let _ in t.maps){let r=t.maps[_];for(let p=0;p<n.data.length;p++){let u=n.data[p];if(u.permission===r.code){r.groups=u.groups;break}}}d()})},d=()=>{a.get(a.urls.team_member_list.format(t.team)).then(function(i){if(i.data&&i.data&&i.data.length>0){let n=[];for(let _=0;_<i.data.length;_++){let r=i.data[_];r.type="single_user",n.push(r)}for(let _ in t.maps){let r=t.maps[_];r.members=n}}t.loaded=!0})};return(i,n)=>(c(),m(j,null,[f(Y,{title:"\u9875\u9762\u7EC4\u6743\u9650"}),e("div",yx,[g(t).loaded?(c(),N(re,{key:0,role_members:g(t).role_members,data:g(t).data,group:g(t).maps.view,onLoadPermissionData:g(l)},null,8,["role_members","data","group","onLoadPermissionData"])):M("",!0),g(t).loaded?(c(),N(re,{key:1,role_members:g(t).role_members,data:g(t).data,group:g(t).maps.create,onLoadPermissionData:g(l)},null,8,["role_members","data","group","onLoadPermissionData"])):M("",!0),g(t).loaded?(c(),N(re,{key:2,role_members:g(t).role_members,data:g(t).data,group:g(t).maps.manage,onLoadPermissionData:g(l)},null,8,["role_members","data","group","onLoadPermissionData"])):M("",!0)])],64))}},kx={},wx={class:"px-4 py-3 b-line fs-c10"};function $x(s,a){return c(),m("div",wx,"\u56DE\u6536\u7AD9")}var jx=w(kx,[["render",$x]]);const Tt=s=>(H("data-v-ece361ca"),s=s(),A(),s),Sx={class:"flex-row flex flex-fill"},Cx={class:"space-group-setting",style:{flex:"0 0 300px",padding:"20px 0 0 20px"}},Ix=Tt(()=>e("div",{style:{color:"#444444"}},[e("i",{class:"bi bi-arrow-left-circle-fill"})],-1)),Tx=Tt(()=>e("div",{style:{"margin-left":"10px","font-size":"18px"}}," \u6587\u6863\u914D\u7F6E\u4E2D\u5FC3 ",-1)),Mx=[Ix,Tx],Px=L("\u9875\u9762\u7EC4\u4FE1\u606F"),zx=L("\u9875\u9762\u7EC4\u6743\u9650"),Dx=L("\u56DE\u6536\u7AD9"),Bx={class:"flex-column flex flex-fill",style:{"overflow-y":"auto","min-height":"100%"}},Lx={class:"jiBox mt-4 me-4 mb-4 flex-fill"},Ux={setup(s){let{proxy:a}=I(),o=C(),t=P(),l=S({team:o.params.team,space:o.params.space,page:o.params.page,com:"info",tagIndex:1});T(()=>{l.team=o.params.team,l.space=o.params.space,l.com=o.params.type,i()}),G(()=>o.params,_=>{l.com=o.params.type});let d=Q(()=>{let _=It;switch(l.com){case"info":l.tagIndex=1,_=It;break;case"permissions":l.tagIndex=2,_=bx;break;case"recycle":l.tagIndex=3,_=jx;break}return _}),i=()=>{a.get(a.urls.default_main_page.format(l.team,l.space)).then(function(_){l.page=_.data.uuid})},n=()=>{t.push({name:"Space",params:{team:l.team,space:l.space}})};return(_,r)=>{const p=h("router-link");return c(),m("div",Sx,[e("div",Cx,[e("div",{class:"flex-row flex align-items-center",style:{flex:"0",width:"100%","margin-bottom":"10px",cursor:"pointer"},onClick:r[0]||(r[0]=(...u)=>g(n)&&g(n)(...u))},Mx),e("div",{class:B(["justify-content-center",{active:g(l).tagIndex===1}])},[f(p,{to:{name:"SpaceSettings",params:{team:g(l).team,space:g(l).space,type:"info"}}},{default:D(()=>[Px]),_:1},8,["to"])],2),e("div",{class:B({active:g(l).tagIndex===2})},[f(p,{to:{name:"SpaceSettings",params:{team:g(l).team,space:g(l).space,type:"permissions"}}},{default:D(()=>[zx]),_:1},8,["to"])],2),e("div",{class:B({active:g(l).tagIndex===3})},[f(p,{to:{name:"SpaceSettings",params:{team:g(l).team,space:g(l).space,type:"recycle"}}},{default:D(()=>[Dx]),_:1},8,["to"])],2)]),e("div",Bx,[e("div",Lx,[(c(),N(le(g(d))))])])])}}};var Vx=w(Ux,[["__scopeId","data-v-ece361ca"]]);const Hx={setup(){const{proxy:s}=I();let a=P(),o=C(),t=S({team:o.params.team,title:o.params.title,issue_type:o.params.issue_type,items:[]});T(()=>{l()});let l=()=>{t.title||s.get(s.urls.issue_type_get.format(t.team,t.issue_type)).then(function(i){t.title=i.data.name})};return{self:t,gotoClick:i=>{a.push({name:"IssueTypeSetting",params:{team:t.team,issue_type:t.issue_type,title:t.title,type:i}})}}}},Ax={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},Nx={style:{flex:"0 0 auto",display:"flex"}},qx=e("span",{class:"fs-c10"},"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1),Ex=e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),Fx={style:{color:"#909090"}},Ox={class:"px-4"},Rx=e("div",{style:{flex:"0 0 auto",width:"30px","padding-top":"5px"}},[e("div",{style:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle"}},[e("svg",{t:"1600923190201",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8255",width:"16",height:"16"},[e("path",{d:"M488.496187 960.193409H80.458195V63.659232h745.638222v327.579795c0 16.356886 13.26234 29.619226 29.619226 29.619226s29.619226-13.26234 29.619225-29.619226V34.187365c0-7.957404-3.094546-15.325371-8.6942-20.925025-5.599655-5.599655-12.967621-8.694201-20.925025-8.694201H50.83897C43.028925 4.568139 35.513599 7.662685 29.913944 13.26234 24.31429 18.861995 21.367103 26.229961 21.367103 34.187365v955.62527c0 7.810045 3.094546 15.47273 8.694201 20.925025 5.599655 5.599655 12.967621 8.694201 20.925025 8.694201h437.657217c16.356886 0 29.619226-13.26234 29.619226-29.619226-0.147359-16.356886-13.409699-29.619226-29.766585-29.619226z",fill:"#707070","p-id":"8256"}),e("path",{d:"M460.055835 577.943301c-11.346669-37.134552-45.828752-62.775076-84.878975-62.775075s-73.384947 25.640524-84.878975 62.775075H156.495611c-16.356886 0-29.619226 13.26234-29.619226 29.619226 0 16.356886 13.26234 29.619226 29.619226 29.619226h136.307382c13.557059 33.450568 46.27083 55.701828 82.373867 55.701827s68.816808-22.251259 82.373867-55.701827h171.820981c16.356886 0 29.619226-13.26234 29.619226-29.619226 0-16.356886-13.26234-29.619226-29.619226-29.619226H460.055835z m-55.11239 26.082602c0 16.356886-13.26234 29.619226-29.766585 29.766585C358.819974 633.645129 345.557634 620.382789 345.557634 604.025903s13.26234-29.766585 29.766585-29.766585c7.957404 0 15.325371 3.094546 20.925025 8.6942 5.599655 5.599655 8.694201 13.114981 8.694201 21.072385zM156.495611 254.931645h137.633616c14.293855 32.124334 45.828752 52.754641 81.047633 52.754641s66.753778-20.630307 81.047633-52.754641h293.687149c10.462513 0 20.335588-5.599655 25.640524-14.735933 5.304936-9.136279 5.304936-20.482947 0-29.619226-5.304936-9.136279-15.030652-14.735933-25.640524-14.735933H460.939991c-10.315153-38.313426-45.828752-65.869622-85.763131-65.869622s-75.447978 27.408836-85.763131 65.869622H156.495611c-10.462513 0-20.335588 5.599655-25.640524 14.735933-5.304936 9.136279-5.304936 20.482947 0 29.619226 5.304936 8.988919 15.178011 14.735933 25.640524 14.735933zM345.557634 218.681249c0-16.356886 13.26234-29.619226 29.766585-29.619226 7.957404 0 15.325371 3.094546 20.925025 8.694201 5.599655 5.599655 8.694201 13.114981 8.694201 20.925025 0 16.356886-13.26234 29.619226-29.766585 29.766585-16.356886 0-29.619226-13.409699-29.619226-29.766585zM1000.717226 560.5549c-1.326234-7.810045-5.452295-14.588574-11.936106-19.304073l-122.602965-88.12088c-6.483811-4.568139-14.293855-6.483811-22.1039-5.157577-7.810045 1.326234-14.588574 5.452295-19.304072 11.936106L592.973953 782.478054c-2.505109 3.389265-4.126061 7.367967-5.010217 11.494028L551.860699 973.455749c-2.357749 11.346669 2.357749 23.135415 11.788747 29.913944 5.157577 3.683983 11.199309 5.599655 17.241042 5.599655 5.157577 0 10.167794-1.326234 14.735933-3.978702l158.706001-91.362786c3.683983-2.063031 6.778529-4.862858 9.283638-8.399482l231.943589-322.569578c4.568139-6.483811 6.483811-14.293855 5.157577-22.1039z m-70.437761 11.494028L719.260901 865.441358 622.740538 920.995827l21.956541-109.193265 211.018564-293.392431 74.563822 53.638797zM770.984026 437.362498c5.599655-5.599655 8.694201-12.967621 8.694201-20.925025 0-7.957404-3.094546-15.325371-8.694201-20.925025-5.599655-5.599655-12.967621-8.694201-20.925025-8.694201h-126.581666c-10.904591-38.018708-45.534034-64.248669-85.321054-64.248669s-74.416463 26.229961-85.321053 64.248669H156.495611c-16.356886 0-29.619226 13.26234-29.619226 29.619226 0 16.356886 13.26234 29.619226 29.619226 29.619226h300.0236c13.851777 32.566412 46.27083 54.228234 81.78443 54.228234 35.36624 0 67.785293-21.661822 81.63707-54.228234h130.11829c7.810045 0 15.325371-3.094546 20.925025-8.694201z m-232.827745 3.683984c-16.356886 0-29.619226-13.409699-29.766585-29.766586 0-16.356886 13.409699-29.619226 29.766585-29.619225s29.619226 13.409699 29.766586 29.619225c0 16.504245-13.409699 29.766585-29.766586 29.766586z",fill:"#707070","p-id":"8257"})])])],-1),Gx=X('<div style="flex:1;margin-left:5px;"><div style="font-size:15px;">\u5DE5\u4F5C\u9879\u5C5E\u6027</div><div style="color:#aaaaaa;">\u5DE5\u4F5C\u9879\u5C5E\u6027\u53EF\u4EE5\u7528\u4E8E\u5B9A\u5236\u5BF9\u5E94\u5DE5\u4F5C\u9879\u7C7B\u578B\u7684\u663E\u793A\u5B57\u6BB5\uFF0C\u652F\u6301\u591A\u79CD\u7C7B\u578B\u7684\u7279\u6B8A\u5B9A\u5236\u3002</div></div><div style="flex:0 0 auto;"><div style="display:flex;flex:1;flex-direction:column;align-items:center;justify-content:center;vertical-align:middle;height:100%;"><i class="bi bi-chevron-right fs-c10"></i></div></div>',2),Wx=[Rx,Gx],Kx=e("div",{style:{flex:"0 0 auto",width:"30px","padding-top":"5px"}},[e("div",{style:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle"}},[e("svg",{t:"1600923240386",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9101",width:"16",height:"16"},[e("path",{d:"M851.49696 979.49696H177.4592c-37.23264 0-67.39968-28.16-67.39968-62.93504V444.74368c0-34.73408 30.18752-62.89408 67.39968-62.89408h674.03776c37.21216 0 67.39968 28.18048 67.39968 62.89408v471.81824c0 34.75456-30.18752 62.93504-67.39968 62.93504zM514.4576 539.136c-55.84896 0-101.10976 42.22976-101.10976 94.35136 0 31.47776 16.73216 59.12576 42.16832 76.1856a18.0224 18.0224 0 0 1 8.37632 14.86848v79.99488c0 27.11552 22.6304 49.13152 50.56512 49.13152 27.89376 0 50.54464-22.016 50.54464-49.13152v-79.99488c0-6.08256 3.33824-11.4688 8.37632-14.86848 25.43616-17.08032 42.16832-44.70784 42.16832-76.1856 0.02048-52.1216-45.21984-94.35136-101.08928-94.35136z m0-408.94464c-106.25024 0-193.37216 76.4928-201.58464 173.69088-0.7168 8.37632-7.2704 15.03232-15.6672 15.03232h-69.77536c-8.88832 0-16.32256-7.41376-15.79008-16.30208C220.69248 153.86624 352.80896 35.84 514.4576 35.84s293.76512 118.02624 302.81728 266.77248c0.53248 8.88832-6.90176 16.30208-15.79008 16.30208h-69.77536c-8.41728 0-14.97088-6.656-15.6672-15.03232-8.21248-97.19808-95.3344-173.69088-201.58464-173.69088z",fill:"#707070","p-id":"9102"})])])],-1),Jx=X('<div style="flex:1;margin-left:5px;"><div style="font-size:15px;">\u5DE5\u4F5C\u9879\u6743\u9650</div><div style="color:#aaaaaa;">\u5DE5\u4F5C\u9879\u6743\u9650\u53EF\u4EE5\u7528\u4E8E\u5B9A\u5236\u5DE5\u4F5C\u9879\u7684\u64CD\u4F5C\u6743\u9650\u63A7\u5236\u3002</div></div><div style="flex:0 0 auto;"><div style="display:flex;flex:1;flex-direction:column;align-items:center;justify-content:center;vertical-align:middle;height:100%;"><i class="bi bi-chevron-right fs-c10"></i></div></div>',2),Yx=[Kx,Jx],Qx=e("div",{style:{flex:"0 0 auto",width:"30px","padding-top":"5px"}},[e("div",{style:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle"}},[e("svg",{t:"1600922992066",class:"icon",viewBox:"0 0 1071 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6388",width:"16",height:"16"},[e("path",{d:"M884.364 465.455h-46.546c-25.716 0-46.545-20.83-46.545-46.546s20.829-46.545 46.545-46.545h46.546c51.41 0 93.09-41.682 93.09-93.091 0-51.41-41.68-93.091-93.09-93.091h-46.546c-25.716 0-46.545-20.853-46.545-46.546 0-25.716 20.829-46.545 46.545-46.545h46.546c102.819 0 186.181 83.363 186.181 186.182 0 102.819-83.362 186.182-186.181 186.182zM721.454 1024H349.092c-25.716 0-46.546-20.852-46.546-46.545V791.273c0-25.717 20.83-46.546 46.546-46.546h372.364c25.716 0 46.545 20.83 46.545 46.546v186.182c0 25.693-20.83 46.545-46.545 46.545z m-93.09-186.182H442.182c-25.717 0-46.546 20.83-46.546 46.546s20.83 46.545 46.546 46.545h186.182c25.716 0 46.545-20.829 46.545-46.545 0-25.717-20.829-46.546-46.545-46.546z m93.09-186.182H349.092c-25.716 0-46.546-20.852-46.546-46.545V418.909c0-25.716 20.83-46.545 46.546-46.545h372.364c25.716 0 46.545 20.829 46.545 46.545v186.182c0 25.693-20.83 46.545-46.545 46.545z m-93.09-186.181H442.182c-25.717 0-46.546 20.829-46.546 46.545s20.83 46.545 46.546 46.545h186.182c25.716 0 46.545-20.829 46.545-46.545s-20.829-46.545-46.545-46.545z m93.09-186.182H349.092c-25.716 0-46.546-20.853-46.546-46.546V46.545C302.545 20.83 323.375 0 349.091 0h372.364C747.17 0 768 20.83 768 46.545v186.182c0 25.693-20.83 46.546-46.545 46.546zM628.365 93.09H442.182c-25.717 0-46.546 20.829-46.546 46.545 0 25.693 20.83 46.546 46.546 46.546h186.182c25.716 0 46.545-20.853 46.545-46.546 0-25.716-20.829-46.545-46.545-46.545zM186.182 791.273h46.545c25.717 0 46.546 20.829 46.546 46.545 0 25.693-20.83 46.546-46.546 46.546h-46.545C83.362 884.364 0 801 0 698.182 0 595.362 83.363 512 186.182 512h46.545c25.717 0 46.546 20.83 46.546 46.545 0 25.717-20.83 46.546-46.546 46.546h-46.545c-51.41 0-93.091 41.681-93.091 93.09 0 51.41 41.681 93.092 93.09 93.092z","p-id":"6389",fill:"#707070"})])])],-1),Zx=X('<div style="flex:1;margin-left:5px;"><div style="font-size:15px;">\u5DE5\u4F5C\u9879\u5DE5\u4F5C\u6D41</div><div style="color:#aaaaaa;">\u5DE5\u4F5C\u6D41\u53EF\u4EE5\u7528\u4E8E\u5B9A\u5236\u5BF9\u5E94\u5DE5\u4F5C\u9879\u5728\u4E0D\u540C\u72B6\u6001\u9636\u6BB5\u7684\u6D41\u8F6C\u3002</div></div><div style="flex:0 0 auto;"><div style="display:flex;flex:1;flex-direction:column;align-items:center;justify-content:center;vertical-align:middle;height:100%;"><i class="bi bi-chevron-right fs-c10"></i></div></div>',2),Xx=[Qx,Zx];function eg(s,a,o,t,l,d){const i=h("router-link");return c(),m(j,null,[e("div",Ax,[e("div",Nx,[f(i,{to:{name:"IssueTypeSettingManager",params:{team:t.self.team}}},{default:D(()=>[qx]),_:1},8,["to"])]),Ex,e("div",Fx,v(t.self.title),1)]),e("div",Ox,[e("div",{class:"flex-row flex py-4 pe-3 b-line pointer hover",onClick:a[0]||(a[0]=n=>t.gotoClick("field"))},Wx),e("div",{class:"flex-row flex py-4 pe-3 b-line pointer hover",onClick:a[1]||(a[1]=n=>t.gotoClick("permission"))},Yx),e("div",{class:"flex-row flex py-4 pe-3 b-line pointer hover",onClick:a[2]||(a[2]=n=>t.gotoClick("flow"))},Xx)])],64)}var tg=w(Hx,[["render",eg]]);const sg={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,project:a.params.project,issue_type:a.params.issue_type,title:a.params.title,name:"",fields:[],fieldTemplates:[],desc:"\u914D\u7F6E\u4E2D\u5FC3\u4E0B\uFF0C\u5DE5\u4F5C\u9879\u5C5E\u6027\u4FEE\u6539\uFF0C\u4E0D\u4F1A\u540C\u6B65\u5230\u5DF2\u7ECF\u5E94\u7528\u7684\u9879\u76EE\u4E2D\u3002"});T(()=>{t(),l()});let t=()=>{s.get(s.urls.issue_type_template_get.format(o.team,o.issue_type)).then(function(i){o.title=i.data.name,o.fieldTemplates=i.data.default_configs.default_field_configs})},l=()=>{s.post(s.urls.issue_type_field_list.format(o.team)).then(function(i){o.fields=i.data})},d=Q(()=>{let i=[];if(o.fieldTemplates.length>0&&o.fields.length>0)for(let n=0;n<o.fieldTemplates.length;n++){let _={};for(let r=0;r<o.fields.length;r++)if(o.fieldTemplates[n].field_uuid===o.fields[r].uuid){Object.assign(_,o.fieldTemplates[n]),Object.assign(_,o.fields[r]);break}i.push(_)}return i});return{self:o,items:d}},components:{Search:J,Summary:ne}},ag={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},og={style:{flex:"0 0 auto",display:"flex"}},lg=e("span",{class:"fs-c10"},"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1),ig=e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),ng={class:"fs-c10"},rg=e("div",{style:{margin:"0 10px"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),dg=e("div",{class:"flex-fill"},[e("span",{style:{color:"#909090"}},"\u5DE5\u4F5C\u9879\u5C5E\u6027")],-1),cg={class:"flex-row flex align-items-center justify-content-end;"},_g={class:"px-4"},mg={class:"flex-row flex mt-3"},pg={style:{flex:"1"}},ug={class:"t-line l-line r-line mt-3"},fg={class:"table table-hover"},hg=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u5C5E\u6027\u540D\u79F0"),e("th",{scope:"col"},"\u5C5E\u6027\u7C7B\u578B"),e("th",{scope:"col"},"\u662F\u5426\u5FC5\u586B"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),xg={class:"flex-row flex align-items-center"},gg={style:{flex:"0 0 auto"}},vg={style:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},yg={key:0,style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},bg={class:"td"},kg={key:0,style:{"font-weight":"bolder","text-align":"center",width:"30px"}},wg=["onUpdate:modelValue","onChange"],$g={key:1,style:{width:"30px",height:"2px"}},jg=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),Sg=[jg],Cg={class:"td align-items-center iop",style:{display:"flex",flex:"0 0 80px"}},Ig={key:0,style:{"font-weight":"bolder","text-align":"center",width:"30px"},class:"del"},Tg=e("i",{class:"bi bi-x-lg"},null,-1),Mg=[Tg],Pg={key:1,style:{width:"30px",height:"2px"}},zg=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),Dg=[zg];function Bg(s,a,o,t,l,d){const i=h("router-link"),n=h("Summary"),_=h("Search");return c(),m(j,null,[e("div",ag,[e("div",og,[f(i,{to:{name:"IssueTypeSettingManager",params:{team:t.self.team}}},{default:D(()=>[lg]),_:1},8,["to"])]),ig,e("div",null,[f(i,{to:{name:"IssueTypeSetting",params:{team:t.self.team,issue_type:t.self.issue_type,type:"config",title:t.self.title}}},{default:D(()=>[e("span",ng,v(t.self.title),1)]),_:1},8,["to"])]),rg,dg,e("div",cg,[f(n,{desc:t.self.desc},null,8,["desc"])])]),e("div",_g,[e("div",mg,[e("div",pg,[f(_,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u5C5E\u6027"})])]),e("div",ug,[e("table",fg,[hg,e("tbody",null,[(c(!0),m(j,null,z(t.items,r=>(c(),m("tr",{key:r.uuid},[e("td",null,[e("div",xg,[e("div",gg,v(r.name),1),e("div",vg,[r.built_in?(c(),m("div",yg,"\u7CFB\u7EDF")):M("",!0)])])]),e("td",null,v(s.filters.taskFieldType(r.type)),1),e("td",null,[e("div",bg,[r.can_modify_required?(c(),m("div",kg,[V(e("input",{type:"checkbox","onUpdate:modelValue":p=>r.required=p,name:"check-button",onChange:p=>s.toggle(r)},null,40,wg),[[he,r.required]])])):(c(),m("div",$g,Sg))])]),e("td",null,[e("div",Cg,[r.can_delete?(c(),m("div",Ig,Mg)):(c(),m("div",Pg,Dg))])])]))),128))])])])])],64)}var Lg=w(sg,[["render",Bg]]);const Ug={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,project:a.params.project,issue_type:a.params.issue_type,title:a.params.title,flows:[],headers:[],lock:!0,taskStatusConfigs:[],transitions:[],taskStatusItems:[],desc:"\u914D\u7F6E\u4E2D\u5FC3\u4E0B\uFF0C\u5DE5\u4F5C\u9879\u5DE5\u4F5C\u6D41\u4FEE\u6539\uFF0C\u4E0D\u4F1A\u540C\u6B65\u5230\u5DF2\u7ECF\u5E94\u7528\u7684\u9879\u76EE\u4E2D\u3002"});T(()=>{l()});let t=(i,n,_,r,p)=>{if(o.lock){o.lock=!1;let u={uuid:i,name:n,start_status:_,end_status:r,state:p};s.post(s.urls.project_issue_type_flow_submit.format(o.team,o.project,o.issue_type),u).then(function(){l(),o.lock=!0})}},l=()=>{s.get(s.urls.issue_type_template_get.format(o.team,o.issue_type)).then(function(i){o.title=i.data.name,o.taskStatusConfigs=i.data.default_configs.default_task_status_configs,o.transitions=i.data.default_configs.default_transitions,d()})},d=()=>{let i=[];for(let n=0;n<o.taskStatusConfigs.length;n++)i.push(o.taskStatusConfigs[n].status_uuid);s.post(s.urls.issue_type_task_status_list.format(o.team,o.issue_type),i).then(function(n){o.taskStatusItems=n.data,o.headers=[],o.flows=[];for(let _=0;_<o.taskStatusConfigs.length;_++){let r=o.taskStatusConfigs[_].status_uuid,p={items:[]};for(let u=0;u<o.taskStatusConfigs.length;u++){let x=o.taskStatusConfigs[u].status_uuid,b={start:r,end_uuid:x,uuid:"{0}-{1}".format(r,x)};for(let $=0;$<o.transitions.length;$++)if(o.transitions[$].start_status_uuid===r&&o.transitions[$].end_status_uuid===x){b.sel=!0;break}else b.sel=!1;p.items.push(b)}for(let u=0;u<o.taskStatusItems.length;u++)if(o.taskStatusConfigs[_].status_uuid===o.taskStatusItems[u].uuid){o.headers.push(o.taskStatusItems[u]),Object.assign(p,o.taskStatusItems[u]),o.flows.push(p);break}}})};return{self:o,change_task_status:t}},components:{ColorStatus:bt,Summary:ne}},Ce=s=>(H("data-v-a22bd666"),s=s(),A(),s),Vg={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},Hg={style:{flex:"0 0 auto",display:"flex"}},Ag=Ce(()=>e("span",{class:"fs-c10"},"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1)),Ng=Ce(()=>e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1)),qg={class:"fs-c10"},Eg=Ce(()=>e("div",{style:{margin:"0 10px"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1)),Fg=Ce(()=>e("div",{class:"flex-fill"},[e("span",{style:{color:"#909090"}},"\u5DE5\u4F5C\u9879\u5DE5\u4F5C\u6D41")],-1)),Og={class:"flex-row flex align-items-center justify-content-end;"},Rg={class:"px-4"},Gg={class:"t-line l-line r-line mt-3"},Wg={class:"flex-column flex workFlowTable",style:{"border-left":"1px solid #dedede","border-top":"1px solid #dedede"}},Kg={style:{flex:"1"}},Jg={class:"flex-row flex",style:{flex:"1","background-color":"#f8f8f8","border-bottom":"1px solid #dedede",height:"60px"}},Yg=X('<div style="flex:0 0 auto;display:flex;width:200px;height:60px;position:relative;" data-v-a22bd666><div style="flex:0 0 auto;border-right:1px solid #dedede;position:absolute;height:60px;width:200px;" data-v-a22bd666><div style="" class="table-head-title" data-v-a22bd666><div data-v-a22bd666><div class="start-status-title" style="height:initial;" data-v-a22bd666>\u5F00\u59CB\u72B6\u6001</div></div><div data-v-a22bd666><div class="end-status-title" style="height:initial;" data-v-a22bd666>\u76EE\u6807\u72B6\u6001</div></div></div></div></div>',1),Qg={style:{flex:"1"},class:"flex-column flex"},Zg={style:{flex:"0 0 200px",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px",width:"200px"}},Xg={class:"flex-row flex"},ev={style:{flex:"0 0 auto"}},tv={key:0,style:{"margin-left":"5px"}},sv=Ce(()=>e("div",{style:{"font-size":"12px",color:"#909090",display:"inline-block",height:"20px","line-height":"18px",border:"1px solid rgba(134,147,160,0.5)","border-radius":"20px",padding:"0px 8px"}},"\u521D\u59CB\u72B6\u6001",-1)),av=[sv],ov=["onUpdate:modelValue","onChange"];function lv(s,a,o,t,l,d){const i=h("router-link"),n=h("Summary"),_=h("ColorStatus");return c(),m(j,null,[e("div",Vg,[e("div",Hg,[f(i,{to:{name:"IssueTypeSettingManager",params:{team:t.self.team}}},{default:D(()=>[Ag]),_:1},8,["to"])]),Ng,e("div",null,[f(i,{to:{name:"IssueTypeSetting",params:{team:t.self.team,issue_type:t.self.issue_type,type:"config",title:t.self.title}}},{default:D(()=>[e("span",qg,v(t.self.title),1)]),_:1},8,["to"])]),Eg,Fg,e("div",Og,[f(n,{desc:t.self.desc},null,8,["desc"])])]),e("div",Rg,[e("div",Gg,[e("div",Wg,[e("div",Kg,[e("div",Jg,[Yg,(c(!0),m(j,null,z(t.self.headers,r=>(c(),m("div",{class:"flex-row flex align-items-center justify-content-center",style:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede"},key:r.uuid},[e("div",null,[f(_,{color:r.category.toString(),name:r.name},null,8,["color","name"])])]))),128))])]),e("div",Qg,[(c(!0),m(j,null,z(t.self.flows,r=>(c(),m("div",{class:"flex-row flex align-items-center",style:{flex:"1","border-bottom":"1px solid #dedede"},key:r.uuid},[e("div",Zg,[e("div",Xg,[e("div",ev,[f(_,{color:r.category.toString(),name:r.name},null,8,["color","name"])]),r.default?(c(),m("div",tv,av)):M("",!0)])]),(c(!0),m(j,null,z(r.items,p=>(c(),m("div",{class:"align-items-center flex-row flex justify-content-center",style:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px"},key:p.uuid},[V(e("input",{style:{height:"16px",width:"16px"},type:"checkbox","onUpdate:modelValue":u=>p.sel=u,onChange:u=>t.change_task_status(p.uuid,p.name,p.start_uuid,p.end_uuid,p.sel)},null,40,ov),[[he,p.sel]])]))),128))]))),128))])])])])],64)}var iv=w(Ug,[["render",lv],["__scopeId","data-v-a22bd666"]]);const nv={props:{group:Object,role_members:Array,data:Object,issue_type:String,issue_type_name:String},emits:["loadIssuePermissions"],setup(s){const{proxy:a}=I();P();let o=C(),t=S({team:o.params.team,everyone:{uuid:"s3",name:"\u6240\u6709\u6210\u5458",desc:"\u5F53\u524D\u56E2\u961F\u6240\u6709\u6210\u5458",type:"everyone",param:""},project_assign:{uuid:"s16",name:"\u9879\u76EE\u8D1F\u8D23\u4EBA",type:"project_assign",param:""},team_owner:{uuid:"s10",name:"\u56E2\u961F\u8D1F\u8D23\u4EBA",type:"team_owner",param:""},template:{roles:{uuid:"role",title:"\u89D2\u8272",groups:[],exist:[]},members:{uuid:"member",title:"\u6210\u5458",groups:[],exist:[],isMember:!0}},exist:[],title:"",desc:"",permission:""});T(()=>{t.title=s.group.title.replace("#",s.issue_type_name),t.desc=s.group.desc.replace("#",s.issue_type_name),t.permission=s.group.permission});let l=(n,_)=>{s.data.permission_rule.permission=s.group.permission,s.data.permission_rule.user_domain_type=_,s.data.permission_rule.user_domain_param=n,a.post(a.urls.issue_type_permission_rules_add.format(t.team,s.issue_type),s.data).then(function(){a.$emit("loadIssuePermissions")})},d=n=>{a.get(a.urls.issue_type_permission_rule_delete.format(t.team,s.issue_type,n)).then(function(){a.$emit("loadIssuePermissions")})},i=Q(()=>{let n=[],_=[],r=[];if(t.exist=[],s.group.groups)for(let y=0;y<s.group.groups.length;y++){let k=s.group.groups[y],U=!1;switch(k.type){case"single_user":r.push(k.param);for(let E=0;E<s.group.members.length;E++){let R=s.group.members[E];if(R.uuid===k.param){let K={uuid:R.uuid,permission:k.uuid,name:R.name,type:"single_user"};t.exist.push(K);break}}break;case"everyone":t.everyone.permission=k.uuid,t.exist.push(t.everyone);break;case"role":for(let E=0;E<s.group.roles.length;E++){let R=s.group.roles[E];if(R.uuid===k.param){R.permission=k.uuid,t.exist.push(R);break}}break;case"project_assign":t.project_assign.permission=k.uuid,t.exist.push(t.project_assign);break;default:U=!0;break}U||n.push(k.type)}let p=[];for(let y=0;y<s.group.in_roles.length;y++){let k=s.group.in_roles[y];p.push(t[k])}for(let y=0;y<s.group.roles.length;y++){let k=s.group.roles[y];k.param=k.uuid,p.push(k)}let u=[];for(let y=0;y<s.group.members.length;y++){let k=s.group.members[y];k.param=k.uuid,u.push(k)}let x=t.template,b=[];for(let y=0;y<p.length;y++){let k=p[y],U=!1;for(let E=0;E<n.length;E++)if(k.type===n[E]){U=!0;break}U||b.push(k)}x.roles.groups=b,_.push(x.roles);let $=[];for(let y=0;y<u.length;y++){let k=u[y],U=!1;for(let E=0;E<r.length;E++)if(k.uuid===r[E]){U=!0;break}U||$.push(k)}return x.members.groups=$,_.push(x.members),_});return{self:t,add:l,del:d,items:i}},components:{PermissionItem:gt}};function rv(s,a,o,t,l,d){const i=h("PermissionItem");return c(),N(i,{exist:t.self.exist,items:t.items,title:t.self.title,desc:t.self.desc,onAdd:t.add,onDel:t.del},null,8,["exist","items","title","desc","onAdd","onDel"])}var dv=w(nv,[["render",rv]]);const cv={setup(){const{proxy:s}=I();P();let a=C(),o=S({team:a.params.team,issue_type:a.params.issue_type,title:a.params.title,maps:{create:{permission:"create_tasks",title:"\u521B\u5EFA#",desc:"\u5141\u8BB8\u6210\u5458\u521B\u5EFA#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},view:{permission:"view_tasks",title:"\u67E5\u770B#",desc:"\u5141\u8BB8\u6210\u5458\u67E5\u770B#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},update:{permission:"update_tasks",title:"\u7F16\u8F91#",desc:"\u5141\u8BB8\u6210\u5458\u4FEE\u6539#\uFF0C\u4EE5\u53CA\u5BF9#\u8FDB\u884C\u5176\u4ED6\u53D8\u66F4\u64CD\u4F5C",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},delete:{permission:"delete_tasks",title:"\u5220\u9664#",desc:"\u5141\u8BB8\u6210\u5458\u5220\u9664#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},transit:{permission:"transit_tasks",title:"\u66F4\u65B0#\u72B6\u6001",desc:"\u5141\u8BB8\u6210\u5458\u66F4\u65B0#\u72B6\u6001",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]}},role_members:[],loaded:!1,data:{permission_rule:{}},desc:"\u914D\u7F6E\u4E2D\u5FC3\u4E0B\uFF0C\u5DE5\u4F5C\u9879\u6743\u9650\u4FEE\u6539\uFF0C\u4E0D\u4F1A\u540C\u6B65\u5230\u5DF2\u7ECF\u5E94\u7528\u7684\u9879\u76EE\u4E2D\u3002"});T(()=>{t()});let t=()=>{s.get(s.urls.issue_type_template_get.format(o.team,o.issue_type)).then(function(d){o.title=d.data.name;let i=d.data.default_configs.default_permission;for(let n in o.maps){let _=o.maps[n];_.groups=[]}for(let n in o.maps){let _=[],r=o.maps[n];for(let p=0;p<i.length;p++){let u=i[p];if(u.permission===r.permission){let x={uuid:u.uuid,param:u.user_domain_param,type:u.user_domain_type};_.push(x)}}r.groups=_}l()})},l=()=>{s.get(s.urls.team_roles_members.format(o.team)).then(function(d){for(let i in o.maps){let n=o.maps[i],_=[];for(let p=0;p<d.data.roles.length;p++){let u=d.data.roles[p],x={type:"role",name:u.name,name_pinyin:u.name_pinyin,uuid:u.uuid};_.push(x)}let r=[];for(let p=0;p<d.data.members.length;p++){let u=d.data.members[p];u.type="single_user",r.push(u)}n.roles=_,n.members=r}o.loaded=!0})};return{self:o,project_issue_type_field:t}},components:{PermissionItem:dv,Summary:ne}},_v={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},mv={style:{flex:"0 0 auto",display:"flex"}},pv=e("span",{class:"fs-c10"},"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1),uv=e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),fv={class:"fs-c10"},hv=e("div",{style:{margin:"0 10px"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),xv=e("div",{class:"flex-fill"},[e("span",{style:{color:"#909090"}},"\u5DE5\u4F5C\u9879\u6743\u9650")],-1),gv={class:"flex-row flex align-items-center justify-content-end;"},vv={key:0,class:"px-4"};function yv(s,a,o,t,l,d){const i=h("router-link"),n=h("Summary"),_=h("PermissionItem");return c(),m(j,null,[e("div",_v,[e("div",mv,[f(i,{to:{name:"IssueTypeSettingManager",params:{team:t.self.team}}},{default:D(()=>[pv]),_:1},8,["to"])]),uv,e("div",null,[f(i,{to:{name:"IssueTypeSetting",params:{team:t.self.team,issue_type:t.self.issue_type,type:"config",title:t.self.title}}},{default:D(()=>[e("span",fv,v(t.self.title),1)]),_:1},8,["to"])]),hv,xv,e("div",gv,[f(n,{desc:t.self.desc},null,8,["desc"])])]),t.self.loaded?(c(),m("div",vv,[(c(!0),m(j,null,z(t.self.maps,(r,p)=>(c(),N(_,{role_members:t.self.role_members,data:t.self.data,group:r,issue_type_name:t.self.title,issue_type:t.self.issue_type,key:p,onLoadIssuePermissions:t.project_issue_type_field},null,8,["role_members","data","group","issue_type_name","issue_type","onLoadIssuePermissions"]))),128))])):M("",!0)],64)}var bv=w(cv,[["render",yv]]);const kv={components:{config:tg,field:Lg,flow:iv,permission:bv},setup(){let s=C(),a=S({currentTabComponent:"config",tagIndex:11});T(()=>{o()}),G(()=>s.params,()=>{o()});let o=()=>{a.currentTabComponent=s.params.type};return{self:a}}};function wv(s,a,o,t,l,d){return c(),N(le(t.self.currentTabComponent))}var $v=w(kv,[["render",wv]]);const jv=[{path:"/",meta:{title:"\u7231\u65AF\u56ED - \u4E0A\u5584\u82E5\u6C34\uFF0C\u8D24\u8D24\u6613\u8272"},name:"Index",component:lo},{path:"/reg",meta:{title:"\u6CE8\u518C - \u7231\u65AF\u56ED"},name:"Reg",component:No},{path:"/logout",meta:{title:"\u9000\u51FA\u767B\u5F55"},name:"Logout",component:Fo},{path:"/help",meta:{title:"\u7231\u65AF\u56ED - \u5E2E\u52A9\u6587\u6863"},name:"Help",component:vl},{path:"/team",meta:{title:"\u6211\u7684\u5DE5\u4F5C\u53F0"},name:"Layout",component:Ga,children:[{path:":team/setting/project",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3"},name:"ProjectSetting",component:ht,children:[{path:"manager",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"ProjectSettingManager",component:e8},{path:"field",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"ProjectSettingField",component:f8},{path:"status",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"ProjectSettingStatus",component:C8},{path:":project/permission",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"ProjectPermissionSetting",component:a9}]},{path:":team/setting/issue_type",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3"},name:"TeamIssueTypeSetting",component:ht,children:[{path:"manager",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"IssueTypeSettingManager",component:R8},{path:"field",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"IssueTypeSettingField",component:Ph},{path:"status",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"IssueTypeSettingStatus",component:Nh},{path:"priority",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"IssueTypeSettingPriority",component:Xh},{path:":issue_type/:type",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"IssueTypeSetting",component:$v}]},{path:":team/project_list",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21},name:"Projects",component:Dn},{path:":team/project_add",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21},name:"AddProject",component:O5},{path:":team/project/:project",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21},name:"Project",component:W5},{path:":team/wiki",meta:{title:"\u6587\u6863\u4E2D\u5FC3",tagIndex:23},name:"Spaces",component:vr},{path:":team/setting/wiki/:type",meta:{title:"\u6587\u6863\u914D\u7F6E\u4E2D\u5FC3",tagIndex:83},name:"WikiSetting",component:kd},{path:":team/setting/:type",meta:{title:"\u56E2\u961F\u914D\u7F6E\u4E2D\u5FC3",tagIndex:26},name:"TeamSetting",component:m1},{path:":team/center/:type",meta:{title:"\u4E2A\u4EBA\u4E2D\u5FC3"},name:"Center",component:B5},{path:":team/workbench/:type",meta:{title:"\u6211\u7684\u5DE5\u4F5C\u53F0",tagIndex:1},name:"Workbench",component:Zi},{path:":team/project/:project/component/:com",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21,tab:"project"},name:"Component",component:Be},{path:":team/project/:project/component/:com/:attr",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21,tab:"project"},name:"ComponentDesigner",component:Be},{path:":team/project/:project/component/:com/issue_type/:issue_type/:attr",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21,tab:"project"},name:"ComponentIssueTypeDesigner",component:Be},{path:":team/project/:project/component/:com/task/:task",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21,tab:"project"},name:"Task",component:Be}]},{path:"/team",meta:{title:"\u6587\u6863"},name:"Wiki",component:fl,children:[{path:":team/space/:space",meta:{title:"\u6587\u6863\u4E2D\u5FC3"},name:"Space",component:o9},{path:":team/space/:space/article",meta:{title:"\u6587\u6863\u4E2D\u5FC3"},name:"Article",component:X9,children:[{path:"page/:page",meta:{title:"\u6587\u6863\u4E2D\u5FC3"},name:"Page",component:S7},{path:"draft/:draft",meta:{title:"\u6587\u6863\u4E2D\u5FC3"},name:"Draft",component:W7}]},{path:":team/space/:space/page/:page/add",meta:{title:"\u6DFB\u52A0\u9875\u9762"},name:"AddPage",component:dx},{path:":team/space/:space/page/:page/edit",meta:{title:"\u7F16\u8F91\u9875\u9762"},name:"EditPage",component:Ct},{path:":team/space/:space/draft/:draft/edit",meta:{title:"\u7F16\u8F91\u9875\u9762"},name:"EditDraft",component:Ct},{path:":team/space/:space/settings/:type",meta:{title:"\u9875\u9762\u7EC4\u8BBE\u7F6E",tagIndex:83},name:"SpaceSettings",component:Vx}]}],Mt=Dt({history:Bt(),routes:jv});String.prototype.format=function(){let s=arguments;return this.replace(/\{(\d+)\}/g,function(a,o){return s[o]})};let Sv={team_create:"/api/team",login_url:"/api/login",check_login_status:"/api/check_login_status",logout:"/api/logout",send_phone_code:"/api/send_phone_code/{0}",user_get:"/api/user/{0}",user_update:"/api/user/{0}/update",teams_get:"/api/get_teams",team_add:"/api/add_team",team_get:"/api/team/{0}",team_default_set:"/api/team/{0}/set_team_default",team_global_setting:"/api/team/{0}/global_setting",team_global_setting_update:"/api/team/{0}/global_setting_update",team_update:"/api/team/{0}/update",team_member_list:"/api/team/{0}/get_team_members",team_member_add:"/api/team/{0}/members/add",team_member_update:"/api/team/{0}/members/update",team_member_delete:"/api/team/{0}/members/delete",team_project_list:"/api/team/{0}/projects",team_recent_projects:"/api/team/{0}/recent_projects",team_recent_spaces:"/api/team/{0}/recent_spaces",team_roles_members:"/api/team/{0}/team_roles_members",team_user_get:"/api/team/{0}/user/{1}",upload:"/api/team/{0}/upload",space_add:"/api/team/{0}/spaces/add",space_get:"/api/team/{0}/space/{1}",space_update:"/api/team/{0}/space/{1}/update",space_pin:"/api/team/{0}/space/{1}/pin",space_unpin:"/api/team/{0}/space/{1}/unpin",space_user_domain_group:"/api/team/{0}/space/{1}/space_user_domain_group",spaces:"/api/team/{0}/spaces",page_tree_get:"/api/team/{0}/space/{1}/page_tree_get",default_main_page:"/api/team/{0}/space/{1}/default_main_page",page_get:"/api/team/{0}/space/{1}/page/{2}",page_draft_add:"/api/team/{0}/space/{1}/page_draft_add",page_draft_update:"/api/team/{0}/space/{1}/draft/{2}/update",drafts:"/api/team/{0}/space/{1}/drafts",draft_get:"/api/team/{0}/space/{1}/draft/{2}",draft_delete:"/api/team/{0}/space/{1}/draft/{2}/delete",issue_type_get:"/api/team/{0}/issue_type/{1}",issue_type_template_get:"/api/team/{0}/issue_type/{1}/get_issue_type_template",issue_type_field_list:"/api/team/{0}/issue_type_field",issue_type_field_option_list:"/api/team/{0}/issue_type_field_options/{1}",issue_type_field_update:"/api/team/{0}/issue_type_field/{1}/update",issue_type_list:"/api/team/{0}/issue_type_list",issue_type_priority:"/api/team/{0}/issue_type_priority",issue_type_status:"/api/team/{0}/issue_type_status",issue_type_task_status_list:"/api/team/{0}/issue_type/{1}/issue_type_task_status_list",project_field:"/api/team/{0}/projects/field",project_list:"/api/team/{0}/projects/list",project_status:"/api/team/{0}/projects/status",project_add:"/api/team/{0}/projects/add",project_update:"/api/team/{0}/project/{1}/update",project_pin:"/api/team/{0}/project/{1}/pin",project_unpin:"/api/team/{0}/project/{1}/unpin",project_plan_update:"/api/team/{0}/project/{1}/update_plan",project_first_component:"/api/team/{0}/project/{1}/components/first",project_template:"/api/team/{0}/project/{1}/setting/template",project_get:"/api/team/{0}/project/{1}",status_data_list:"/api/team/{0}/project/{1}/status_data_list",project_change_assign:"/api/team/{0}/project/{1}/change_assign",project_members:"/api/team/{0}/project/{1}/project_members",project_role_members:"/api/team/{0}/project/{1}/project_role_members",project_member_add:"/api/team/{0}/project/{1}/members/add",project_member_delete:"/api/team/{0}/project/{1}/members/delete",project_change_status:"/api/team/{0}/project/{1}/project_change_status",project_user_domain_group:"/api/team/{0}/project/{1}/project_user_domain_group",project_delete:"/api/team/{0}/project/{1}/delete",project_issue_type_field:"/api/team/{0}/project/{1}/issue_type/{2}/field",project_issue_type_flow:"/api/team/{0}/project/{1}/issue_type/{2}/get_project_issue_type_flow",project_issue_type_flow_submit:"/api/team/{0}/project/{1}/issue_type/{2}/update_project_issue_type_flow",component_get:"/api/team/{0}/project/{1}/component/{2}",component_update:"/api/team/{0}/project/{1}/component/{2}/update",components:"/api/team/{0}/project/{1}/components",next_status_list:"/api/team/{0}/project/{1}/issue_type/{2}/next_status_list/{3}",certificate_add:"/api/ding/login_certificate/add",task_add:"/api/team/{0}/project/{1}/issue_type/{2}/tasks/add",task_update:"/api/team/{0}/project/{1}/issue_type/{2}/task/{3}/update",task_list:"/api/team/{0}/project/{1}/issue_type/{2}/tasks",task_get:"/api/team/{0}/task/{1}",task_priority_options:"/api/team/{0}/task_priority_options",task_change_assign:"/api/team/{0}/task/{1}/change_assign",task_change_status:"/api/team/{0}/task/{1}/change_status",task_change_priority:"/api/team/{0}/task/{1}/change_priority",task_stat_by_team:"/api/team/{0}/task_stat_by_team",task_list_by_assign:"/api/team/{0}/tasks_by_assign",task_list_by_owner:"/api/team/{0}/tasks_by_owner",task_list_by_watcher:"/api/team/{0}/tasks_by_watcher",watchers_update:"/api/team/{0}/project/{1}/task/{2}/watchers/{3}",link_tasks:"/api/team/{0}/project/{1}/link_tasks",linked_tasks_add:"/api/team/{0}/task/{1}/linked_tasks_add",linked_tasks:"/api/team/{0}/task/{1}/linked_tasks",linked_source_tasks:"/api/team/{0}/task/{1}/linked_source_tasks",linked_tasks_del:"/api/team/{0}/task/{1}/linked_tasks_delete/{2}",permission_rules_add:"/api/team/{0}/permission_rules/add",permission_rule_delete:"/api/team/{0}/permission_rule/{1}/delete",team_permission_rules:"/api/team/{0}/team_permission_rules",issue_type_permission_rules_add:"/api/team/{0}/issue_type/{1}/permission_rules/add",issue_type_permission_rule_delete:"/api/team/{0}/issue_type/{1}/permission_rule/{2}/delete",issue_type_user_domain_group:"/api/team/{0}/project/{1}/issue_type/{2}/issue_type_user_domain_group",field_option_value_list:"/api/team/{0}/project/{1}/issue_type/{2}/field/{3}/list",field_option_update:"/api/team/{0}/project/{1}/issue_type/{2}/update_field_option"};Mt.beforeEach((s,a,o)=>{s.meta.title&&(document.title=s.meta.title),s.path&&window._hmt&&window._hmt.push(["_trackPageview",s.fullPath]),o(!0)});const de=Lt(ss);de.use(Mt);de.use(Ut);de.config.globalProperties.get=et.get;de.config.globalProperties.post=et.post;de.config.globalProperties.urls=Sv;de.config.globalProperties.filters=Wt;de.config.globalProperties.bus=new Vt;de.mount("#app");
