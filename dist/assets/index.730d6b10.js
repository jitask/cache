import{r as S,o as C,a as d,c as u,b as M,n as $e,d as e,e as V,t as b,u as s,F as w,g as I,f as x,h as R,i as z,w as L,j as H,k as T,l as j,m as J,p as N,q as F,s as we,v as X,x as E,y as Q,z as U,A as O,B as oe,C as se,D as xe,E as de,G as at,H as Ee,I as lt,J as Ae,K as Me,L as ve,M as Re,N as Pt,O as Vt,P as Ht,Q as Ut,R as qt,S as ot,T as Nt}from"./vendor.6d4b9bb7.js";const Ft=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&t(r)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerpolicy&&(i.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?i.credentials="include":n.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}};Ft();function Et(l){let a="";switch(l){case 1:a="\u5355\u9009\u83DC\u5355";break;case 2:a="\u5355\u884C\u6587\u672C";break;case 3:a="";break;case 4:a="\u6D6E\u70B9\u6570";break;case 5:a="\u65E5\u671F";break;case 6:a="\u65F6\u95F4";break;case 7:a="\u5355\u9009\u8FED\u4EE3";break;case 8:a="\u5355\u9009\u6210\u5458";break;case 9:a="\u9879\u76EE";break;case 10:a="";break;case 11:a="\u5DE5\u4F5C\u9879\u7C7B\u578B";break;case 12:a="\u5DE5\u4F5C\u9879\u72B6\u6001";break;case 13:a="\u591A\u9009\u6210\u5458";break;case 14:a="\u5DE5\u4F5C\u9879\u7F16\u53F7";break;case 15:a="";break;case 16:a="\u591A\u9009\u83DC\u5355";break;case 17:a="";break;case 18:a="";break;case 19:a="";break;case 20:a="";break;case 21:a="";break;case 22:a="\u72B6\u6001";break}return a}function At(l){let a="";switch(l){case"integer":a="\u6574\u6570";break;case"time":a="\u65F6\u95F4";break;case"percentage":a="\u767E\u5206\u6570";break;case"date":a="\u65E5\u671F";break;case"user":a="\u5355\u9009\u6210\u5458";break;case"text":a="\u5355\u884C\u6587\u672C";break;case"rich_text":a="\u591A\u6587\u672C";break;case"status":a="\u72B6\u6001";break}return a}function Rt(l){if(!l)return"-";if(Number.isNaN(l))return"0000-00-00 00:00:00";if(l==null||l===0)return"-";let a=new Date(l),o=a.getFullYear(),t=a.getMonth()+1,n=a.getDate();return o+"-"+(t<10?"0"+t:t)+"-"+(n<10?"0"+n:n)}function Ot(l){if(!l)return"-";if(Number.isNaN(l))return"0000-00-00 00:00:00";if(l==null||l===0)return"-";let a=new Date(l),o=a.getFullYear(),t=a.getMonth()+1,n=a.getDate(),i=a.getHours(),r=a.getMinutes(),p=a.getSeconds();return o+"-"+(t<10?"0"+t:t)+"-"+(n<10?"0"+n:n)+" "+(i<10?"0"+i:i)+":"+(r<10?"0"+r:r)+":"+(p<10?"0"+p:p)}function Gt(l){if(!l)return"-";if(Number.isNaN(l))return"0000-00-00 00:00:00";if(l===0)return"-";let a=new Date(l),o=a.getFullYear(),t=a.getMonth()+1,n=a.getDate(),i=a.getHours(),r=a.getMinutes();return o+"\u5E74"+(t<10?"0"+t:t)+"\u6708"+(n<10?"0"+n:n)+"\u65E5 "+(i<12?"\u4E0A\u5348":"\u4E0B\u5348")+(i<10?"0"+i:i)+"\u70B9"+(r<10?"0"+r:r)+"\u5206"}function Wt(l){if(!l)return"-";if(Number.isNaN(l))return"0000-00-00";if(l===0)return"-";let a=new Date(l),o=new Date,t=a.getFullYear(),n=a.getMonth()+1,i=a.getDate(),r=o.getFullYear(),p;if(t<r)p=t+"\u5E74"+n+"\u6708"+i+"\u65E5 ";else{let c=o-a,_=c/36e5;_>=240?p=n+"\u6708"+i+"\u65E5 ":_>=24?p=Math.floor(_/24)+"\u5929\u524D":_>=1?p=Math.floor(_)+"\u5C0F\u65F6\u524D":_*60>=1?p=Math.floor(_*60)+"\u5206\u949F\u524D":p="\u521A\u521A"}return p}function Kt(l){let a="";switch(l){case"com00001":a="\u9700\u6C42";break;case"com00002":a="\u7F3A\u9677";break;case"com00003":a="\u4EFB\u52A1";break;case"com00004":a="\u6210\u5458";break;case"com00005":a="\u62A5\u8868";break;case"com00009":a="\u9879\u76EE\u6982\u89C8";break}return a}function ke(){return localStorage.getItem("TASKMASTER")}function it(l){localStorage.setItem("TASKMASTER",l)}let ce={ServerError:"\u670D\u52A1\u9519\u8BEF",NotFound:"\u4E0D\u5B58\u5728",User:"\u7528\u6237",Phone:"\u624B\u673A\u53F7\u7801",AuthFailure:"\u6388\u6743\u5931\u8D25",InvalidParameter:"\u53C2\u6570\u65E0\u6548",InvalidToken:"\u767B\u5F55\u51ED\u8BC1\u5931\u6548",MissingToken:"\u7F3A\u5931\u51ED\u8BC1",AlreadyExists:"\u5DF2\u7ECF\u5B58\u5728",PhoneExists:"\u624B\u673A\u53F7\u7801\u5B58\u5728",InvalidFormat:"\u683C\u5F0F\u65E0\u6548",VerificationFailure:"\u9A8C\u8BC1\u5931\u8D25",InvalidCode:"\u9A8C\u8BC1\u7801\u65E0\u6548",EmailExists:"\u90AE\u7BB1\u5730\u5740\u5B58\u5728",Team:"\u56E2\u961F",Name:"\u540D\u79F0",Password:"\u5BC6\u7801",TooLong:"\u592A\u957F",CodeExpired:"\u9A8C\u8BC1\u7801\u8FC7\u671F",PermissionDenied:"\u6743\u9650\u7981\u6B62",CreateSpace:"\u65B0\u5EFA\u9875\u9762\u7EC4",NotInAnyTeam:"\u7528\u6237\u4E0D\u5728\u4EFB\u4F55\u56E2\u961F",InvalidPassword:"\u5BC6\u7801\u9519\u8BEF"};function nt(l){let a="";return l.length>=1&&(a=ce[l[0]]),a}function rt(l){return mt(l)}function dt(l){let a="";if(l.length===2)for(let o=l.length-1;o>=0;o--)a+=ce[l[o]];else if(l.length>=3)for(let o=1;o<l.length;o++)a+=ce[l[o]];return a}function ct(l){let a="";return l.length===2&&(a=ce[l[1]]),a}function pt(l){let a="";return l.length===2&&(a=ce[l[1]]),a}function ut(l){return mt(l)}function _t(l){return Jt(l)}function Jt(l){let a="";if(l.length===2)for(let o=l.length-1;o>=0;o--)a+=ce[l[o]];return a}function mt(l){let a="";if(l.length===2)for(let o=l.length-1;o>=0;o--)a+=ce[l[o]];else if(l.length===3)for(let o=1;o<l.length;o++)a+=ce[l[o]];return a}var Yt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",taskFieldType:Et,projectFieldType:At,formatDay:Rt,formatDate:Ot,formatTime:Gt,timeFormat:Wt,formatComponentTemplate:Kt,getUser:ke,setUser:it,ServerError:nt,NotFound:rt,InvalidParameter:dt,VerificationFailure:ct,AuthFailure:pt,AlreadyExists:ut,PermissionDenied:_t});var B=(l,a)=>{const o=l.__vccOpts||l;for(const[t,n]of a)o[t]=n;return o};const Qt={class:"flex-column flex align-items-center flex-fill"},Zt={class:"flex-row flex align-items-center",style:{color:"inherit"}},Xt={class:"flex-row flex align-items-center"},es={key:0,class:"bi bi-check-circle flex-row flex align-items-center"},ts={key:1,class:"bi bi-x-circle flex-row flex align-items-center"},ss={style:{"margin-left":"5px",color:"inherit",display:"flex",flex:"1","letter-spacing":"1px","font-size":"1.1em"}},as={setup(l){let{proxy:a}=I(),o=S([]),t=3e3,n=0,i="";C(()=>{a.bus.on("alertSuccess",function(_){r(_)}),a.bus.on("alertDanger",function(_){p(_)})});let r=_=>{n+=1,_?i=_:i="\u64CD\u4F5C\u6210\u529F";let m={key:n,dismiss:!0,variant:"alert-success",msg:i};o.push(m),c(n)},p=_=>{n+=1;let m="",f=_.split("."),h="";if(f.length>=1)switch(m=f[0],m){case"ServerError":h=nt(f);break;case"NotFound":h=rt(f);break;case"InvalidParameter":h=dt(f);break;case"VerificationFailure":h=ct(f);break;case"AlreadyExists":h=ut(f);break;case"PermissionDenied":h=_t(f);break;case"AuthFailure":h=pt(f);break;default:h=m;break}i=h;let v={key:n,dismiss:!0,variant:"alert-danger",msg:i};o.push(v),c(n)},c=_=>{setTimeout(function(){let m=o.filter(f=>f.key!==_);o.length=0,o.push(...m)},t)};return(_,m)=>(d(!0),u(w,null,M(s(o),(f,h)=>(d(),u("div",{class:"alert-box flex-column flex align-items-center",key:f.key,style:$e({top:`${(h+1)*60}px`,right:"2.5rem"})},[e("div",Qt,[e("div",{class:V(["alert",[f.variant]]),role:"alert"},[e("div",Zt,[e("div",Xt,[f.variant==="alert-success"?(d(),u("i",es)):(d(),u("i",ts))]),e("div",ss,b(f.msg),1)])],2)])],4))),128))}};var ls=B(as,[["__scopeId","data-v-18dd2507"]]);const os={setup(l){return(a,o)=>{const t=R("router-view");return d(),u(w,null,[x(t),x(ls)],64)}}},is={class:"flex-row flex align-items-center"},ns={style:{flex:"0 0 auto"}},rs={key:0,style:{display:"flex"}},ds=e("svg",{t:"1601469996753",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"22148",width:"16",height:"16"},[e("path",{d:"M925.8 98.5H98.1c-16.3 0-29.6 13.3-29.6 29.6v591.2c0 16.3 13.3 29.6 29.6 29.6h266v118.2h-88.7c-16.4 0-29.6 13.2-29.6 29.6 0 16.4 13.2 29.6 29.6 29.6h473c16.4 0 29.6-13.2 29.6-29.6 0-16.4-13.2-29.6-29.6-29.6h-88.7V748.8h266c16.3 0 29.6-13.3 29.6-29.6V128.1c0-16.3-13.3-29.6-29.5-29.6z m-810.9 47.6h796.3v405.1H114.9V146.1z m485.7 721H423.2V748.8h177.4v118.3z m311.8-165.8H114.9V601h797.4v100.3z",fill:"#ffffff","p-id":"22149"}),e("path",{d:"M443.8 264.4H217.5c-6.4 0-11.5 5.2-11.5 11.5v167.4c0 6.4 5.2 11.5 11.5 11.5h226.3c6.4 0 11.5-5.2 11.5-11.5V276c0-6.4-5.1-11.6-11.5-11.6z m-20.8 153c0 4.7-4 8.5-9 8.5H242.6c-5 0-9-3.8-9-8.5V302c0-4.7 4-8.5 9-8.5H414c5 0 9 3.8 9 8.5v115.4zM809.8 264.4H583.5c-6.4 0-11.5 5.2-11.5 11.5v167.4c0 6.4 5.2 11.5 11.5 11.5h226.3c6.4 0 11.5-5.2 11.5-11.5V276c0.1-6.4-5.1-11.6-11.5-11.6z m-20.8 153c0 4.7-4 8.5-9 8.5H608.6c-5 0-9-3.8-9-8.5V302c0-4.7 4-8.5 9-8.5H780c5 0 9 3.8 9 8.5v115.4z",fill:"#ffffff","p-id":"22150"})],-1),cs=[ds],ps={key:1,style:{display:"flex"}},us=e("svg",{t:"1601470039687",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"23021",width:"16",height:"16"},[e("path",{d:"M921.6 659.911111h51.2c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 28.444444-22.755556 51.2-51.2 51.2h-204.8c-28.444444 0-51.2-22.755556-51.2-51.2v-147.911111c0-28.444444 22.755556-51.2 51.2-51.2h51.2V563.2H563.2v102.4h51.2c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 28.444444-22.755556 51.2-51.2 51.2H409.6c-28.444444 0-51.2-22.755556-51.2-51.2v-147.911111c0-28.444444 22.755556-51.2 51.2-51.2h51.2V563.2H204.8v102.4h51.2c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 22.755556-22.755556 45.511111-51.2 45.511111H51.2c-28.444444 0-51.2-22.755556-51.2-51.2v-147.911111c0-28.444444 22.755556-51.2 51.2-51.2h51.2V563.2c0-56.888889 45.511111-102.4 102.4-102.4h256V364.088889h-51.2c-28.444444 0-51.2-22.755556-51.2-51.2V164.977778c0-28.444444 22.755556-51.2 51.2-51.2h204.8c28.444444 0 51.2 22.755556 51.2 51.2v147.911111c0 28.444444-22.755556 51.2-51.2 51.2h-51.2v102.4h256c56.888889 0 102.4 45.511111 102.4 102.4v91.022222z",fill:"#ffffff","p-id":"23022"})],-1),_s=[us],ms={key:2,style:{display:"flex"}},fs=e("svg",{t:"1601470089681",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"23884",width:"16",height:"16"},[e("path",{d:"M0 934.4c0 12.8 12.8 25.6 25.6 25.6h972.8c12.8 0 25.6-12.8 25.6-25.6V320H0v614.4z m646.4-236.8l128-57.6-128-57.6V505.6l230.4 108.8v51.2L646.4 768v-70.4zM537.6 480h64l-128 320h-64l128-320z m-384 134.4L384 505.6V576l-128 64 128 57.6V768l-230.4-102.4v-51.2zM998.4 64H25.6c-12.8 0-25.6 12.8-25.6 25.6V256h1024V89.6c0-12.8-12.8-25.6-25.6-25.6zM224 185.6c0 6.4-6.4 12.8-12.8 12.8H140.8c-6.4 0-12.8-6.4-12.8-12.8v-44.8c0-6.4 6.4-12.8 12.8-12.8h70.4c6.4 0 12.8 6.4 12.8 12.8v44.8z m160 0c0 6.4-6.4 12.8-12.8 12.8H300.8c-6.4 0-12.8-6.4-12.8-12.8v-44.8c0-6.4 6.4-12.8 12.8-12.8h70.4c6.4 0 12.8 6.4 12.8 12.8v44.8z","p-id":"23885",fill:"#ffffff"})],-1),hs=[fs],xs={key:3,style:{display:"flex"}},vs=e("svg",{t:"1601470300864",class:"icon",viewBox:"0 0 1137 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"25227",width:"16",height:"16"},[e("path",{d:"M1136.696889 511.089778s0-1.934222 0 0v-409.031111c0-55.637333-46.535111-101.319111-101.262222-101.319111h-370.517334a18.545778 18.545778 0 0 0-16.156444 7.964444l-76.970667 93.297778H102.058667c-56.718222 0-101.262222 45.681778-101.262223 101.262222v718.961778c0 55.580444 46.592 101.262222 101.262223 101.262222h933.432889c56.661333 0 101.262222-45.681778 101.262222-101.262222V511.089778zM102.058667 141.710222h479.857777a18.545778 18.545778 0 0 0 16.213334-7.964444L677.091556 38.513778h360.391111c34.417778 0 60.757333 27.818667 60.757333 61.553778V489.244444h-54.613333V380.017778c0-33.735111-28.444444-59.562667-60.814223-59.562667H152.632889A60.302222 60.302222 0 0 0 91.932444 380.017778V489.244444H39.253333V203.320889c0-33.792 28.330667-61.610667 62.805334-61.610667z m30.321777 345.6v-105.244444c0-11.946667 10.126222-19.911111 20.252445-19.911111h830.179555c12.174222 0 20.252444 9.955556 20.252445 19.911111v105.244444H132.380444z m901.12 496.469334H102.001778A60.757333 60.757333 0 0 1 41.301333 922.168889V531.000889H1096.248889v391.224889c0 33.735111-28.387556 61.553778-62.805333 61.553778z","p-id":"25228",fill:"#ffffff"})],-1),gs=[vs],ys={key:4,style:{display:"flex"}},bs=e("svg",{t:"1601470343097",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"26129",width:"16",height:"16"},[e("path",{d:"M216.3 515.7c9-6.7 18.5-12.7 28.3-18.3 12.8-0.1 23.1-10.5 23.1-23.3 0-5.9-2.2-11.2-5.8-15.2v-0.3c-1.9-1.8-3.9-3.5-5.7-5.3-56.7-13.2-99-63.9-99-124.6 0-60.7 42.3-111.4 98.9-124.6 2-1.9 4-3.8 6.1-5.6 1.5-18.2 11-34.2 25-44.3-0.7 0-1.3-0.1-2-0.1-96.4 0-174.5 78.1-174.5 174.5 0 62.7 33.1 117.7 82.7 148.4C80.3 520.9 0.1 630.6 0.1 759.2v41.1c0 22.3 18.1 40.4 40.4 40.4h46.9v-46.5H46.7v-43.6c0-109.6 71.1-202.4 169.6-234.9z m406.2-24.6c66.1-38.2 110.7-109.6 110.7-191.5 0-122.1-99-221.1-221.1-221.1S291 177.5 291 299.6c0 81.9 44.5 153.3 110.7 191.5C253.2 538 145.6 676.7 145.6 840.7v58.2c0 25.7 20.8 46.5 46.5 46.5h640c25.7 0 46.5-20.8 46.5-46.5v-58.2c0.1-164-107.6-302.8-256.1-349.6zM337.6 299.6c0-96.4 78.2-174.5 174.5-174.5 96.4 0 174.5 78.1 174.5 174.5s-78.1 174.6-174.5 174.6c-96.4-0.1-174.5-78.2-174.5-174.6z m494.5 599.2h-640v-58.2c0-176.7 143.3-320 320-320s320 143.3 320 320v58.2z m0.1-421.7c49.3-30.8 82.1-85.7 82.1-148.4 0-96.4-77.6-174.5-173.3-174.5-0.7 0-1.3 0.1-1.9 0.1 13.9 10.2 23.3 26.1 24.8 44.3 2 1.8 4.1 3.7 6 5.6 56.3 13.2 98.2 63.9 98.2 124.6 0 60.7-42 111.4-98.3 124.6-1.9 1.8-3.8 3.6-5.7 5.3v0.3c-3.6 4.1-5.8 9.4-5.8 15.2 0 12.8 10.3 23.2 23 23.3 9.7 5.6 19.1 11.7 28.1 18.3 97.8 32.6 168.5 125.3 168.5 234.8v43.6h-40.4v46.5H984c22.1 0 40.1-18.1 40.1-40.4v-41.1c0-128.6-79.6-238.3-191.9-282.1z m0 0","p-id":"26130",fill:"#ffffff"})],-1),$s=[bs],ws={key:5,style:{display:"flex"}},ks=e("svg",{t:"1601470399733",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"27002",width:"16",height:"16"},[e("path",{d:"M0 789.333c0-129.621 105.067-234.666 234.667-234.666h170.645a64 64 0 0 1 64.021 64.021v170.645c0 129.622-105.066 234.667-234.666 234.667C105.045 1024 0 918.933 0 789.333z m85.333 0c0 82.475 67.03 149.334 149.334 149.334 82.474 0 149.333-67.03 149.333-149.334V640H234.667c-82.475 0-149.334 67.03-149.334 149.333zM1024 234.667c0 129.621-105.067 234.666-234.667 234.666H618.688a64 64 0 0 1-64.021-64.021V234.667C554.667 105.045 659.733 0 789.333 0 918.955 0 1024 105.067 1024 234.667z m-85.333 0c0-82.475-67.03-149.334-149.334-149.334C706.86 85.333 640 152.363 640 234.667V384h149.333c82.475 0 149.334-67.03 149.334-149.333zM0 234.667C0 105.067 105.045 0 234.667 0c129.6 0 234.666 105.045 234.666 234.667v170.645a64 64 0 0 1-64.021 64.021H234.667C105.067 469.333 0 364.288 0 234.667z m85.333 0C85.333 316.97 152.192 384 234.667 384H384V234.667c0-82.304-66.859-149.334-149.333-149.334-82.304 0-149.334 66.859-149.334 149.334z m920.704 518.613c9.899 0 18.027 8.107 17.963 18.048v36.096c0 9.963-8.128 18.07-18.027 18.07H984.32c-9.899 0-20.437 7.743-23.424 17.215l-12.416 30.23c-4.672 8.768-2.773 21.717 4.224 28.693l15.403 15.36c7.04 7.04 7.04 18.517 0 25.557l-25.6 25.536a18.09 18.09 0 0 1-25.515 0l-15.296-15.36c-6.997-7.04-19.947-8.917-28.693-4.202l-30.251 12.437c-9.45 2.944-17.237 13.461-17.237 23.403v21.589a18.133 18.133 0 0 1-18.07 18.048h-36.074a18.133 18.133 0 0 1-18.091-18.048v-21.59c0-9.94-7.723-20.458-17.237-23.402l-30.294-12.437c-8.746-4.694-21.632-2.816-28.586 4.181l-15.424 15.381a18.07 18.07 0 0 1-25.494 0l-25.557-25.536a18.133 18.133 0 0 1 0-25.557l15.36-15.36c7.04-6.976 8.917-19.925 4.267-28.693l-12.502-30.23c-2.944-9.472-13.461-17.216-23.381-17.28h-21.675a18.09 18.09 0 0 1-18.069-18.026v-36.075c0-9.963 8.107-18.07 18.09-18.07h21.654c9.92 0 20.48-7.743 23.403-17.237l12.458-30.25c4.694-8.768 2.774-21.654-4.266-28.715l-15.318-15.36a18.048 18.048 0 0 1 0-25.536l25.536-25.493a18.027 18.027 0 0 1 25.494 0l15.402 15.36c7.04 6.997 19.904 8.917 28.672 4.224l30.23-12.395c9.514-2.965 17.237-13.483 17.237-23.467v-21.653a18.133 18.133 0 0 1 18.09-18.07h36.075a18.133 18.133 0 0 1 18.07 18.07v21.675c0 9.941 7.786 20.48 17.237 23.402l30.187 12.438c8.768 4.693 21.696 2.773 28.693-4.224l15.403-15.36a18.048 18.048 0 0 1 25.536 0l25.557 25.536c7.04 6.997 7.04 18.474 0 25.536l-15.36 15.36c-7.04 7.04-8.917 19.946-4.245 28.672l12.416 30.25c2.986 9.494 13.482 17.238 23.402 17.238h21.718z m-136.064 34.645a82.048 82.048 0 1 0-164.117 0 82.048 82.048 0 0 0 82.07 82.027 82.027 82.027 0 0 0 82.047-82.027z","p-id":"27003",fill:"#ffffff"})],-1),js=[ks],Ss={key:6,style:{display:"flex"}},Cs=e("svg",{t:"1601470443587",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"28569",width:"16",height:"16"},[e("path",{d:"M115.2 368h124.8c25.6 0 48-22.4 48-48V163.2h396.8v204.8H736v-224c0-19.2-12.8-32-32-32H259.2L64 323.2v553.6c0 19.2 12.8 32 32 32h480v-51.2H115.2V368z m121.6-153.6v102.4H144l92.8-102.4zM905.6 531.2V480c0-9.6-6.4-16-16-16h-19.2c-9.6 0-16 6.4-16 16v51.2c-32 12.8-54.4 41.6-54.4 76.8s22.4 64 54.4 76.8V896c0 9.6 6.4 16 16 16h19.2c9.6 0 16-6.4 16-16v-211.2c32-9.6 54.4-41.6 54.4-76.8s-22.4-64-54.4-76.8z m-25.6 118.4c-22.4 0-41.6-19.2-41.6-41.6s19.2-41.6 41.6-41.6 41.6 19.2 41.6 41.6-19.2 41.6-41.6 41.6z","p-id":"28570",fill:"#ffffff"}),e("path",{d:"M745.6 691.2V480c0-9.6-6.4-16-16-16h-19.2c-9.6 0-16 6.4-16 16v211.2c-32 12.8-54.4 41.6-54.4 76.8s22.4 64 54.4 76.8V896c0 9.6 6.4 16 16 16h19.2c9.6 0 16-6.4 16-16v-51.2c32-9.6 54.4-41.6 54.4-76.8s-22.4-64-54.4-76.8z m-25.6 118.4c-22.4 0-41.6-19.2-41.6-41.6s19.2-41.6 41.6-41.6 41.6 19.2 41.6 41.6-19.2 41.6-41.6 41.6zM224 464h352v32H224zM224 560h352v32H224zM224 656h352v32H224zM384 368h192v32h-192z","p-id":"28571",fill:"#ffffff"})],-1),Is=[Cs],zs={key:7,style:{display:"flex"}},Ts=e("svg",{t:"1601470494636",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"29424",width:"16",height:"16"},[e("path",{d:"M512 0a512 512 0 0 0-512 512 512 512 0 0 0 512 512 512 512 0 0 0 512-512 512 512 0 0 0-512-512z m-1.592889 791.153778a39.196444 39.196444 0 0 1-39.196444-39.196445 39.139556 39.139556 0 0 1 39.196444-39.196444 39.196444 39.196444 0 0 1 39.196445 39.196444 39.253333 39.253333 0 0 1-39.196445 39.196445z m173.397333-399.075556v0.682667a171.918222 171.918222 0 0 1-142.620444 170.666667v70.200888a31.516444 31.516444 0 0 1-31.459556 31.459556 31.459556 31.459556 0 0 1-31.459555-31.459556V500.167111h34.133333a108.714667 108.714667 0 0 0 108.088889-109.681778 108.714667 108.714667 0 0 0-109.624889-108.088889 108.771556 108.771556 0 0 0-108.088889 109.454223 32.028444 32.028444 0 0 1-30.663111 33.336889 32.028444 32.028444 0 0 1-33.336889-30.663112 21.105778 21.105778 0 0 1 0-2.673777 172.657778 172.657778 0 0 1 169.642667-175.616 172.714667 172.714667 0 0 1 175.616 169.358222z",fill:"#ffffff","p-id":"29425"})],-1),Ms=[Ts],Ls={style:{flex:"1","margin-left":"10px"}},Ds={class:"flex-column"},Bs={style:{flex:"1",display:"flex",width:"100%"}},Ps={style:{flex:"1",width:"100%"}},ue={props:["to","icon"],setup(l){return(a,o)=>{const t=R("router-link");return d(),u("div",is,[e("div",ns,[l.icon==="Main"?(d(),u("div",rs,cs)):z("",!0),l.icon==="Projects"?(d(),u("div",ps,_s)):z("",!0),l.icon==="Commit"?(d(),u("div",ms,hs)):z("",!0),l.icon==="Wiki"?(d(),u("div",xs,gs)):z("",!0),l.icon==="TeamSetting"?(d(),u("div",ys,$s)):z("",!0),l.icon==="ProjectSetting"?(d(),u("div",ws,js)):z("",!0),l.icon==="WikiSetting"?(d(),u("div",Ss,Is)):z("",!0),l.icon==="Help"?(d(),u("div",zs,Ms)):z("",!0)]),e("div",Ls,[e("div",Ds,[e("div",Bs,[e("div",Ps,[x(t,{to:l.to},{default:L(()=>[H(b(l.to.params.title),1)]),_:1},8,["to"])])])])])])}}};const Oe=l=>(N("data-v-2571fad4"),l=l(),F(),l),Vs={class:"flex-row flex w-100 align-items-center pt-1 pe-3 pb-2 ps-4"},Hs={class:"flex-fill text-white",style:{height:"50px"}},Us={class:"flex-row flex align-items-center pb-3 pt-2"},qs={class:"flex-fill ms-3 fs-c11 text-white fw-bolder"},Ns=Oe(()=>e("svg",{t:"1603695788065",class:"icon",viewBox:"0 0 1028 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"25977",width:"20",height:"20"},[e("path",{d:"M989.866667 234.666667h-490.666667c-17.066667 0-34.133333-21.333333-34.133333-42.666667 0-25.6 12.8-42.666667 34.133333-42.666667h490.666667c17.066667 0 34.133333 17.066667 34.133333 42.666667 0 21.333333-12.8 42.666667-34.133333 42.666667z m-473.6 128h465.066666c25.6 0 46.933333 21.333333 46.933334 42.666666 0 25.6-21.333333 42.666667-46.933334 42.666667H516.266667c-25.6 0-46.933333-17.066667-46.933334-42.666667s21.333333-42.666667 46.933334-42.666666z m0 298.666666c-25.6 0-46.933333-21.333333-46.933334-42.666666 0-25.6 21.333333-42.666667 46.933334-42.666667h465.066666c25.6 0 46.933333 17.066667 46.933334 42.666667s-21.333333 42.666667-46.933334 42.666666H516.266667z m4.266666 128h452.266667c29.866667 0 51.2 17.066667 51.2 42.666667s-21.333333 42.666667-51.2 42.666667h-452.266667c-29.866667 0-51.2-17.066667-51.2-42.666667s21.333333-42.666667 51.2-42.666667z m-192 25.6c-17.066667 17.066667-46.933333 17.066667-64 0l-251.733333-273.066666c-17.066667-17.066667-17.066667-51.2 0-68.266667l251.733333-273.066667c17.066667-17.066667 46.933333-17.066667 64 0s17.066667 51.2 0 68.266667l-221.866666 238.933333 221.866666 238.933334c17.066667 21.333333 17.066667 51.2 0 68.266666z","p-id":"25978",fill:"#bfbfbf"})],-1)),Fs=[Ns],Es={class:"flex-fill"},As=Oe(()=>e("li",null,[e("span")],-1)),Rs=Oe(()=>e("li",null,[e("span")],-1)),Os={setup(l){var r;const{proxy:a}=I();T();let o=j(),t=S({currentIndex:1,team:o.params.team,teamName:"",sidebar:(r=localStorage.getItem("sidebar"))!=null?r:"true"});C(()=>{t.team=o.params.team,t.currentIndex=o.meta.tagIndex,n(),a.bus.on("showSidebar",function(){t.sidebar="true"})});let n=()=>{a.get(a.urls.team_get.format(t.team)).then(function(p){t.teamName=p.data.name})},i=()=>{localStorage.setItem("sidebar","false"),localStorage.setItem("toggle","true"),t.sidebar="false",a.bus.emit("showToggle")};return J(()=>o.params,p=>{t.currentIndex=o.meta.tagIndex,t.team!==o.params.team&&o.params.team&&(t.team=o.params.team,n())}),(p,c)=>{const _=R("router-link");return d(),u("div",{class:V(["flex-column flex sidebar",{open:s(t).sidebar==="true",close:s(t).sidebar==="false"}])},[e("div",Vs,[e("div",Hs,[x(_,{to:{name:"Index"}},{default:L(()=>[e("div",Us,[e("div",qs,b(s(t).teamName),1)])]),_:1})]),s(t).sidebar==="true"?(d(),u("div",{key:0,class:"arrow-color align-self-start pointer pt-2",onClick:c[0]||(c[0]=(...m)=>s(i)&&s(i)(...m))},Fs)):z("",!0)]),e("div",Es,[e("ul",null,[e("li",{class:V({active:s(t).currentIndex===1})},[x(ue,{icon:"Main",to:{name:"Workbench",params:{team:s(t).team,type:"overview",title:"\u6211\u7684\u5DE5\u4F5C\u53F0"}}},null,8,["to"])],2),As,e("li",{class:V({active:s(t).currentIndex===21})},[x(ue,{icon:"Projects",to:{name:"Projects",params:{team:s(t).team,title:"\u9879\u76EE\u7BA1\u7406"}}},null,8,["to"])],2),e("li",{class:V({active:s(t).currentIndex===23})},[x(ue,{icon:"Wiki",to:{name:"Spaces",params:{team:s(t).team,title:"\u6587\u6863\u4E2D\u5FC3"}}},null,8,["to"])],2),e("li",{class:V({active:s(t).currentIndex===26})},[x(ue,{icon:"TeamSetting",to:{name:"TeamSetting",params:{team:s(t).team,type:"manager",title:"\u7EC4\u7EC7\u67B6\u6784"}}},null,8,["to"])],2),Rs,e("li",{class:V({active:s(t).currentIndex===82})},[x(ue,{icon:"ProjectSetting",to:{name:"ProjectSettingManager",params:{team:s(t).team,title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3"}}},null,8,["to"])],2),e("li",{class:V({active:s(t).currentIndex===83})},[x(ue,{icon:"WikiSetting",to:{name:"WikiSetting",params:{team:s(t).team,type:"list",title:"\u6587\u6863\u914D\u7F6E\u4E2D\u5FC3"}}},null,8,["to"])],2)])]),e("div",null,[e("ul",null,[e("li",null,[x(ue,{icon:"Help",to:{name:"Help",params:{title:"\u5E2E\u52A9\u4E2D\u5FC3"}}})])])])],2)}}};var Gs=B(Os,[["__scopeId","data-v-2571fad4"]]);const Ws=l=>(N("data-v-6c930764"),l=l(),F(),l),Ks={class:"flex-row flex align-items-center"},Js=Ws(()=>e("div",{style:{width:"1px",height:"22px","border-left":"1px solid #aaaaaa"},class:"ps-3"},null,-1)),Ys={class:"flex-row flex align-items-center fs-c9 project-dropdown h-100","data-bs-toggle":"dropdown","aria-expanded":"false","data-bs-offset":"-16,2"},Qs={style:{"font-size":"16px"}},Zs={class:"dropdown-menu border-0 jiBox"},Xs={props:["name"],setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,projects:[]});C(()=>{n()});let n=()=>{let i=a.urls.team_project_list.format(t.team),r={categories:[],name:""};a.post(i,r).then(function(p){t.projects=p.data})};return(i,r)=>{const p=R("router-link");return d(),u("div",Ks,[Js,e("div",Ys,[e("div",Qs,b(l.name),1)]),e("ul",Zs,[(d(!0),u(w,null,M(s(t).projects,c=>(d(),u("li",{class:"px-3 py-1",key:c.uuid},[x(p,{to:{name:"Project",params:{team:s(t).team,project:c.uuid}}},{default:L(()=>[H(b(c.name),1)]),_:2},1032,["to"])]))),128))])])}}};var ea=B(Xs,[["__scopeId","data-v-6c930764"]]);const Ge=l=>(N("data-v-45df19c5"),l=l(),F(),l),ta={class:"flex-row flex avatar-container"},sa={class:"flex-row flex align-items-center avatar-header-person-plus"},aa=Ge(()=>e("i",{style:{"font-size":"1.5rem"},class:"bi bi-person-plus"},null,-1)),la={class:"avatar-center","data-bs-toggle":"dropdown","data-bs-offset":"-20,2"},oa={class:"align-items-center flex-row flex avatar-center-icon"},ia=["src"],na={class:"dropdown-menu border-0 jiBox"},ra={class:"avatar-dropdown-header"},da={class:"dropdown-email"},ca=Ge(()=>e("li",{class:"avatar-dropdown-line"},null,-1)),pa={class:"avatar-dropdown-item"},ua={class:"avatar-dropdown-item"},_a={class:"avatar-dropdown-item"},ma=Ge(()=>e("li",{class:"avatar-dropdown-line"},null,-1)),fa={class:"avatar-dropdown-item"},ha={setup(l){let{proxy:a}=I(),o=T(),t=j(),n=S({team:t.params.team,show:!1,user:{avatar:"/images/default_avatar.jpg"}});C(()=>{r()});let i=c=>{n.show=!1,t.params.type!==c&&o.push({name:"Center",params:{type:c}})},r=()=>{let c=a.urls.team_user_get.format(n.team,ke());a.get(c).then(function(_){n.user=_.data})},p=c=>{o.push({name:c})};return(c,_)=>{const m=R("router-link");return d(),u("div",ta,[e("div",sa,[x(m,{to:{name:"TeamSetting",params:{team:s(n).team,type:"member",title:"\u7EC4\u7EC7\u67B6\u6784"}}},{default:L(()=>[aa]),_:1},8,["to"])]),e("div",la,[e("div",oa,[e("img",{src:s(n).user.avatar},null,8,ia)])]),e("ul",na,[(d(!0),u(w,null,M(s(n).projects,f=>(d(),u("li",{class:"px-3 py-1",key:f.uuid},[x(m,{to:{name:"Project",params:{team:s(n).team,project:f.uuid}}},{default:L(()=>[H(b(f.name),1)]),_:2},1032,["to"])]))),128)),e("li",ra,[e("div",null,b(s(n).user.name),1),e("div",da,b(s(n).user.email),1)]),ca,e("li",pa,[e("div",{onClick:_[0]||(_[0]=f=>s(i)("account"))},"\u8D26\u53F7\u8BBE\u7F6E")]),e("li",ua,[e("div",{onClick:_[1]||(_[1]=f=>s(i)("safe"))},"\u5B89\u5168\u8BBE\u7F6E")]),e("li",_a,[e("div",{onClick:_[2]||(_[2]=f=>s(i)("certificate"))},"\u767B\u5F55\u51ED\u8BC1")]),ma,e("li",fa,[e("div",{onClick:_[3]||(_[3]=f=>s(p)("Logout"))},"\u6CE8\u9500")])])])}}};var ft=B(ha,[["__scopeId","data-v-45df19c5"]]);const xa=l=>(N("data-v-43f6c898"),l=l(),F(),l),va={class:"flex-row flex align-items-center toggle-container p-2"},ga=xa(()=>e("svg",{t:"1603696402499",class:"icon",viewBox:"0 0 1028 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"31622",width:"20",height:"20"},[e("path",{d:"M41.59999967 784.99999967l483.00000033 0c16.80000033 0 33.59999967 20.99999967 33.59999967 42.00000033 0 25.20000001-12.6 42.00000033-33.59999967 42.00000033l-483.00000033 0c-16.80000033 0-33.59999967-16.80000033-33.59999967-42.00000033 0-20.99999967 12.6-42.00000033 33.59999967-42.00000033z m466.2-125.99999999l-457.79999934 0c-25.20000001 0-46.19999967-20.99999967-46.20000066-41.99999935 0-25.20000001 20.99999967-42.00000033 46.20000066-42.00000033L507.79999967 575c25.20000001 0 46.19999967 16.80000033 46.20000066 42.00000033s-20.99999967 42.00000033-46.20000066 41.99999935z m0-293.99999936c25.20000001 0 46.19999967 20.99999967 46.20000066 41.99999935 0 25.20000001-20.99999967 42.00000033-46.20000066 42.00000033l-457.79999934 0c-25.20000001 0-46.19999967-16.80000033-46.20000066-42.00000033s20.99999967-42.00000033 46.20000066-41.99999935L507.79999967 365.00000032z m-4.19999934-125.99999999l-445.20000034 0c-29.40000033 0-50.4-16.80000033-50.39999999-42.00000033s20.99999967-42.00000033 50.4-42.00000033l445.20000033 0c29.40000033 0 50.4 16.80000033 50.4 42.00000033s-20.99999967 42.00000033-50.4 42.00000033z m189-25.2c16.80000033-16.80000033 46.19999967-16.80000033 63 0l247.79999967 268.79999933c16.80000033 16.80000033 16.80000033 50.4 0 67.20000033l-247.79999966 268.80000034c-16.80000033 16.80000033-46.19999967 16.80000033-63.00000001 0s-16.80000033-50.4 0-67.20000033l218.39999934-235.19999968-218.39999934-235.20000065c-16.80000033-20.99999967-16.80000033-50.4 0-67.19999934z","p-id":"31623",fill:"#515151"})],-1)),ya=[ga],ba={class:"toggle-title"},$a={setup(l){var i;const{proxy:a}=I();T();let o=j(),t=S({toggle:(i=localStorage.getItem("toggle"))!=null?i:"false",title:o.meta.title});we(()=>{a.bus.on("showToggle",function(){t.toggle="true"})}),J(()=>o.meta.title,r=>{t.title=o.meta.title});let n=()=>{localStorage.setItem("sidebar","true"),localStorage.setItem("toggle","false"),t.toggle="false",a.bus.emit("showSidebar")};return(r,p)=>(d(),u("div",va,[s(t).toggle==="true"?(d(),u("div",{key:0,class:"flex-row flex align-items-center pointer justify-color",onClick:p[0]||(p[0]=(...c)=>s(n)&&s(n)(...c))},ya)):z("",!0),e("div",ba,b(s(t).title),1)]))}};var wa=B($a,[["__scopeId","data-v-43f6c898"]]);const ka=l=>(N("data-v-6aa65566"),l=l(),F(),l),ja={class:"flex-column flex jiBox"},Sa={class:"app-header flex-row flex align-items-center"},Ca={key:0,class:"flex-fill"},Ia={key:0,id:"com",class:"com-outline"},za={class:"project-header-dropdown"},Ta={class:"project-header-com"},Ma=ka(()=>e("div",{class:"project-header-designer"},[e("i",{class:"bi bi-gear"}),H(" \u9879\u76EE\u8BBE\u7F6E ")],-1)),La={key:1,class:"com-outline"},Da={key:1,class:"flex-fill"},Ba={key:0,class:"flex-row flex justify-content-center project-header-designer-attr"},Pa={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,project:o.params.project,com:o.params.com,selectedCom:o.params.com,attrs:[{uuid:"com",name:"\u9879\u76EE\u7EC4\u5EFA"},{uuid:"issue_type",name:"\u5DE5\u4F5C\u9879\u7C7B\u578B",items:[{uuid:"field"},{uuid:"issue_type_permission"},{uuid:"issue_type_flow"}]},{uuid:"project_permission",name:"\u9879\u76EE\u6743\u9650"},{uuid:"project_field",name:"\u9879\u76EE\u5C5E\u6027"},{uuid:"project_status",name:"\u9879\u76EE\u72B6\u6001"},{uuid:"project_info",name:"\u9879\u76EE\u4FE1\u606F"},{uuid:"more",name:"\u66F4\u591A"}],designer:!1,dropdownActive:!1,dropParams:["\u4E2A\u4EBA\u4E2D\u5FC3","\u9000\u51FA\u767B\u5F55"],projects:[],currentTabComponent:"",items:[],projectName:"",title:"",hasProjectHeader:!1});C(()=>{a.bus.on("updateComponents",function(m){i()}),a.bus.on("updateProjectInfo",function(m){r()}),n()});let n=()=>{t.designer=!1,t.project=o.params.project,t.com=o.params.com,t.selectedCom=o.params.com,t.hasProjectHeader=!!(t.project&&t.com),t.hasProjectHeader&&(i(),r(),p())};J(()=>o.params,m=>{n()});let i=()=>{a.get(a.urls.components.format(t.team,t.project)).then(function(m){t.items=m.data})},r=()=>{a.get(a.urls.project_get.format(t.team,t.project)).then(function(m){t.projectName=m.data.name})},p=()=>{if(t.com==="designer"){t.currentTabComponent="designer",t.designer=!0;return}a.get(a.urls.component_get.format(t.team,t.project,t.com)).then(function(m){t.currentTabComponent=m.data.template_uuid,t.comName=m.data.name,m.data.objects.length>0&&(t.issue_type=m.data.objects[0].uuid)})},c=(m,f)=>{if(m.uuid===f)return!0;if(m.items&&m.items.length>0){for(let h=0;h<m.items.length;h++)if(m.items[h].uuid===f)return!0}return!1},_=X(()=>{var m;return(m=o.params.attr)!=null?m:"com"});return(m,f)=>{const h=R("router-link");return d(),u("div",ja,[e("div",Sa,[x(wa),s(t).hasProjectHeader?(d(),u("div",Ca,[s(t).items&&s(t).items.length>0?(d(),u("div",Ia,[e("div",za,[x(ea,{team:s(t).team,name:s(t).projectName},null,8,["team","name"])]),(d(!0),u(w,null,M(s(t).items,v=>(d(),u("div",{key:v.com},[x(h,{class:V([{active:v.uuid===s(t).selectedCom},"com align-items-center justify-content-center"]),to:{name:"Component",params:{team:s(t).team,project:s(t).project,com:v.uuid}}},{default:L(()=>[e("div",Ta,b(v.name),1)]),_:2},1032,["class","to"])]))),128)),e("div",null,[x(h,{class:V([{active:s(t).selectedCom==="designer"},"com align-items-center justify-content-center"]),to:{name:"ComponentDesigner",params:{team:s(t).team,project:s(t).project,com:"designer",attr:"com"}}},{default:L(()=>[Ma]),_:1},8,["class","to"])])])):(d(),u("div",La,"\xA0"))])):(d(),u("div",Da)),x(ft)]),s(t).hasProjectHeader&&s(t).designer?(d(),u("div",Ba,[(d(!0),u(w,null,M(s(t).attrs,v=>(d(),u("div",{class:"attr",key:v.uuid},[x(h,{class:V({active:s(c)(v,s(_))}),to:{name:"ComponentDesigner",params:{team:s(t).team,project:s(t).project,com:"designer",attr:v.uuid}}},{default:L(()=>[H(b(v.name),1)]),_:2},1032,["class","to"])]))),128))])):z("",!0)])}}};var Va=B(Pa,[["__scopeId","data-v-6aa65566"]]);const Ha={};function Ua(l,a){const o=R("router-view");return d(),E(o)}var qa=B(Ha,[["render",Ua]]);const Na={class:"flex-column flex layout-bg layout-w",style:{flex:"1 1 0"}},Fa={setup(l){return(a,o)=>(d(),u(w,null,[x(Gs),e("div",Na,[x(Va),x(qa)])],64))}};const ht=l=>(N("data-v-ebbf28b4"),l=l(),F(),l),Ea={style:{width:"100%",height:"100%"},class:"flex-row flex align-items-center justify-content-center"},Aa={style:{position:"relative",width:"800px",height:"600px","background-color":"#f0f0f0",overflow:"hidden"},class:"flex-row flex align-items-center justify-content-center"},Ra=se('<div style="position:absolute;width:800px;height:600px;" data-v-ebbf28b4><i class="bi bi-circle-fill" style="font-size:15rem;position:absolute;color:rgba(255, 206, 86, 0.3);top:-40px;left:200px;" data-v-ebbf28b4></i><i class="bi bi-circle-fill" style="font-size:25rem;position:absolute;color:rgba(75, 192, 192, 0.3);top:-50px;left:10px;" data-v-ebbf28b4></i><i class="bi bi-circle-fill" style="font-size:40rem;position:absolute;color:rgba(255, 99, 132, 0.3);top:100px;left:450px;" data-v-ebbf28b4></i><i class="bi bi-circle-fill" style="font-size:20rem;position:absolute;color:rgba(153, 102, 255, 0.3);top:300px;left:300px;" data-v-ebbf28b4></i></div>',1),Oa={style:{position:"absolute",width:"600px",height:"400px","background-color":"#ffffff","border-radius":"5px"},class:"enter flex-column flex justify-content-center"},Ga={style:{flex:"1",padding:"60px 60px"},class:"flex-column flex"},Wa=ht(()=>e("div",{style:{"font-size":"18px"},class:"flex-row flex align-items-center"},[H("\u767B\u5F55 Jitask \u9879\u76EE\u7BA1\u7406\u7CFB\u7EDF"),e("sup",{style:{color:"#17C4BB","margin-left":"5px"}},"beta")],-1)),Ka={class:"flex-row flex align-items-center",style:{padding:"30px 0"}},Ja={class:"flex-row flex align-items-center"},Ya=ht(()=>e("div",{style:{"margin-top":"30px",color:"#909090"},class:"flex-row flex align-items-center justify-content-center"}," \u6F14\u793A\u7248\u672C\uFF0C\u70B9\u51FB\u767B\u5F55\u8FDB\u5165\u7CFB\u7EDF\uFF0C\u6216\u8005\u81EA\u5DF1\u6CE8\u518C\u4E00\u4E2A\u8BD5\u8BD5 ",-1)),Qa={style:{flex:"0 0 48px","background-color":"#f0f0f0"},class:"flex-row flex align-items-center"},Za=se('<div style="position:absolute;bottom:10px;" data-v-ebbf28b4><div style="flex:0 0 60px;" class="flex-row align-items-center flex justify-content-center copyright" data-v-ebbf28b4><div data-v-ebbf28b4> Copyright \xA92020 <a href="/" data-v-ebbf28b4>\u7231\u65AF\u56ED</a></div><div style="margin-left:5px;" data-v-ebbf28b4><a href="https://beian.miit.gov.cn" target="_blank" data-v-ebbf28b4>\u7CA4ICP\u59072020117325\u53F7</a></div></div></div>',1),Xa={setup(l){const{proxy:a}=I();let o=T(),t=Q("soul@iissy.com"),n=Q("S0se4r5t2"),i=()=>{let p={email:t.value,password:n.value};a.post(a.urls.login_url,p).then(function(c){c.data.result.user&&c.data.result.user.uuid&&c.data.result.user.default_team&&(it(c.data.result.user.uuid),o.push({name:"Workbench",params:{team:c.data.result.user.default_team,type:"overview"}}))}).catch(function(c){a.bus.emit("alertDanger",c.response.data.errcode)})},r=()=>{o.push({name:"Reg"})};return(p,c)=>(d(),u("div",Ea,[e("div",Aa,[Ra,e("div",Oa,[e("div",Ga,[Wa,e("div",Ka,[U(e("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=_=>oe(t)?t.value=_:t=_),class:"login-name",placeholder:"Email",autocomplete:"off"},null,512),[[O,s(t)]])]),e("div",Ja,[U(e("input",{type:"password","onUpdate:modelValue":c[1]||(c[1]=_=>oe(n)?n.value=_:n=_),class:"login-name",placeholder:"Password",autocomplete:"off"},null,512),[[O,s(n)]])]),Ya]),e("div",Qa,[e("div",{style:{flex:"1","background-color":"#e0e0e0",height:"100%","padding-left":"20px","border-radius":"0 0 0 5px",cursor:"pointer"},class:"flex-row flex align-items-center reg",onClick:c[2]||(c[2]=(..._)=>s(r)&&s(r)(..._))}," \u6CE8\u518C "),e("div",{class:"login justify-content-end flex-row flex align-items-center",onClick:c[3]||(c[3]=(..._)=>s(i)&&s(i)(..._))}," \u767B\u5F55 ")])]),Za])]))}};var el=B(Xa,[["__scopeId","data-v-ebbf28b4"]]),tl="https://cdn.jsdelivr.net/gh/jitask/cache/dist/images/team.jpg";const _e=l=>(N("data-v-17e8a1fc"),l=l(),F(),l),sl={style:{width:"100%",height:"100%"},class:"flex-row flex align-items-center justify-content-center"},al={style:{position:"relative",width:"1000px",height:"600px","background-color":"#f0f0f0",overflow:"hidden"},class:"flex-row flex align-items-center justify-content-center"},ll=se('<div style="position:absolute;width:800px;height:600px;" data-v-17e8a1fc><i class="bi bi-circle-fill" style="font-size:10rem;position:absolute;color:rgba(255, 206, 86, 0.3);top:-50px;left:150px;" data-v-17e8a1fc></i><i class="bi bi-circle-fill" style="font-size:20rem;position:absolute;color:rgba(75, 192, 192, 0.3);top:-150px;left:-120px;" data-v-17e8a1fc></i><i class="bi bi-circle-fill" style="font-size:30rem;position:absolute;color:rgba(255, 99, 132, 0.3);top:200px;left:460px;" data-v-17e8a1fc></i><i class="bi bi-circle-fill" style="font-size:15rem;position:absolute;color:rgba(153, 102, 255, 0.3);top:320px;left:330px;" data-v-17e8a1fc></i><i class="bi bi-circle-fill" style="font-size:18rem;position:absolute;color:rgba(0, 191, 255, 0.1);top:300px;left:-50px;" data-v-17e8a1fc></i><i class="bi bi-circle-fill" style="font-size:15rem;position:absolute;color:rgba(0, 128, 0, 0.1);top:130px;left:680px;" data-v-17e8a1fc></i></div>',1),ol={style:{position:"absolute",width:"900px",height:"500px","background-color":"#ffffff","border-radius":"5px",padding:"30px"},class:"flex-column flex"},il={class:"flex-row flex",style:{height:"100%"}},nl={class:"flex-column flex flex-fill me-4 pe-2",style:{width:"45%"}},rl=_e(()=>e("div",{style:{flex:"0 0 auto"},class:"flex-row flex fs-c10 fw-bolder"},"\u8BF7\u5B8C\u5584\u4F60\u7684\u4FE1\u606F\uFF0C\u514D\u8D39\u521B\u5EFA\u8BD5\u7528\u56E2\u961F",-1)),dl={key:0,style:{flex:"1"}},cl={class:"flex-row flex align-items-center",style:{padding:"30px 0"}},pl={style:{flex:"1 1 70%"}},ul={style:{flex:"1 1 30%","text-align":"right"}},_l=["disabled"],ml={class:"flex-row flex align-items-center"},fl={style:{"margin-top":"60px",color:"#909090"},class:"flex-row flex align-items-center justify-content-center"},hl={key:1,style:{flex:"1"}},xl={class:"flex-row flex align-items-center",style:{padding:"15px 0"}},vl={class:"flex-row flex align-items-center",style:{padding:"15px 0"}},gl={class:"flex-row flex align-items-center",style:{padding:"15px 0"}},yl={style:{"margin-top":"60px",color:"#909090"},class:"flex-row flex align-items-center justify-content-center"},bl={style:{flex:"0 0 100px"}},$l=_e(()=>e("div",{style:{flex:"0 0 20px"}},"\xA0",-1)),wl={style:{flex:"1"}},kl=_e(()=>e("div",{style:{color:"#909090",flex:"0 0 80px","text-align":"center"}}," \u6F14\u793A\u7248\uFF0C\u8BF7\u8F93\u5165\u5408\u6CD5\u7684\u624B\u673A\u53F7\u7801\uFF0C\u90AE\u7BB1\u7B49\u5373\u53EF\u901A\u8FC7\u9A8C\u8BC1 ",-1)),jl={style:{"border-left":"1px solid #e8e8e8",width:"55%"},class:"flex-column flex flex-fill justify-content-center"},Sl=_e(()=>e("div",{style:{flex:"0 0 auto"}},[e("div",{class:"flex-row flex align-items-center"},[e("div",{class:"ps-4"},[e("svg",{t:"1604535926297",class:"icon",viewBox:"0 0 1170 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5606",width:"25",height:"25"},[e("path",{d:"M1150.244571 327.0656L925.2864 26.975086c-3.920457-5.880686-14.862629-9.0112-25.951086-9.0112-10.620343 0-21.211429 2.8672-25.980343 9.0112l-207.608685 282.799543c-24.488229 37.917257-12.522057 51.931429 34.552685 51.931428h103.892115c-0.468114 50.5856-3.364571 102.341486-7.753143 137.216-20.948114 167.087543-127.268571 211.646171-131.744914 213.577143-15.594057 6.436571-12.6976 29.9008 6.407314 29.9008 268.463543 0 331.103086-310.915657 340.757943-380.693943h103.8336c1.462857 0.117029 3.861943 0.292571 6.816914 0.292572 15.623314 0 46.021486-3.978971 27.735771-34.933029z",fill:"#333333","p-id":"5607"}),e("path",{d:"M600.736914 567.968914h-134.026971c0.585143-65.301943 4.271543-132.213029 9.947428-177.210514 27.092114-215.683657 164.308114-273.261714 170.130286-275.6608 20.187429-8.367543 16.384-38.619429-8.279771-38.619429-346.5216 0-427.446857 401.408-439.9104 491.461486H64.570514a88.4736 88.4736 0 0 0-8.894171-0.4096c-20.099657 0-59.392 5.090743-35.810743 45.143772l290.464914 387.452342c5.061486 7.606857 19.2512 11.644343 33.528686 11.644343 13.692343 0 27.4432-3.715657 33.440914-11.644343l268.0832-365.187657c31.685486-48.9472 16.1792-66.9696-44.6464-66.9696z",fill:"#333333","p-id":"5608"})])]),e("div",{class:"ms-1"},[e("a",{href:"/",class:"fw-bolder fs-c11 home-title",style:{color:"#333333","letter-spacing":"3px","text-align":"center"}},"Jitask")]),e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1608034654856",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5182",width:"32",height:"32"},[e("path",{d:"M479.40136719 120.88671875h65.20605468v782.2265625h-65.20605468z","p-id":"5183",fill:"#2c2c2c"})])]),e("div",{class:"fw-bolder fs-c11",style:{color:"#333333","letter-spacing":"3px"}}," \u521B\u5EFA\u56E2\u961F ")])],-1)),Cl=_e(()=>e("div",{style:{opacity:"0.8"},class:"my-3 ps-2 text-center"},[e("img",{src:tl,width:"400",height:"200"})],-1)),Il={class:"flex-column flex flex-fill"},zl=_e(()=>e("div",{style:{color:"#333333"},class:"pt-2 ps-4 fw-bolder fs-c10"}," \u60A8\u53EF\u4EE5\u5C1D\u8BD5 Jitask \u5168\u7EBF\u4EA7\u54C1\u7684\u529F\u80FD ",-1)),Tl={style:{flex:"1","text-align":"left"}},Ml=_e(()=>e("div",{style:{flex:"0 0 auto",color:"#1e7e34"}},[e("i",{class:"bi bi-check"})],-1)),Ll=se('<div style="position:absolute;bottom:10px;" data-v-17e8a1fc><div style="flex:0 0 60px;" class="flex-row flex align-items-center justify-content-center copyright" data-v-17e8a1fc><div data-v-17e8a1fc> Copyright \xA92020 <a href="/" data-v-17e8a1fc>\u7231\u65AF\u56ED</a></div><div style="margin-left:5px;" data-v-17e8a1fc><a href="https://beian.miit.gov.cn" target="_blank" data-v-17e8a1fc>\u7CA4ICP\u59072020117325\u53F7</a></div></div></div>',1),Dl={setup(l){let{proxy:a}=I(),o=Q(""),t=Q(""),n=Q(""),i=Q(""),r=Q(""),p=Q(!0),c=Q(!1),_=Q(!1),m=S({items:[{uuid:"a",name:"\u7BA1\u7406\u56E2\u961F\uFF0C\u6210\u5458\u89D2\u8272\u7BA1\u7406\uFF0C\u4EFB\u52A1\u7BA1\u7406\uFF0C\u6743\u9650\u914D\u7F6E"},{uuid:"c",name:"\u6587\u6863\u8D44\u6599\u7BA1\u7406"},{uuid:"d",name:"\u4E2A\u4EBA\u5DE5\u4F5C\u53F0\u67E5\u770B\u4E2A\u4EBA\u4EFB\u52A1\u60C5\u51B5"},{uuid:"e",name:"\u9879\u76EE\u62A5\u8868\uFF0C\u9879\u76EE\u8FDB\u5C55\u56FE\u6807\u5C55\u793A"}]}),f=()=>{if(!o.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801");return}if(!t.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801");return}if(t.value.toString().length!==6){a.bus.emit("alertDanger","\u9A8C\u8BC1\u7801\u662F\u516D\u4F4D\u6570\u5B57");return}p.value=!1,c.value=!0},h=()=>{p.value=!0,c.value=!1},v=()=>{if(!n.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u90AE\u7BB1\u5730\u5740");return}if(!i.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u5BC6\u7801");return}if(!r.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u56E2\u961F\u540D\u79F0");return}let y="-",$=n.value.split("@");$&&$.length===2&&(y=$[0]);let k={name:y,team_name:r.value,email:n.value,password:i.value,phone:"+"+o.value,phone_code:t.value,team_role:"admin"};a.post(a.urls.team_create,k).then(function(D){D.data.code===200&&(window.location.href="/")}).catch(function(D){a.bus.emit("alertDanger",D.response.data.errcode)})},g=()=>{if(_.value=!0,!o.value){a.bus.emit("alertDanger","\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801");return}a.post(a.urls.send_phone_code.format("+"+o.value)).then(function(y){y.data.code&&(t.value=y.data.code)}).catch(function(y){_.value=!1,a.bus.emit("alertDanger",y.response.data.errcode)})};return(y,$)=>(d(),u("div",sl,[e("div",al,[ll,e("div",ol,[e("div",il,[e("div",nl,[rl,s(p)?(d(),u("div",dl,[e("div",cl,[e("div",pl,[U(e("input",{type:"text","onUpdate:modelValue":$[0]||($[0]=k=>oe(o)?o.value=k:o=k),class:"form-control reg-input",placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7\u7801",autocomplete:"off"},null,512),[[O,s(o),void 0,{trim:!0}]])]),e("div",ul,[e("button",{type:"button",class:"btn btn-outline-primary",style:{height:"40px",outline:"none","box-shadow":"none"},disabled:s(_),onClick:$[1]||($[1]=(...k)=>s(g)&&s(g)(...k))},"\u53D1\u9001\u9A8C\u8BC1\u7801",8,_l)])]),e("div",ml,[U(e("input",{type:"text","onUpdate:modelValue":$[2]||($[2]=k=>oe(t)?t.value=k:t=k),class:"form-control reg-input",placeholder:"\u8BF7\u8F93\u5165 6 \u4F4D\u6570\u5B57\u9A8C\u8BC1\u7801",autocomplete:"off"},null,512),[[O,s(t),void 0,{trim:!0}]])]),e("div",fl,[e("button",{type:"button",class:"btn btn-primary",style:{height:"40px",width:"100%",outline:"none","box-shadow":"none"},onClick:$[3]||($[3]=(...k)=>s(f)&&s(f)(...k))},"\u63D0\u4EA4\u9A8C\u8BC1")])])):z("",!0),s(c)?(d(),u("div",hl,[e("div",xl,[U(e("input",{type:"text","onUpdate:modelValue":$[4]||($[4]=k=>oe(n)?n.value=k:n=k),class:"form-control reg-input",placeholder:"\u8BF7\u8F93\u5165\u60A8\u7684\u90AE\u7BB1",autocomplete:"off"},null,512),[[O,s(n),void 0,{trim:!0}]])]),e("div",vl,[U(e("input",{type:"password","onUpdate:modelValue":$[5]||($[5]=k=>oe(i)?i.value=k:i=k),class:"form-control reg-input",placeholder:"\u5BC6\u7801\u5E94\u4E3A8-32\u4F4D\uFF0C\u5FC5\u987B\u540C\u65F6\u5305\u542B\u6570\u5B57\u5B57\u6BCD",autocomplete:"off"},null,512),[[O,s(i),void 0,{trim:!0}]])]),e("div",gl,[U(e("input",{type:"text","onUpdate:modelValue":$[6]||($[6]=k=>oe(r)?r.value=k:r=k),class:"form-control reg-input",placeholder:"\u8BF7\u8F93\u5165\u56E2\u961F\u540D\u79F0",autocomplete:"off"},null,512),[[O,s(r),void 0,{trim:!0}]])]),e("div",yl,[e("div",bl,[e("button",{type:"button",class:"btn btn-outline-primary",style:{height:"40px",width:"100%",outline:"none","box-shadow":"none"},onClick:$[7]||($[7]=(...k)=>s(h)&&s(h)(...k))},"\u8FD4\u56DE")]),$l,e("div",wl,[e("button",{type:"button",class:"btn btn-primary",style:{height:"40px",width:"100%",outline:"none","box-shadow":"none"},onClick:$[8]||($[8]=(...k)=>s(v)&&s(v)(...k))},"\u521B\u5EFA\u56E2\u961F")])])])):z("",!0),kl]),e("div",jl,[Sl,Cl,e("div",Il,[zl,(d(!0),u(w,null,M(s(m).items,k=>(d(),u("div",{key:k.uuid,class:"flex-row flex b-line align-items-center py-2 ms-4"},[e("div",Tl,b(k.name),1),Ml]))),128))])])])]),Ll])]))}};var Bl=B(Dl,[["__scopeId","data-v-17e8a1fc"]]);const Pl={id:"logout"},Vl={setup(l){let{proxy:a}=I();return C(()=>{a.get(a.urls.logout).then(function(o){o.data.code===200&&(window.location.href="/")})}),(o,t)=>(d(),u("div",Pl," Bye-Bye, Baby! "))}};var Hl=B(Vl,[["__scopeId","data-v-509ea504"]]);const Ul=["disabled"],ql={class:"flex-row flex align-items-center",style:{color:"inherit"}},Nl={key:0,style:{flex:"0 0 auto","margin-right":"5px"},class:"flex"},Fl=e("svg",{t:"1601478700106",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"34798",width:"12",height:"12"},[e("path",{d:"M956.1240653818753 579.0559211537523h-377.4918801217032v377.55208924331106c0 36.792317387069836-29.839867873102275 66.60264870994936-66.63332128133455 66.60264870994936-36.792317387069836 0-66.63218526017215-29.81033132287954-66.63218526017215-66.60264870994936v-377.55208924331106h-377.49415216402804c-36.822989958455004 0-66.63218526017215-29.81033132287954-66.63218526017215-66.60264870994936 0-36.77868513312089 29.812603365204367-66.60264870994936 66.63218526017215-66.60264870994936h377.4918801217032v-377.55208924331106c0-36.77868513312089 29.839867873102275-66.60264870994936 66.63218526017215-66.60264870994936 36.793453408232246 0 66.63332128133455 29.825099597990917 66.63332128133455 66.60264870994936v377.55322526447344h377.4918801217032c36.822989958455004 0 66.63332128133455 29.822827555666088 66.63332128133455 66.60037666762456-0.0011360211624130007 36.792317387069836-29.81033132287954 66.60037666762456-66.63332128133455 66.60037666762456z",fill:"#ffffff","p-id":"34799"})],-1),El=[Fl],Al={style:{flex:"1",color:"inherit"}},ae={props:{title:{type:String},disabled:{type:Boolean,default:!1},plus:{type:Boolean,default:!1}},emits:["submit"],setup(l,{emit:a}){const o=l;let t=()=>{o.disabled||a("submit")};return(n,i)=>(d(),u("button",{type:"button",class:"btn btn-submit",disabled:l.disabled,onClick:i[0]||(i[0]=(...r)=>s(t)&&s(t)(...r))},[e("div",ql,[l.plus?(d(),u("div",Nl,El)):z("",!0),e("div",Al,b(l.title),1)])],8,Ul))}};const xt=l=>(N("data-v-374068ce"),l=l(),F(),l),Rl={class:"flex-row flex align-items-center wiki-header"},Ol={class:"wiki-header-logo"},Gl=xt(()=>e("div",{class:"flex-row flex align-items-center"},[e("div",null,[e("svg",{t:"1604535926297",class:"icon",viewBox:"0 0 1170 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5606",width:"25",height:"25"},[e("path",{d:"M1150.244571 327.0656L925.2864 26.975086c-3.920457-5.880686-14.862629-9.0112-25.951086-9.0112-10.620343 0-21.211429 2.8672-25.980343 9.0112l-207.608685 282.799543c-24.488229 37.917257-12.522057 51.931429 34.552685 51.931428h103.892115c-0.468114 50.5856-3.364571 102.341486-7.753143 137.216-20.948114 167.087543-127.268571 211.646171-131.744914 213.577143-15.594057 6.436571-12.6976 29.9008 6.407314 29.9008 268.463543 0 331.103086-310.915657 340.757943-380.693943h103.8336c1.462857 0.117029 3.861943 0.292571 6.816914 0.292572 15.623314 0 46.021486-3.978971 27.735771-34.933029z",fill:"#ffffff","p-id":"5607"}),e("path",{d:"M600.736914 567.968914h-134.026971c0.585143-65.301943 4.271543-132.213029 9.947428-177.210514 27.092114-215.683657 164.308114-273.261714 170.130286-275.6608 20.187429-8.367543 16.384-38.619429-8.279771-38.619429-346.5216 0-427.446857 401.408-439.9104 491.461486H64.570514a88.4736 88.4736 0 0 0-8.894171-0.4096c-20.099657 0-59.392 5.090743-35.810743 45.143772l290.464914 387.452342c5.061486 7.606857 19.2512 11.644343 33.528686 11.644343 13.692343 0 27.4432-3.715657 33.440914-11.644343l268.0832-365.187657c31.685486-48.9472 16.1792-66.9696-44.6464-66.9696z",fill:"#ffffff","p-id":"5608"})])]),e("div",{class:"wiki-header-link flex-row flex align-items-center"}," Jitask ")],-1)),Wl={class:"wiki-header-title"},Kl=H("\u6587\u6863\u4E2D\u5FC3"),Jl={class:"flex-column flex wiki-header-new"},Yl=xt(()=>e("div",{class:"flex-fill"},null,-1)),Ql={setup(l){let a=j(),o=T(),t=S({team:a.params.team,space:a.params.space,page:a.params.page});J(()=>a.params,i=>{t.team=a.params.team,t.space=a.params.space,t.page=a.params.page});let n=()=>{t.page&&a.name!=="AddPage"&&o.push({name:"AddPage",params:{team:t.team,space:t.space,page:t.page}})};return(i,r)=>{const p=R("router-link");return d(),u("div",Rl,[e("div",Ol,[x(p,{to:{name:"Index"}},{default:L(()=>[Gl]),_:1})]),e("div",Wl,[x(p,{icon:"Wiki",to:{name:"Spaces",params:{team:s(t).team}}},{default:L(()=>[Kl]),_:1},8,["to"])]),e("div",Jl,[x(ae,{title:"\u65B0\u5EFA\u9875\u9762",plus:!0,onSubmit:s(n)},null,8,["onSubmit"])]),Yl,x(ft)])}}};var Zl=B(Ql,[["__scopeId","data-v-374068ce"]]);const Xl={},eo={class:"flex-row flex flex-fill",style:{height:"0"}};function to(l,a){const o=R("router-view");return d(),u("div",eo,[x(o)])}var so=B(Xl,[["render",to]]);const ao={class:"flex-column flex flex-fill layout-bg layout-w"},lo={setup(l){return(a,o)=>(d(),u("div",ao,[x(Zl),x(so)]))}},oo={},io={class:"flex-fill text-center mt-4 fs-5"};function no(l,a){return d(),u("div",io,"\u5E2E\u52A9\u4E2D\u5FC3")}var ro=B(oo,[["render",no]]);const co={key:0,class:"text-end pe-3 opacity-75"},po=e("svg",{t:"1643549855974",class:"icon",viewBox:"0 0 1082 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7788",width:"32",height:"32"},[e("path",{d:"M123.183294 782.178038h289.420943v49.919133c9.830744 9.854664 24.062601 9.854664 33.917264 0l58.003785-58.147298c7.654108-7.127888 7.654108-23.5603-2.200556-31.262246l-58.003784-58.147299c-9.830744-9.878583-24.062601-9.878583-33.917265 0v49.919133H123.183294c-9.854664 0-15.858354 6.55383-15.858354 15.906193v15.906192c0 9.878583 6.577749 15.906192 15.858354 15.906192z m615.222817-247.060241c74.125248-45.398426 123.900867-127.082105 123.900866-219.840322 0.550139-142.031534-115.43351-257.728154-257.130177-257.728154s-257.130177 116.246759-257.130176 257.728154c0 93.045245 49.943052 174.537572 123.948704 219.864241a448.626381 448.626381 0 0 0-230.07769 165.328724H380.313471V671.40875l9.854663-9.878583c11.481161-11.50508 24.062601-15.882273 39.920955-15.882273 15.882273 0 29.013852 6.55383 39.944874 15.882273l58.003784 58.147299c22.436103 22.483941 22.436103 58.147299 0 78.956904l-59.630282 56.496881c-11.481161 11.50508-24.08652 15.906192-39.944874 15.906193a50.947654 50.947654 0 0 1-15.858354-3.300834v8.228165c0 14.279694-4.927332 27.411273-15.858354 37.313775l-51.426035 51.545631s-1.626498 1.626498-3.276915 1.626498h713.386746a450.635584 450.635584 0 0 0-317.023568-431.332882z m-133.229311-389.283128c-9.830744 0-15.858354-6.577749-15.858354-15.906193 0-9.878583 6.55383-15.906192 15.858354-15.906192 9.854664 0 15.858354 6.577749 15.858355 15.906192 0.550139 9.854664-6.003691 15.906192-15.858355 15.906193z m59.630282 12.055219c-8.204247-3.300834-12.581439-13.155497-9.830744-20.833524 3.276915-8.228166 13.131578-13.155497 20.785686-9.878583 67.28439 24.158277 115.983649 83.932074 128.565088 154.660812 4.903413 27.411273 3.276915 54.846465-3.300834 82.257737-2.726776 6.02761-9.304525 10.978861-15.332134 10.978861h-3.276915c-8.228166-1.650417-14.231856-11.529-11.481161-19.207026 4.927332-22.483941 6.55383-46.618299 1.626498-69.10224-9.806825-59.797716-51.402116-109.692929-107.755484-128.876037z m-289.420943 705.469529l-51.402116-51.545631a20.139871 20.139871 0 0 0-29.013852 0v43.341384H41.140828c-8.204247 1.650417-14.231856 8.228166-14.231856 16.456332v14.279694a14.112261 14.112261 0 0 0 14.231856 14.255776h253.829343v43.341384a20.139871 20.139871 0 0 0 29.013852 0l51.402116-51.545631c8.228166-7.749784 8.228166-20.379061 0-28.583308z",fill:"#727cf5","p-id":"7789"})],-1),uo=[po],_o={key:1,class:"text-end pe-3 opacity-75"},mo=e("svg",{t:"1643549687742",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5654",width:"32",height:"32"},[e("path",{d:"M834.56 611.84c-51.2-48.64-117.76-84.48-192-104.96 66.56-43.52 110.08-117.76 110.08-202.24 0-133.12-107.52-240.64-240.64-240.64s-240.64 107.52-240.64 240.64c0 87.04 46.08 163.84 115.2 204.8-117.76 33.28-215.04 112.64-258.56 217.6-17.92 43.52 2.56 104.96 43.52 130.56 102.4 64 220.16 99.84 345.6 99.84 20.48 0 43.52-2.56 64-2.56l43.52-140.8 209.92-202.24z",fill:"#727cf5","p-id":"5655"}),e("path",{d:"M732.16 921.6c48.64-17.92 97.28-40.96 140.8-69.12 35.84-23.04 53.76-71.68 46.08-112.64L732.16 921.6z",fill:"#727cf5","p-id":"5656"}),e("path",{d:"M652.118233 824.583475l164.72472-164.730471 74.219224 74.216632-164.724721 164.730471z",fill:"#727cf5","p-id":"5657"}),e("path",{d:"M614.4 936.96l104.96-30.72-74.24-74.24z",fill:"#727cf5","p-id":"5658"}),e("path",{d:"M921.6 675.84l-46.08-46.08c-7.68-7.68-20.48-7.68-28.16 0l-23.04 23.04 74.24 74.24 23.04-23.04c7.68-7.68 7.68-20.48 0-28.16z",fill:"#727cf5","p-id":"5659"})],-1),fo=[mo],ho={key:2,class:"text-end pe-3 opacity-75"},xo=e("svg",{t:"1643549788418",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6648",width:"32",height:"32"},[e("path",{d:"M803.8 822.1m-188.4 0a188.4 188.4 0 1 0 376.8 0 188.4 188.4 0 1 0-376.8 0Z",fill:"#727cf5","p-id":"6649"}),e("path",{d:"M922.7 739.2c-16-16-41.9-16-57.9 0l-95.7 95.7-26.2-26.2c-16-16-41.9-16-57.9 0s-16 41.9 0 57.9l55.2 55.2c16 16 41.9 16 57.9 0l1.5-1.5 0.9-0.9 122.2-122.2c16-16.1 16-42 0-58z",fill:"#727cf5","p-id":"6650"}),e("path",{d:"M584.1 824.1c0-110.2 82.3-201.2 188.8-214.9 1.8-7 5.5-13.5 10.9-18.7L973 406c24-23.4 10.7-64.1-22.4-68.9l-261.5-38c-13.1-1.9-24.5-10.2-30.4-22.1l-117-237c-14.8-30-57.6-30-72.4 0l-117 237c-5.9 11.9-17.2 20.2-30.4 22.1l-261.5 38C27.3 341.9 14.1 382.6 38 406l189.3 184.5c9.5 9.3 13.9 22.6 11.6 35.7l-44.7 260.5c-5.7 33 29 58.1 58.6 42.6l233.9-123c11.5-6 25.2-6.2 36.7-0.4l61.1 32.6c-0.2-4.8-0.4-9.6-0.4-14.4z",fill:"#727cf5","p-id":"6651"})],-1),vo=[xo],go={class:"flex-column flex align-items-center"},yo={class:"justify-content-start align-items-start fw-bolder opacity-50",style:{"margin-top":"-20px","font-size":"60px",color:"#CD950C","font-family":'Georgia, "Times New Roman", Times, serif'}},bo={class:"fs-c10"},We={props:["title","count","index"],setup(l){let a=T(),t=j().params.team,n=()=>{a.push({name:"Workbench",params:{team:t,type:"dashboard"}})};return(i,r)=>(d(),u("div",{class:"flex-column flex flex-fill pt-3 pb-4 jiBox pointer",onClick:r[0]||(r[0]=(...p)=>s(n)&&s(n)(...p))},[l.index===1?(d(),u("div",co,uo)):l.index===2?(d(),u("div",_o,fo)):l.index===3?(d(),u("div",ho,vo)):z("",!0),e("div",go,[e("div",yo,b(l.count),1),e("div",bo,b(l.title),1)])]))}},$o={style:{height:"175px"},class:"flex-column flex pt-3 px-3 jiBox grid-box"},wo={style:{flex:"0 0 auto",color:"#333333"},class:"flex-row flex align-items-center"},ko={style:{flex:"1","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","font-size":"15px"}},jo={key:0,style:{flex:"0 0 auto",color:"#909090","font-size":"14px"}},So={key:1,style:{flex:"0 0 auto",color:"#909090","font-size":"14px"}},Co={class:"chart-container flex flex-fill",style:{position:"relative",width:"100%",height:"100%",overflow:"hidden"}},Io=["id"],zo={props:["project"],emits:["loadProjectList"],setup(l,{emit:a}){const o=l;let{proxy:t}=I(),n=T(),i=j(),r=S({team:i.params.team,chart:"",label:!0});we(()=>{r.chart="projectChart"+o.project.uuid}),C(()=>{let m={labels:["\u672A\u5F00\u59CB","\u8FDB\u884C\u4E2D","\u5DF2\u5B8C\u6210"],datasets:[{data:[o.project.to_do_count,o.project.in_progress_count,o.project.done_count],backgroundColor:["rgba(255, 99, 132, 0.4)","rgba(54, 162, 235, 0.4)","rgba(255, 206, 86, 0.4)"],hoverOffset:4}]};o.project.to_do_count+o.project.in_progress_count+o.project.done_count===0&&(r.label=!1,m={labels:["\u65E0\u4EFB\u52A1"],datasets:[{data:[1],backgroundColor:["rgba(0, 0, 0, 0.1)"],hoverOffset:4}]});let f={type:"pie",data:m,options:{responsive:!0,maintainAspectRatio:!1,animation:!1,plugins:{legend:{display:!0,position:"right"}}}};new Chart(document.getElementById(r.chart),f)});let p=()=>{n.push({name:"Project",params:{team:r.team,project:o.project.uuid}})},c=m=>{m.stopPropagation(),t.post(t.urls.project_pin.format(r.team,o.project.uuid)).then(function(f){f.data.code===200&&a("loadProjectList")}).catch(function(f){t.bus.$emit("alertDanger",f.response.data.errcode)})},_=m=>{m.stopPropagation(),t.post(t.urls.project_unpin.format(r.team,o.project.uuid)).then(function(f){f.data.code===200&&a("loadProjectList")}).catch(function(f){t.bus.$emit("alertDanger",f.response.data.errcode)})};return(m,f)=>(d(),u("div",$o,[e("div",null,[e("div",wo,[e("div",ko,b(l.project.name),1),e("div",{style:{flex:"0 0 auto","align-content":"end"},class:V([{pined:l.project.is_pin},"pin-star"])},[l.project.is_pin?(d(),u("i",{key:0,onClick:f[0]||(f[0]=(...h)=>s(_)&&s(_)(...h)),class:"bi bi-star-fill"})):(d(),u("i",{key:1,class:"bi bi-star",onClick:f[1]||(f[1]=(...h)=>s(c)&&s(c)(...h))}))],2)]),s(r).label?(d(),u("div",jo,"\u66F4\u65B0\u4E8E"+b(m.filters.timeFormat(l.project.task_update_time/1e3)),1)):(d(),u("div",So,"\u6682\u65E0\u4EFB\u52A1"))]),e("div",{onClick:f[2]||(f[2]=(...h)=>s(p)&&s(p)(...h)),class:"flex-row flex flex-fill align-items-center justify-content-center pointer py-2",style:{height:"0"}},[e("div",Co,[e("canvas",{id:s(r).chart},null,8,Io)])])]))}},To={style:{height:"175px"},class:"flex-column flex p-3 jiBox grid-box"},Mo={style:{flex:"0 0 auto"}},Lo={style:{flex:"0 0 auto",color:"#333333"},class:"flex-row flex align-items-center"},Do={style:{flex:"1","white-space":"nowrap","text-overflow":"ellipsis",overflow:"hidden","font-size":"15px"}},Bo={style:{flex:"0 0 auto",color:"#909090","font-size":"14px"}},Po={style:{flex:"1","font-size":"70px","font-weight":"bolder",color:"#800000",opacity:"0.4","font-family":"Georgia, 'Times New Roman', Times, serif"},class:"flex-row flex align-items-center justify-content-center"},vt={props:{space:Object},emits:["loadSpaceList"],setup(l,{emit:a}){const o=l;let{proxy:t}=I(),n=T(),i=j(),r="";we(()=>{r=i.params.team});let p=()=>{n.push({name:"Space",params:{team:r,space:o.space.uuid}})},c=m=>{m.stopPropagation(),t.post(t.urls.space_pin.format(r,o.space.uuid)).then(function(f){f.data.code===200&&a("loadSpaceList")}).catch(function(f){t.bus.emit("alertDanger",f.response.data.errcode)})},_=m=>{m.stopPropagation(),t.post(t.urls.space_unpin.format(r,o.space.uuid)).then(function(f){f.data.code===200&&a("loadSpaceList")}).catch(function(f){t.bus.$emit("alertDanger",f.response.data.errcode)})};return(m,f)=>(d(),u("div",To,[e("div",Mo,[e("div",Lo,[e("div",Do,b(l.space.title),1),e("div",{style:{flex:"0 0 auto","align-content":"end"},class:V([{pined:l.space.is_pin},"pin-star"])},[l.space.is_pin?(d(),u("i",{key:0,onClick:f[0]||(f[0]=(...h)=>s(_)&&s(_)(...h)),class:"bi bi-star-fill"})):(d(),u("i",{key:1,class:"bi bi-star",onClick:f[1]||(f[1]=(...h)=>s(c)&&s(c)(...h))}))],2)]),e("div",Bo,"\u66F4\u65B0\u4E8E "+b(m.filters.timeFormat(l.space.updated_time)),1)]),e("div",{onClick:f[2]||(f[2]=(...h)=>s(p)&&s(p)(...h)),style:{flex:"1",cursor:"pointer"},class:"flex-row flex align-items-center justify-content-center"},[e("div",Po,b(l.space.page_count),1)])]))}},Vo={class:"flex-row flex justify-content-between owl-h"},Ho={style:{margin:"20px 0 0 0"}},Uo={class:"flex-row flex b-line",style:{padding:"0 20px 5px 0"}},qo=e("div",{style:{flex:"1","font-size":"18px"}},"\u9879\u76EE / \u6700\u8FD1\u66F4\u65B0",-1),No={class:"flex-row flex wb-setting outline-none"},Fo=e("div",{style:{flex:"0 0 auto",color:"inherit"},class:"flex-row flex align-items-center"},[e("i",{class:"bi bi-gear"})],-1),Eo={style:{flex:"1","flex-direction":"row",position:"relative"},class:"flex-row flex flex-wrap pt-4 d-grid grid-task"},Ao={style:{margin:"20px 0 0 0"}},Ro={class:"flex-row flex b-line",style:{padding:"0 20px 5px 0"}},Oo=e("div",{style:{flex:"1","font-size":"18px"}},"\u6587\u6863 / \u6700\u8FD1\u66F4\u65B0",-1),Go={class:"flex-row flex wb-setting outline-none"},Wo=e("div",{style:{flex:"0 0 auto",color:"inherit"},class:"flex-row flex align-items-center"},[e("i",{class:"bi bi-gear"})],-1),Ko={style:{flex:"1","flex-direction":"row",position:"relative"},class:"flex-row flex flex-wrap pt-4 d-grid grid-task"},Jo={class:"modal fade",id:"settingSize","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Yo={class:"modal-dialog modal-sm"},Qo={class:"modal-content"},Zo={class:"modal-body"},Xo={class:"flex-column my-3"},ei=e("label",{class:"col-md-12 control-label"},"\u6700\u591A\u663E\u793A\u4E2A\u6570",-1),ti={class:"col-md-12 mt-2"},si={class:"modal-footer"},ai=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1),gt={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,projects:[],spaces:[],loaded:!1,project_size:"10",space_size:"10",size:"10",setting_key:"",assign:0,owner:0,watcher:0}),n=null;C(()=>{i(),p(),c(),r(),n=new bootstrap.Modal(document.getElementById("settingSize"),{keyboard:!1})});let i=()=>{let v=a.urls.team_global_setting.format(t.team),g=["workbench_project_size","workbench_space_size"];a.post(v,g).then(function(y){y.data&&Object.keys(y.data).forEach(function($){switch($){case"workbench_project_size":t.project_size=y.data[$].setting_value;break;case"workbench_space_size":t.space_size=y.data[$].setting_value;break}}),p(),c()})},r=()=>{a.post(a.urls.task_stat_by_team.format(t.team)).then(function(v){v.data&&v.data.assign&&(t.assign=v.data.assign,t.owner=v.data.owner,t.watcher=v.data.watcher)})},p=()=>{let v={size:t.project_size},g=a.urls.team_recent_projects.format(t.team);a.post(g,v).then(function(y){t.projects=[],y.data.forEach(function($){t.projects.push($)})})},c=()=>{let v={size:t.space_size},g=a.urls.team_recent_spaces.format(t.team);a.post(g,v).then(function(y){t.spaces=[],y.data.spaces.forEach(function($){t.spaces.push($)})})},_=()=>{t.size=t.project_size,t.setting_key="workbench_project_size"},m=()=>{t.size=t.space_size,t.setting_key="workbench_space_size"},f=()=>{},h=()=>{let v={setting_key:t.setting_key,setting_value:t.size};a.post(a.urls.team_global_setting_update.format(t.team),v).then(function(g){g.data.code===200&&(n.hide(),i())}).catch(function(g){a.bus.emit("alertDanger",g.response.data.errcode)})};return(v,g)=>(d(),u(w,null,[e("div",Vo,[x(We,{title:"\u6307\u6D3E\u7ED9\u6211\u7684\u4EFB\u52A1",count:s(t).assign,index:1},null,8,["count"]),x(We,{title:"\u6211\u521B\u5EFA\u7684\u4EFB\u52A1",count:s(t).owner,index:2},null,8,["count"]),x(We,{title:"\u6211\u5173\u6CE8\u7684\u4EFB\u52A1",count:s(t).watcher,index:3},null,8,["count"])]),e("div",Ho,[e("div",Uo,[qo,e("div",No,[Fo,e("div",{style:{"margin-left":"5px","font-size":"15px",color:"inherit"},class:"flex-row flex align-items-center pointer",onClick:g[0]||(g[0]=(...y)=>s(_)&&s(_)(...y)),"data-bs-toggle":"modal","data-bs-target":"#settingSize"}," \u663E\u793A\u8BBE\u7F6E ")])]),e("div",Eo,[(d(!0),u(w,null,M(s(t).projects,y=>(d(),E(zo,{project:y,key:y.uuid,onLoadProjectList:s(p)},null,8,["project","onLoadProjectList"]))),128))])]),e("div",Ao,[e("div",Ro,[Oo,e("div",Go,[Wo,e("div",{style:{"margin-left":"5px","font-size":"15px",color:"inherit"},class:"flex-row flex align-items-center pointer",onClick:g[1]||(g[1]=(...y)=>s(m)&&s(m)(...y)),"data-bs-toggle":"modal","data-bs-target":"#settingSize"}," \u663E\u793A\u8BBE\u7F6E ")])]),e("div",Ko,[(d(!0),u(w,null,M(s(t).spaces,y=>(d(),E(vt,{key:y.uuid,space:y,onLoadSpaceList:s(c)},null,8,["space","onLoadSpaceList"]))),128))])]),e("div",Jo,[e("div",Yo,[e("div",Qo,[e("div",Zo,[e("form",{ref:"form",onSubmit:g[3]||(g[3]=xe((...y)=>s(f)&&s(f)(...y),["stop","prevent"]))},[e("div",Xo,[ei,e("div",ti,[U(e("input",{type:"text","onUpdate:modelValue":g[2]||(g[2]=y=>s(t).size=y),name:"name",class:"form-control"},null,512),[[O,s(t).size]])])])],544)]),e("div",si,[ai,e("button",{type:"button",class:"btn btn-primary",onClick:g[4]||(g[4]=(...y)=>s(h)&&s(h)(...y))},"\u786E\u5B9A")])])])])],64))}};const li={props:{bgColor:String,color:String,name:String},setup(l){return(a,o)=>(d(),u("div",{class:"status",style:$e("background-color: "+l.bgColor+";color:"+l.color+";")},b(l.name),5))}};var Le=B(li,[["__scopeId","data-v-492642d4"]]);const oi={style:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center"}},me={props:{name:String,color:String},setup(l){const a=l,o=X(()=>{let n=a.name;switch(a.name){case"1":case"to_do":n="\u672A\u5F00\u59CB";break;case"2":case"in_progress":n="\u672A\u5F00\u59CB";break;case"3":case"done":n="\u5DF2\u5B8C\u6210";break}return n}),t=X(()=>{let n=a.color;switch(a.color){case"1":n="to_do";break;case"2":n="in_progress";break;case"3":n="done";break}return n});return(n,i)=>(d(),u("div",oi,[e("div",{class:V(["status",s(t)])},b(s(o)),3)]))}},ii={class:"flex-row flex align-items-center"},ni={style:{flex:"0 0 auto",display:"flex","align-items":"center"}},ri=["src","title"],di={key:0,style:{flex:"0 0 auto",display:"flex","align-items":"center","margin-left":"5px"}},De={props:{user:Object,includeName:{default:!0}},setup(l){return(a,o)=>(d(),u("div",ii,[e("div",ni,[e("img",{style:{height:"20px"},src:l.user.avatar,title:l.user.name,class:"rounded-circle"},null,8,ri)]),l.includeName?(d(),u("div",di,b(l.user.name),1)):z("",!0)]))}},ci={style:{flex:"1",overflow:"hidden","max-width":"360px"},class:"flex-row flex"},pi={class:"flex-column flex",style:{border:"1px solid #eef2f7","border-radius":"3px",flex:"1",overflow:"hidden"}},ui={style:{flex:"0 0 auto",padding:"15px 20px","font-weight":"700","background-color":"#f1f3fa","border-radius":"3px 3px 0 0"}},_i={style:{flex:"1","overflow-y":"auto"},class:"flex-column flex"},mi={id:"task-list",style:{padding:"0 15px 15px 15px","background-color":"#fafbfe",height:"0"},class:"flex-column flex"},fi=["title"],hi={class:"flex-row flex"},xi={style:{flex:"0 0 auto"}},vi={style:{flex:"1"},class:"flex-row flex"},gi=e("div",{style:{flex:"1"}}," \xA0 ",-1),yi={style:{flex:"0 0 auto"}},bi={style:{color:"#98a6ad","font-size":"12px"}},$i={style:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap","font-weight":"600",margin:"15px 0",cursor:"pointer","max-width":"288px"}},wi={class:"flex-row flex"},ki=e("div",{style:{flex:"0 0 30px"}},[e("i",{class:"bi bi-diagram-3-fill"})],-1),ji={style:{flex:"1"}},Si={class:"flex-row flex",style:{"margin-top":"15px"}},Ci={style:{flex:"1"}},Ii={style:{flex:"0 0 auto"}},Be={props:{title:String,tasks:Array,count:Number},setup(l){let o=j().params.team;return(t,n)=>{const i=R("router-link");return d(),u("div",ci,[e("div",pi,[e("div",ui,b(l.title)+" ("+b(l.count)+")",1),e("div",_i,[e("div",mi,[(d(!0),u(w,null,M(l.tasks,r=>(d(),u("div",{key:r.uuid,class:"task-item",style:{flex:"0 0 auto"}},[e("div",{title:r.summary,style:{border:"none","background-color":"#ffffff",flex:"1",padding:"20px","margin-top":"15px","border-radius":"5px","box-shadow":"0 0 35px 0 rgba(154,161,171, 0.15)"}},[e("div",hi,[e("div",xi,[x(Le,{color:r.priority.color,name:r.priority.value,bgColor:r.priority.background_color},null,8,["color","name","bgColor"])]),e("div",vi,[gi,e("div",yi,[e("div",bi,b(t.filters.formatDay(r.create_time)),1)])])]),e("div",$i,b(r.summary),1),e("div",wi,[ki,e("div",ji,[x(i,{to:{name:"Project",params:{team:s(o),project:r.project.uuid}}},{default:L(()=>[H(b(r.project.name),1)]),_:2},1032,["to"])])]),e("div",Si,[e("div",Ci,[x(De,{user:r.owner},null,8,["user"])]),e("div",Ii,[x(me,{name:r.task_status.name,color:r.task_status.category.toString()},null,8,["name","color"])])])],8,fi)]))),128))])])])])}}},zi={class:"flex-column flex flex-fill h-100"},Ti=e("div",{class:"flex-row flex"},[e("div",{class:"flex-row flex-fill align-items-center"},[e("div",{class:"fs-c12"},"\u4EEA\u8868\u76D8")])],-1),Mi={class:"flex-row flex justify-content-between",style:{padding:"20px 0 0 0",flex:"1"}},Li={setup(l){const{proxy:a}=I();let o=j(),t=S({tasks_assign:[],tasks_owner:[],tasks_watcher:[],tasks_done:[]});return C(()=>{let n=o.params.team;a.post(a.urls.task_list_by_assign.format(n)).then(function(i){if(i.data&&i.data.length>0)for(let r=0;r<i.data.length;r++)if(i.data[r].category===3){let p=!0;for(let c=0;c<t.tasks_done.length;c++)if(t.tasks_done[c].uuid===i.data[r].uuid){p=!1;break}p&&t.tasks_done.push(i.data[r])}else t.tasks_assign.push(i.data[r])}),a.post(a.urls.task_list_by_owner.format(n)).then(function(i){if(i.data&&i.data.length>0)for(let r=0;r<i.data.length;r++)if(i.data[r].category===3){let p=!0;for(let c=0;c<t.tasks_done.length;c++)if(t.tasks_done[c].uuid===i.data[r].uuid){p=!1;break}p&&t.tasks_done.push(i.data[r])}else t.tasks_owner.push(i.data[r])}),a.post(a.urls.task_list_by_watcher.format(n)).then(function(i){if(i.data&&i.data.length>0)for(let r=0;r<i.data.length;r++)if(i.data[r].category===3){let p=!0;for(let c=0;c<t.tasks_done.length;c++)if(t.tasks_done[c].uuid===i.data[r].uuid){p=!1;break}p&&t.tasks_done.push(i.data[r])}else t.tasks_watcher.push(i.data[r])})}),(n,i)=>(d(),u("div",zi,[Ti,e("div",Mi,[x(Be,{tasks:s(t).tasks_assign,count:s(t).tasks_assign.length,title:"\u6211\u8D1F\u8D23\u7684\u5DE5\u4F5C\u9879"},null,8,["tasks","count"]),x(Be,{tasks:s(t).tasks_owner,count:s(t).tasks_owner.length,title:"\u6211\u63D0\u4EA4\u7684\u5DE5\u4F5C\u9879"},null,8,["tasks","count"]),x(Be,{tasks:s(t).tasks_watcher,count:s(t).tasks_watcher.length,title:"\u6211\u5173\u6CE8\u7684\u5DE5\u4F5C\u9879"},null,8,["tasks","count"]),x(Be,{tasks:s(t).tasks_done,count:s(t).tasks_done.length,title:"\u5B8C\u6210\u7684\u5DE5\u4F5C\u9879"},null,8,["tasks","count"])])]))}},Di={class:"flex-fill p-4 overflow-auto"},Bi={setup(l){let a=j(),o=Q("overview");C(()=>{o.value=a.params.type}),J(()=>a.params,n=>{o.value=n.type});let t=X(()=>{let n=gt;switch(o.value){case"overview":n=gt;break;case"dashboard":n=Li;break}return n});return(n,i)=>(d(),u("div",Di,[(d(),E(de(s(t))))]))}};const Pi=l=>(N("data-v-4827498b"),l=l(),F(),l),Vi={class:"search"},Hi=Pi(()=>e("div",{class:"flex-column flex",style:{position:"absolute","margin-left":"10px",height:"100%"}},[e("div",{style:{flex:"1",display:"flex","align-items":"center","justify-content":"center"}},[e("i",{class:"bi bi-search"})])],-1)),Ui=["placeholder"],qi={props:{placeholder:String},emits:["search"],setup(l,{emit:a}){let o=Q(""),t=()=>{a("search",o.value)};return(n,i)=>(d(),u("div",Vi,[Hi,U(e("input",{class:"form-control ps-c7","onUpdate:modelValue":i[0]||(i[0]=r=>oe(o)?o.value=r:o=r),onBlur:i[1]||(i[1]=(...r)=>s(t)&&s(t)(...r)),placeholder:l.placeholder},null,40,Ui),[[O,s(o)]])]))}};var Z=B(qi,[["__scopeId","data-v-4827498b"]]);const yt=l=>(N("data-v-17cc4444"),l=l(),F(),l),Ni={style:{flex:"0 0 auto"},class:"flex-row flex align-items-center"},Fi=["src"],Ei={style:{flex:"0 0 auto","margin-left":"5px"},class:"flex-row flex align-items-center"},Ai={key:0,style:{flex:"0 0 auto",display:"flex","align-items":"center","margin-left":"5px","font-size":"12px"}},Ri={key:1,style:{flex:"1"},class:"flex-row flex align-items-center"},Oi=yt(()=>e("div",{style:{flex:"1","min-width":"50px"}},null,-1)),Gi=yt(()=>e("div",{style:{flex:"0 0 auto",display:"flex","align-items":"center","text-align":"right"}},[e("i",{class:"bi bi-check"})],-1)),Wi=[Oi,Gi],Ki={props:{user:Object,hasEmail:{default:!1},selected:{default:!1}},emits:["submit"],setup(l,{emit:a}){const o=l,t=()=>{a("submit",o.user.uuid)};return(n,i)=>(d(),u("div",{class:V(["flex-row flex user align-items-center",{selected:l.selected}]),onClick:t},[e("div",Ni,[e("img",{style:{height:"16px"},src:l.user.avatar,class:"rounded-circle"},null,8,Fi)]),e("div",Ei,b(l.user.name),1),l.hasEmail?(d(),u("div",Ai," ("+b(l.user.email)+") ",1)):z("",!0),l.selected?(d(),u("div",Ri,Wi)):z("",!0)],2))}};var ge=B(Ki,[["__scopeId","data-v-17cc4444"]]);const Ke=l=>(N("data-v-259265f1"),l=l(),F(),l),Ji={class:"flex-column flex flex-fill h-100 overflow-auto"},Yi={class:"m-4 flex-fill jiBox"},Qi={class:"b-line mt-3 flex-row flex"},Zi={class:"flex-row flex tab-title ps-4"},Xi=["onClick"],en=Ke(()=>e("div",{style:{flex:"1"}},"\xA0",-1)),tn={class:"flex-row flex mt-3 px-3"},sn={style:{flex:"0 0 auto","flex-direction":"row","text-align":"left"}},an=Ke(()=>e("div",{style:{flex:"1",display:"inline-block"}},null,-1)),ln={style:{flex:"0 0 auto","flex-direction":"column","align-items":"center",display:"flex"}},on={style:{width:"100%","text-align":"right",flex:"1","align-items":"center",display:"flex"}},nn={style:{flex:"1",display:"inline-block"}},rn={key:0,class:"mt-3 px-3"},dn={class:"table table-hover"},cn=Ke(()=>e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u9879\u76EE\u540D\u79F0"),e("th",{scope:"col"},"\u9879\u76EE\u72B6\u6001"),e("th",{scope:"col"},"\u9879\u76EE\u8D1F\u8D23\u4EBA"),e("th",{scope:"col"},"\u5DE5\u4F5C\u9879\u76EE\u5B8C\u6210\u5EA6"),e("th",{scope:"col"},"\u8BA1\u5212\u5F00\u59CB\u65F6\u95F4"),e("th",{scope:"col"},"\u8BA1\u5212\u5B8C\u6210\u65F6\u95F4"),e("th",{scope:"col"},"\u5DE5\u4F5C\u9879\u6570\u91CF"),e("th",{scope:"col"},"\u8FDB\u884C\u4E2D\u5DE5\u4F5C\u9879")])],-1)),pn={class:"progress"},un={setup(l){const{proxy:a}=I();let o=T(),t=j(),n=S({team:t.params.team,cur:0,tabTitle:["\u5168\u90E8\u9879\u76EE","\u672A\u5F00\u59CB","\u8FDB\u884C\u4E2D","\u5DF2\u5B8C\u6210"],items:[],tasks_completed:!1,name:""});C(()=>{i()});let i=()=>{let _=a.urls.team_project_list.format(n.team),f={categories:n.cur===0?[]:[n.cur],name:n.name};a.post(_,f).then(function(h){n.items=h.data,n.tasks_completed=!0})},r=()=>{o.push({name:"AddProject",params:{team:n.team}})},p=_=>{n.name=_,i()},c=_=>{n.cur=_,i()};return(_,m)=>{const f=R("router-link");return d(),u("div",Ji,[e("div",Yi,[e("div",Qi,[e("div",Zi,[(d(!0),u(w,null,M(s(n).tabTitle,(h,v)=>(d(),u("div",{class:V(["justify-content-between align-items-center pointer px-3 pb-2",{active:s(n).cur===v}]),onClick:g=>s(c)(v),key:v},b(h),11,Xi))),128))]),en]),e("div",tn,[e("div",sn,[x(ae,{title:"\u65B0\u589E\u9879\u76EE",plus:!0,onSubmit:s(r)},null,8,["onSubmit"])]),an,e("div",ln,[e("div",on,[e("div",nn,[x(Z,{onSearch:s(p),placeholder:"\u9879\u76EE\u540D\u79F0"},null,8,["onSearch"])])])])]),s(n).tasks_completed?(d(),u("div",rn,[e("table",dn,[cn,e("tbody",null,[(d(!0),u(w,null,M(s(n).items,h=>(d(),u("tr",null,[e("td",null,[x(f,{to:{name:"Project",params:{team:s(n).team,project:h.uuid}}},{default:L(()=>[H(b(h.name),1)]),_:2},1032,["to"])]),e("td",null,[x(me,{name:h.status_category,color:h.status_uuid},null,8,["name","color"])]),e("td",null,[x(ge,{user:h.assign},null,8,["user"])]),e("td",null,[e("div",pn,[e("div",{class:"progress-bar progress-bar-striped bg-success",role:"progressbar",style:$e("width:"+(h.done_count*100/(h.to_do_count+h.in_progress_count+h.done_count)).toFixed(0)+"%"),"aria-valuemax":"100"},null,4)])]),e("td",null,b(_.filters.formatDate(h.plan_start_time)),1),e("td",null,b(_.filters.formatDate(h.plan_end_time)),1),e("td",null,b(h.to_do_count+h.in_progress_count+h.done_count),1),e("td",null,b(h.in_progress_count),1)]))),256))])])])):z("",!0)])])}}};var _n=B(un,[["__scopeId","data-v-259265f1"]]);const Je=l=>(N("data-v-04b92286"),l=l(),F(),l),mn={id:"project-setting-menu",class:"pt-4"},fn=Je(()=>e("div",{style:{flex:"0",padding:"5px 0 5px 30px",width:"100%","font-size":"18px","margin-bottom":"20px"}},"\u914D\u7F6E\u4E2D\u5FC3",-1)),hn=Je(()=>e("div",{style:{flex:"0",padding:"5px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u9879\u76EE",-1)),xn=H("\u9879\u76EE\u7BA1\u7406"),vn=H("\u9879\u76EE\u5C5E\u6027"),gn=H("\u9879\u76EE\u72B6\u6001"),yn=Je(()=>e("div",{style:{flex:"0",padding:"20px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u5DE5\u4F5C\u9879",-1)),bn=H("\u5DE5\u4F5C\u9879\u7C7B\u578B"),$n=H("\u5DE5\u4F5C\u9879\u5C5E\u6027"),wn=H("\u5DE5\u4F5C\u9879\u72B6\u6001"),kn=H("\u4F18\u5148\u7EA7"),jn={props:{tagIndex:Number},setup(l){let o=j().params.team;return(t,n)=>{const i=R("router-link");return d(),u("div",mn,[fn,hn,e("div",{class:V({active:l.tagIndex===1})},[x(i,{to:{name:"ProjectSettingManager",params:{team:s(o)}}},{default:L(()=>[xn]),_:1},8,["to"])],2),e("div",{class:V({active:l.tagIndex===2})},[x(i,{to:{name:"ProjectSettingField",params:{team:s(o)}}},{default:L(()=>[vn]),_:1},8,["to"])],2),e("div",{class:V({active:l.tagIndex===3})},[x(i,{to:{name:"ProjectSettingStatus",params:{team:s(o)}}},{default:L(()=>[gn]),_:1},8,["to"])],2),yn,e("div",{class:V({active:l.tagIndex===11})},[x(i,{to:{name:"IssueTypeSettingManager",params:{team:s(o)}}},{default:L(()=>[bn]),_:1},8,["to"])],2),e("div",{class:V({active:l.tagIndex===12})},[x(i,{to:{name:"IssueTypeSettingField",params:{team:s(o)}}},{default:L(()=>[$n]),_:1},8,["to"])],2),e("div",{class:V({active:l.tagIndex===13})},[x(i,{to:{name:"IssueTypeSettingStatus",params:{team:s(o)}}},{default:L(()=>[wn]),_:1},8,["to"])],2),e("div",{class:V({active:l.tagIndex===14})},[x(i,{to:{name:"IssueTypeSettingPriority",params:{team:s(o)}}},{default:L(()=>[kn]),_:1},8,["to"])],2)])}}};var Sn=B(jn,[["__scopeId","data-v-04b92286"]]);const Cn={class:"flex-row flex flex-fill",style:{height:"0"}},In={class:"flex-column flex flex-fill py-4 pe-4 overflow-auto"},zn={class:"jiBox flex-fill"},bt={setup(l){let a=j(),o=S({tagIndex:1});C(()=>{let n=a.name;t("{0}".format(n))}),J(()=>a.params,n=>{let i=a.name;t("{0}".format(i))});let t=n=>{switch(n){case"ProjectSettingManager":o.tagIndex=1;break;case"ProjectSettingField":o.tagIndex=2;break;case"ProjectSettingStatus":o.tagIndex=3;break;case"IssueTypeSetting":case"IssueTypeSettingManager":o.tagIndex=11;break;case"IssueTypeSettingField":o.tagIndex=12;break;case"IssueTypeSettingStatus":o.tagIndex=13;break;case"IssueTypeSettingPriority":o.tagIndex=14;break}};return(n,i)=>{const r=R("router-view");return d(),u("div",Cn,[x(Sn,{tagIndex:s(o).tagIndex,onTag_switch:s(t)},null,8,["tagIndex","onTag_switch"]),e("div",In,[e("div",zn,[x(r)])])])}}},Tn={class:"modal fade",id:"addSpace","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Mn={class:"modal-dialog modal-lg modal-dialog-scrollable"},Ln={class:"modal-content"},Dn=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},"\u65B0\u5EFA\u9875\u9762\u7EC4"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Bn={class:"modal-body"},Pn={style:{"margin-top":"6px"}},Vn={class:"flex-column my-3"},Hn=e("label",{class:"col-md-12 control-label"},"\u9875\u9762\u7EC4\u540D\u79F0",-1),Un={class:"col-md-12 mt-2"},qn={class:"flex-column my-3"},Nn=e("label",{class:"col-md-12 control-label"},"\u9875\u9762\u7EC4\u63CF\u8FF0",-1),Fn={class:"col-md-12 mt-2"},En={class:"modal-footer"},An=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1),Rn={emits:["loadSpaces"],setup(l,{emit:a}){const{proxy:o}=I();T();let t=j(),n=S({team:t.params.team,title:"",description:"",titleState:null}),i=null;C(()=>{i=new bootstrap.Modal(document.getElementById("addSpace"),{keyboard:!1})});let r=()=>{let p={title:n.title,description:n.description};o.post(o.urls.space_add.format(n.team),p).then(function(c){c.data.code===200&&(i.hide(),a("loadSpaces"))}).catch(function(c){o.bus.emit("alertDanger",c.response.data.errcode)})};return(p,c)=>(d(),u("div",Tn,[e("div",Mn,[e("div",Ln,[Dn,e("div",Bn,[e("form",{ref:"form",onSubmit:c[2]||(c[2]=xe((..._)=>s(r)&&s(r)(..._),["stop","prevent"]))},[e("div",Pn,[e("div",Vn,[Hn,e("div",Un,[U(e("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=_=>s(n).title=_),name:"title",class:"form-control",required:""},null,512),[[O,s(n).title]])])]),e("div",qn,[Nn,e("div",Fn,[U(e("textarea",{"onUpdate:modelValue":c[1]||(c[1]=_=>s(n).description=_),name:"description",class:"form-control",rows:"3"},null,512),[[O,s(n).description]])])])])],544)]),e("div",En,[An,e("button",{type:"button",class:"btn btn-primary",onClick:c[3]||(c[3]=(..._)=>s(r)&&s(r)(..._))},"\u786E\u5B9A")])])])]))}},On={class:"flex-column flex flex-fill pt-3 px-4 overflow-auto"},Gn={class:"flex-row flex header-container-inner"},Wn={style:{flex:"0 0 auto"}},Kn={class:"flex-row flex flex-wrap pt-3 d-grid grid-task"},Jn={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,spaces:[]});C(()=>{n()});let n=()=>{a.get(a.urls.spaces.format(t.team)).then(function(i){t.spaces=i.data.spaces})};return(i,r)=>(d(),u("div",On,[e("div",Gn,[e("div",Wn,[x(ae,{title:"\u65B0\u5EFA\u9875\u9762\u7EC4",plus:!0,"data-bs-toggle":"modal","data-bs-target":"#addSpace"})])]),e("div",Kn,[(d(!0),u(w,null,M(s(t).spaces,p=>(d(),E(vt,{key:p.uuid,space:p,desc:"\u6700\u8FD1\u9875\u9762\u66F4\u65B0\u4E8E 8 \u5C0F\u65F6\u524D",onLoadSpaceList:s(n)},null,8,["space","onLoadSpaceList"]))),128))]),x(Rn,{onLoadSpaces:s(n)},null,8,["onLoadSpaces"])]))}};const Ye=l=>(N("data-v-5e701986"),l=l(),F(),l),Yn={id:"project-setting-menu",class:"pt-4"},Qn=Ye(()=>e("div",{style:{flex:"0",padding:"5px 0 5px 30px",width:"100%","font-size":"18px","margin-bottom":"20px"}},"\u914D\u7F6E\u4E2D\u5FC3",-1)),Zn=Ye(()=>e("div",{style:{flex:"0",padding:"5px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u9875\u9762\u7EC4",-1)),Xn=H("\u9875\u9762\u7EC4\u7BA1\u7406"),er=Ye(()=>e("div",{style:{flex:"0",padding:"20px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u6743\u9650",-1)),tr=H("\u6743\u9650\u914D\u7F6E"),sr={props:["tagIndex"],setup(l){const a=l;let o=j(),{tagIndex:t}=at(a),n=S({team:o.params.team});return(i,r)=>{const p=R("router-link");return d(),u("div",Yn,[Qn,Zn,e("div",{class:V({active:s(t)===1})},[x(p,{to:{name:"WikiSetting",params:{team:s(n).team,type:"list"}}},{default:L(()=>[Xn]),_:1},8,["to"])],2),er,e("div",{class:V({active:s(t)===11})},[x(p,{to:{name:"WikiSetting",params:{team:s(n).team,type:"permission"}}},{default:L(()=>[tr]),_:1},8,["to"])],2)])}}};var ar=B(sr,[["__scopeId","data-v-5e701986"]]);const lr=["title"],or=e("i",{class:"bi bi-question-octagon"},null,-1),ir=[or],fe={props:{desc:String},setup(l){return(a,o)=>l.desc?(d(),u("div",{key:0,style:{flex:"0 0 auto","align-items":"center",cursor:"pointer"},title:l.desc,tabindex:"0"},ir,8,lr)):z("",!0)}},nr={class:"flex-row flex b-line align-items-center px-4 py-3 task-flex-auto"},rr={class:"flex-fill fs-c10",style:{"white-space":"nowrap"}},dr={class:"flex-row flex align-items-center justify-content-end"},ee={props:["title","desc"],setup(l){return(a,o)=>(d(),u("div",nr,[e("div",rr,b(l.title),1),e("div",dr,[x(fe,{desc:l.desc},null,8,["desc"])])]))}};const cr={class:"flex-fill h-100 jiBox"},pr={class:"flex-column flex px-4"},ur={style:{flex:"1"}},_r={class:"page-title"},mr=se('<div class="flex-row flex" style="margin-top:10px;" data-v-6047bf9d><div style="flex:0 0 auto;color:#909090;" data-v-6047bf9d><i class="bi bi-file-earmark-medical" data-v-6047bf9d></i> 15 </div><div style="flex:0 0 auto;color:#909090;margin-left:20px;" data-v-6047bf9d><i class="bi bi-clock" data-v-6047bf9d></i> 12 \u5929\u524D\u66F4\u65B0 </div></div>',1),fr={style:{flex:"0 0 auto"}},hr=["onClick"],xr={style:{flex:"0 0 auto","margin-left":"20px"}},vr=["active-class","onClick"],gr={setup(l){const{proxy:a}=I();let o=T(),t=j(),n=S({team:t.params.team,style:"active",items:[],tasks_completed:!1});C(()=>{p()});let i=c=>{o.push({name:"Space",params:{team:n.team,space:c}})},r=c=>{o.push({name:"SpaceSettings",params:{team:n.team,space:c,type:"info"}})},p=()=>{a.get(a.urls.spaces.format(n.team)).then(function(c){n.items=c.data.spaces})};return(c,_)=>{const m=R("router-link");return d(),u("div",cr,[x(ee,{title:"\u9875\u9762\u7EC4\u7BA1\u7406",desc:"\u5BF9\u9875\u9762\u7EC4\u914D\u7F6E\u6743\u9650\uFF0C\u67E5\u770B\u9875\u9762\u7EC4"}),e("div",pr,[(d(!0),u(w,null,M(s(n).items,f=>(d(),u("div",{class:"flex-row flex py-4 pages b-line",key:f.uuid},[e("div",ur,[e("div",_r,[x(m,{to:{name:"Space",params:{team:s(n).team,space:f.uuid}}},{default:L(()=>[H(b(f.title),1)]),_:2},1032,["to"])]),mr]),e("div",fr,[e("button",{type:"button",class:"btn btn-outline-secondary",onClick:h=>{s(i)(f.uuid)}},"\u67E5\u770B\u9875\u9762\u7EC4",8,hr)]),e("div",xr,[e("button",{type:"button",class:"btn btn-outline-secondary","active-class":s(n).style,onClick:h=>{s(r)(f.uuid)}},"\u914D\u7F6E\u9875\u9762\u7EC4\u6743\u9650",8,vr)])]))),128))])])}}};var $t=B(gr,[["__scopeId","data-v-6047bf9d"]]);const Qe=l=>(N("data-v-6a244120"),l=l(),F(),l),yr={class:"mt-4"},br={style:{"font-size":"16px"}},$r={style:{color:"#a0a0a0"}},wr={class:"border",style:{"margin-top":"15px"}},kr=Qe(()=>e("div",{class:"p-2 b-line bg-light"}," \u4EE5\u4E0B\u6210\u5458\u57DF\u62E5\u6709\u6B64\u64CD\u4F5C\u6743\u9650 ",-1)),jr={class:"flex-fill p-3"},Sr=["onClick"],Cr=Qe(()=>e("i",{class:"bi bi-x fs-c11"},null,-1)),Ir=[Cr],zr={key:0,class:"flex-row flex justify-content-center align-items-center b-line"},Tr=Qe(()=>e("div",{class:"justify-content-center align-items-center p-3"},"\u6682\u672A\u6DFB\u52A0\u6210\u5458",-1)),Mr=[Tr],Lr={class:"content"},Dr={key:0,style:{color:"#a0a0a0"},class:"domain-group-header"},Br={style:{"background-color":"#ffffff"}},Pr=["onClick"],Vr={key:0,style:{"margin-left":"5px",color:"#a0a0a0","font-size":"12px"}},Hr={key:1,style:{"margin-left":"5px",color:"#a0a0a0","font-size":"12px"}},Ur={props:{title:String,desc:String,exist:Array,items:Array},emits:["add","del"],setup(l,{emit:a}){const{proxy:o}=I();let t=Q(!1),n=Q(!1),i=(m,f)=>{t.value=!1,a("add",m,f)},r=m=>{a("del",m)},p=m=>{if(t.value===!0)c();else{let f=document.documentElement.clientHeight,h=m.target.getBoundingClientRect().top,v=m.target.getBoundingClientRect().bottom;n.value=f-v<h&&f-v<272,t.value=!0,document.addEventListener("click",_,!1)}},c=()=>{t.value=!1,n.value=!1,document.removeEventListener("click",_,!1)},_=m=>{o.$refs.permBody&&o.$refs.permBody.contains(m.target)||c()};return(m,f)=>(d(),u("div",yr,[e("div",br,b(l.title),1),e("div",$r,b(l.desc),1),e("div",wr,[kr,(d(!0),u(w,null,M(l.exist,h=>(d(),u("div",{key:h.uuid,class:"flex-row flex align-items-center b-line"},[e("div",jr,b(h.name),1),h.read_only?z("",!0):(d(),u("div",{key:0,class:"td",style:{flex:"0 0 40px",cursor:"pointer"},onClick:v=>s(r)(h.permission)},Ir,8,Sr))]))),128)),!l.exist||l.exist.length===0?(d(),u("div",zr,Mr)):z("",!0),e("div",Lr,[e("div",{ref:"permBody",class:V(["select",{open:s(t)}])},[e("input",{class:"form-control",onClick:f[0]||(f[0]=(...h)=>s(p)&&s(p)(...h)),placeholder:"\u641C\u7D22\u89D2\u8272\u3001\u7528\u6237\u7EC4\u3001\u90E8\u95E8\u3001\u6210\u5458"}),e("div",{style:{position:"absolute"},ref:"layer",class:V(["group jiBox",{up:s(n)}])},[(d(!0),u(w,null,M(l.items,h=>(d(),u("div",{key:h.uuid},[h.groups&&h.groups.length>0?(d(),u("div",Dr,b(h.title),1)):z("",!0),e("div",Br,[(d(!0),u(w,null,M(h.groups,v=>(d(),u("div",{class:"domain-item",key:v.uuid,onClick:g=>s(i)(v.param,v.type)},[e("span",null,b(v.name),1),h.isMember?(d(),u("span",Vr,"("+b(v.email)+")",1)):z("",!0),v.desc?(d(),u("span",Hr,"("+b(v.desc)+")",1)):z("",!0)],8,Pr))),128))])]))),128))],2)],2)])])]))}};var wt=B(Ur,[["__scopeId","data-v-6a244120"]]);const le={props:{group:Object,data:Object},emits:["loadPermissionData"],setup(l,{emit:a}){const o=l,{proxy:t}=I();T();let n=j(),i=S({visible:!1,everyone:{uuid:"s3",name:"\u6240\u6709\u6210\u5458",desc:"\u5F53\u524D\u56E2\u961F\u6240\u6709\u6210\u5458",type:"everyone",param:""},project_assign:{uuid:"s16",name:"\u9879\u76EE\u8D1F\u8D23\u4EBA",type:"project_assign",param:""},team_owner:{uuid:"s10",name:"\u56E2\u961F\u8D1F\u8D23\u4EBA",type:"team_owner",param:""},template:{roles:{uuid:"role",title:"\u89D2\u8272",groups:[],exist:[]},members:{uuid:"member",title:"\u6210\u5458",groups:[],exist:[],isMember:!0}},exist:[],title:"",desc:"",permission:""});C(()=>{i.title=o.group.title,i.desc=o.group.desc,i.permission=o.group.permission});let r=(_,m)=>{i.team=n.params.team,o.data.permission_rule.permission=i.permission,o.data.permission_rule.user_domain_type=m,o.data.permission_rule.user_domain_param=_,t.post(t.urls.permission_rules_add.format(i.team),o.data).then(function(){a("loadPermissionData")})},p=_=>{i.team=n.params.team,t.get(t.urls.permission_rule_delete.format(i.team,_)).then(function(){a("loadPermissionData")})},c=X(()=>{let _=[],m=[],f=[];i.exist=[];for(let k=0;k<o.group.groups.length;k++){let D=o.group.groups[k],K="",W=!1;switch(D.type){case 1:K="single_user";for(let G=0;G<D.params.length;G++){let Y=D.params[G];f.push(Y.param);for(let q=0;q<o.group.members.length;q++){let P=o.group.members[q];if(P.uuid===Y.param){let ne={uuid:Y.uuid,permission:Y.uuid,name:P.name,type:K,read_only:Y.read_only};i.exist.push(ne);break}}}break;case 3:K="everyone";for(let G=0;G<D.params.length;G++){let Y=D.params[G];i.everyone.permission=Y.uuid,i.everyone.read_only=Y.read_only,i.exist.push(i.everyone)}break;case 10:K="team_owner";for(let G=0;G<D.params.length;G++){let Y=D.params[G];i.team_owner.permission=Y.uuid,i.team_owner.read_only=Y.read_only,i.exist.push(i.team_owner)}break;case 11:K="role";for(let G=0;G<D.params.length;G++){let Y=D.params[G];for(let q=0;q<o.group.roles.length;q++){let P=o.group.roles[q];if(P.uuid===Y.param){let ne={name:P.name,name_pinyin:P.name_pinyin,uuid:P.uuid,permission:Y.uuid,read_only:Y.read_only};i.exist.push(ne);break}}}break;case 16:K="project_assign";for(let G=0;G<D.params.length;G++){let Y=D.params[G];i.project_assign.permission=Y.uuid,i.project_assign.read_only=Y.read_only,i.exist.push(i.project_assign)}break;default:W=!0;break}W||_.push(K)}let h=[];for(let k=0;k<o.group.in_roles.length;k++){let D=o.group.in_roles[k];h.push(i[D])}for(let k=0;k<o.group.roles.length;k++){let D=o.group.roles[k];D.param=D.uuid,h.push(D)}let v=[];for(let k=0;k<o.group.members.length;k++){let D=o.group.members[k];D.param=D.uuid,v.push(D)}let g=i.template,y=[];for(let k=0;k<h.length;k++){let D=h[k],K=!1;for(let W=0;W<_.length;W++)if(D.type===_[W]){K=!0;break}K||y.push(D)}g.roles.groups=y,m.push(g.roles);let $=[];for(let k=0;k<v.length;k++){let D=v[k],K=!1;for(let W=0;W<f.length;W++)if(D.uuid===f[W]){K=!0;break}K||$.push(D)}return g.members.groups=$,m.push(g.members),m});return(_,m)=>(d(),E(wt,{exist:s(i).exist,items:s(c),title:s(i).title,desc:s(i).desc,onAdd:s(r),onDel:s(p)},null,8,["exist","items","title","desc","onAdd","onDel"]))}};const qr={class:"flex-fill h-100 jiBox"},Nr={class:"px-4 pb-4"},Fr={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:"",project:"",maps:{manage:{code:2020,permission:"create_space",title:"\u65B0\u5EFA\u9875\u9762\u7EC4\u6743\u9650",desc:"\u5141\u8BB8\u7528\u6237\u65B0\u5EFA\u9875\u9762\u7EC4",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],loaded:!1,data:{}});C(()=>{t.team=o.params.team,t.data={permission_rule:{context_type:"wiki"}},n()});let n=()=>{let r=[];for(let p in t.maps)r.push(t.maps[p].code);a.post(a.urls.team_permission_rules.format(t.team),r).then(function(p){for(let c in t.maps){let _=t.maps[c];_.groups=[]}if(p.data&&p.data.length>0)for(let c in t.maps){let _=t.maps[c];for(let m=0;m<p.data.length;m++){let f=p.data[m];if(f.permission===_.code){_.groups=f.groups;break}}}i()})},i=()=>{a.get(a.urls.team_member_list.format(t.team)).then(function(r){if(r.data&&r.data&&r.data.length>0){let p=[];for(let c=0;c<r.data.length;c++){let _=r.data[c];_.type="single_user",p.push(_)}for(let c in t.maps){let _=t.maps[c];_.members=p}}t.loaded=!0})};return(r,p)=>(d(),u("div",qr,[x(ee,{title:"\u6743\u9650\u914D\u7F6E",desc:"\u5141\u8BB8\u521B\u5EFA\u9875\u9762\u7EC4\u3002"}),e("div",Nr,[s(t).loaded?(d(),E(le,{key:0,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.manage,onLoadPermissionData:s(n)},null,8,["role_members","data","group","onLoadPermissionData"])):z("",!0)])]))}};var Er=B(Fr,[["__scopeId","data-v-9413ad3c"]]);const Ar={class:"flex-fill flex-row flex",style:{height:"0"}},Rr={class:"flex-column flex flex-fill py-4 pe-4 overflow-auto"},Or={class:"jiBox flex-fill"},Gr={setup(l){let a=j(),o=S({com:"list",tagIndex:1});C(()=>{o.com=a.params.type}),J(()=>a.params,n=>{o.com=a.params.type});let t=X(()=>{let n=$t;switch(o.com){case"list":o.tagIndex=1,n=$t;break;case"permission":o.tagIndex=11,n=Er;break}return n});return(n,i)=>(d(),u("div",Ar,[x(ar,{tagIndex:s(o).tagIndex},null,8,["tagIndex"]),e("div",Rr,[e("div",Or,[(d(),E(de(s(t))))])])]))}};const Pe=l=>(N("data-v-45466dd8"),l=l(),F(),l),Wr={id:"project-setting-menu",class:"pt-4"},Kr=Pe(()=>e("div",{style:{flex:"0",padding:"5px 0 5px 30px",width:"100%","font-size":"18px","margin-bottom":"20px"}},"\u914D\u7F6E\u4E2D\u5FC3",-1)),Jr=Pe(()=>e("div",{style:{flex:"0",padding:"5px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u4FE1\u606F",-1)),Yr=H("\u56E2\u961F\u7BA1\u7406"),Qr=Pe(()=>e("div",{style:{flex:"0",padding:"20px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u6210\u5458",-1)),Zr=H("\u6210\u5458\u7BA1\u7406"),Xr=Pe(()=>e("div",{style:{flex:"0",padding:"20px 30px 5px 30px",width:"100%",color:"#aaaaaa"}},"\u6743\u9650",-1)),ed=H("\u56E2\u961F\u6743\u9650"),td={props:{tagIndex:Number},setup(l){let o=j().params.team;return(t,n)=>{const i=R("router-link");return d(),u("div",Wr,[Kr,Jr,e("div",{class:V({active:l.tagIndex===1})},[x(i,{to:{name:"TeamSetting",params:{team:s(o),type:"manager"}}},{default:L(()=>[Yr]),_:1},8,["to"])],2),Qr,e("div",{class:V({active:l.tagIndex===11})},[x(i,{to:{name:"TeamSetting",params:{team:s(o),type:"member"}}},{default:L(()=>[Zr]),_:1},8,["to"])],2),Xr,e("div",{class:V({active:l.tagIndex===21})},[x(i,{to:{name:"TeamSetting",params:{team:s(o),type:"permission"}}},{default:L(()=>[ed]),_:1},8,["to"])],2)])}}};var sd=B(td,[["__scopeId","data-v-45466dd8"]]);const ad={style:{"margin-left":"10px"}},ld={class:"modal fade",id:"addTeam","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},od={class:"modal-dialog modal-lg modal-dialog-scrollable"},id={class:"modal-content"},nd=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},"\u65B0\u5EFA\u56E2\u961F"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),rd={class:"modal-body"},dd=e("div",{style:{height:"40px","margin-bottom":"10px","border-top":"1px solid #e8e8e8","border-bottom":"1px solid #e8e8e8","border-left":"3px solid #f0ad4e","border-right":"1px solid #e8e8e8"}},[e("div",{style:{flex:"1","align-items":"center",height:"100%",display:"flex","margin-left":"20px"}},[e("div",{style:{flex:"0 0 auto"}}," \u521B\u5EFA\u65B0\u7684\u56E2\u961F\uFF0C\u8FD8\u53EF\u4EE5\u9009\u4E2D\u4E3A\u9ED8\u8BA4\u767B\u5F55\u8FDB\u5165\u7684\u56E2\u961F\u3002 ")])],-1),cd={class:"flex-column my-3"},pd=e("label",{class:"col-md-12 control-label"},"\u56E2\u961F\u540D\u79F0",-1),ud={class:"col-md-12 mt-2"},_d={class:"modal-footer"},md=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1),fd={emits:["loadTeams"],setup(l,{emit:a}){const{proxy:o}=I();T(),j();let t=S({name:""}),n=null;C(()=>{n=new bootstrap.Modal(document.getElementById("addTeam"),{keyboard:!1})});let i=()=>{let r={team_name:t.name};o.post(o.urls.team_add,r).then(function(p){p.data.code===200&&(n.hide(),a("loadTeams"))}).catch(function(p){o.bus.emit("alertDanger",p.response.data.errcode)})};return(r,p)=>(d(),u("div",ad,[x(ae,{title:"\u65B0\u5EFA\u56E2\u961F","data-bs-toggle":"modal","data-bs-target":"#addTeam"}),e("div",ld,[e("div",od,[e("div",id,[nd,e("div",rd,[e("form",{ref:"form",onSubmit:p[1]||(p[1]=xe((...c)=>r.handleSubmit&&r.handleSubmit(...c),["stop","prevent"]))},[dd,e("div",cd,[pd,e("div",ud,[U(e("input",{type:"text","onUpdate:modelValue":p[0]||(p[0]=c=>s(t).name=c),name:"name",class:"form-control"},null,512),[[O,s(t).name]])])])],544)]),e("div",_d,[md,e("button",{type:"button",class:"btn btn-primary",onClick:p[2]||(p[2]=(...c)=>s(i)&&s(i)(...c))},"\u786E\u5B9A")])])])])]))}};const kt=l=>(N("data-v-08eae363"),l=l(),F(),l),hd={class:"px-4"},xd={class:"flex-row flex mt-3"},vd={style:{flex:"1"}},gd={class:"table flex-fill mt-3"},yd={class:"table table-hover"},bd=kt(()=>e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-2"},"\u56E2\u961F\u540D"),e("th",{scope:"col",class:"col-2"},"\u56E2\u961F\u72B6\u6001"),e("th",{scope:"col",class:"col-2"},"\u9650\u989D"),e("th",{scope:"col",class:"col-2"},"\u7C7B\u578B"),e("th",{scope:"col",class:"col-2"},"\u521B\u5EFA\u65F6\u95F4"),e("th",{scope:"col",class:"col-1"},"\u9ED8\u8BA4"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1)),$d={key:0,class:"bi bi-check-lg",title:"\u767B\u5F55\u9ED8\u8BA4\u8FDB\u5165\u7684\u56E2\u961F"},wd=["onClick"],kd=kt(()=>e("i",{class:"bi bi-pencil-square"},null,-1)),jd={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,departmentTree:{},teams:[],show:!1,modifyMember:{},modify_title:"",departMembers:[],departmentUUID:"all",desc:"\u521B\u5EFA\u65B0\u7684\u56E2\u961F\uFF0C\u767B\u5F55\u9ED8\u8BA4\u8FDB\u5165\u56E2\u961F\u8BBE\u7F6E\u3002"});C(()=>{n()});let n=()=>{a.post(a.urls.teams_get).then(function(r){t.teams=r.data})},i=r=>{a.post(a.urls.team_default_set.format(r),{is_default:1}).then(function(p){p.data.code===200&&(n(),a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"))}).catch(function(p){a.bus.emit("alertDanger",p.response.data.errcode)})};return(r,p)=>{const c=R("router-link");return d(),u(w,null,[x(ee,{title:"\u56E2\u961F\u5217\u8868",desc:s(t).desc},null,8,["desc"]),e("div",hd,[e("div",xd,[e("div",vd,[x(Z,{placeholder:"\u8F93\u5165\u56E2\u961F\u540D"})]),x(fd,{onLoadTeams:s(n)},null,8,["onLoadTeams"])]),e("div",gd,[e("table",yd,[bd,e("tbody",null,[(d(!0),u(w,null,M(s(t).teams,_=>(d(),u("tr",{key:_.uuid,class:"default"},[e("td",null,[x(c,{to:{name:"Workbench",params:{team:_.uuid,type:"overview",title:"\u6211\u7684\u5DE5\u4F5C\u53F0"}}},{default:L(()=>[H(b(_.name),1)]),_:2},1032,["to"])]),e("td",null,b(_.status===1?"\u6B63\u5E38":"\u505C\u7528"),1),e("td",null,b(_.scale===-1?"\u4E0D\u9650":_.scale+"\u4EBA"),1),e("td",null,b(_.type),1),e("td",null,b(r.filters.formatDate(_.create_time)),1),e("td",null,[_.default_login?(d(),u("i",$d)):(d(),u("i",{key:1,class:"bi bi-check-lg selected pointer",onClick:m=>s(i)(_.uuid)},null,8,wd))]),e("td",null,[x(c,{to:{name:"TeamSetting",params:{team:s(t).team,type:"info"}}},{default:L(()=>[kd]),_:1},8,["to"])])]))),128))])])])])],64)}}};var jt=B(jd,[["__scopeId","data-v-08eae363"]]);const Sd={style:{"margin-left":"10px"}},Cd={class:"modal fade",id:"addTeamMember","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Id={class:"modal-dialog modal-lg modal-dialog-scrollable"},zd={class:"modal-content"},Td=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},"\u9080\u8BF7\u65B0\u7528\u6237"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Md={class:"modal-body"},Ld=e("div",{style:{height:"40px","margin-bottom":"10px","border-top":"1px solid #e8e8e8","border-bottom":"1px solid #e8e8e8","border-left":"3px solid #f0ad4e","border-right":"1px solid #e8e8e8"}},[e("div",{style:{flex:"1","align-items":"center",height:"100%",display:"flex","margin-left":"20px"}},[e("div",{style:{flex:"0 0 auto"}}," \u53EF\u4EE5\u5C06\u65B0\u7684\u90E8\u95E8\u6DFB\u52A0\u5230\u4EFB\u4F55\u7684\u4E00\u4E2A\u90E8\u95E8\u4E0B\u9762\u4F5C\u4E3A\u5B50\u90E8\u95E8\uFF0C\u6216\u8005\u6DFB\u52A0\u5230\u56E2\u961F\u4E0B\u9762\u4F5C\u4E3A\u4E00\u7EA7\u90E8\u95E8\u3002 ")])],-1),Dd={class:"flex-column my-3"},Bd=e("label",{class:"col-md-12 control-label"},"\u90AE\u7BB1\u5730\u5740",-1),Pd={class:"col-md-12 mt-2"},Vd={class:"modal-footer"},Hd=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1),Ud={emits:["loadTeamMembers"],setup(l,{emit:a}){const{proxy:o}=I();T();let t=j(),n=S({team:t.params.team,email:""}),i=null;C(()=>{i=new bootstrap.Modal(document.getElementById("addTeamMember"),{keyboard:!1})});let r=()=>{let p={email:n.email};o.post(o.urls.team_member_add.format(n.team),p).then(function(c){c.data.code===200&&(i.hide(),a("loadTeamMembers"))}).catch(function(c){o.bus.emit("alertDanger",c.response.data.errcode)})};return(p,c)=>(d(),u("div",Sd,[x(ae,{title:"\u9080\u8BF7\u65B0\u6210\u5458","data-bs-toggle":"modal","data-bs-target":"#addTeamMember"}),e("div",Cd,[e("div",Id,[e("div",zd,[Td,e("div",Md,[e("form",{ref:"form",onSubmit:c[1]||(c[1]=xe((..._)=>s(r)&&s(r)(..._),["stop","prevent"]))},[Ld,e("div",Dd,[Bd,e("div",Pd,[U(e("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=_=>s(n).email=_),name:"name",class:"form-control"},null,512),[[O,s(n).email]])])])],544)]),e("div",Vd,[Hd,e("button",{type:"button",class:"btn btn-primary",onClick:c[2]||(c[2]=(..._)=>s(r)&&s(r)(..._))},"\u786E\u5B9A")])])])])]))}},qd={class:"px-4"},Nd={class:"flex-row flex mt-3"},Fd={style:{flex:"1"}},Ed={class:"table flex-fill mt-3"},Ad={class:"table table-hover"},Rd=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-2"},"\u7528\u6237\u540D"),e("th",{scope:"col",class:"col-2"},"\u90AE\u7BB1"),e("th",{scope:"col",class:"col-2"},"\u7535\u8BDD"),e("th",{scope:"col",class:"col-2"},"\u521B\u5EFA\u65F6\u95F4"),e("th",{scope:"col",class:"col-2"},"\u6700\u540E\u8BBF\u95EE\u65F6\u95F4"),e("th",{scope:"col",class:"col-1"},"\u72B6\u6001"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),Od={key:0,style:{width:"30px",height:"2px"}},Gd=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),Wd=[Gd],Kd={key:1,class:"pointer"},Jd=e("i",{class:"bi bi-x-lg"},null,-1),Yd=[Jd],Qd={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,departmentTree:{},members:[],show:!1,modifyMember:{},modify_title:"",departMembers:[],departmentUUID:"all"});C(()=>{t.team=o.params.team,n()}),J(()=>o.params,i=>{n()});let n=()=>{a.get(a.urls.team_member_list.format(t.team)).then(function(i){t.members=i.data})};return(i,r)=>(d(),u(w,null,[x(ee,{title:"\u6210\u5458\u5217\u8868",desc:"\u5DE5\u4F5C\u9879\u7C7B\u578B\u7528\u4E8E\u5728\u540C\u4E00\u4E2A\u9879\u76EE\u4E0B\u4F7F\u7528\u4E0D\u540C\u7C7B\u578B\u7684\u5DE5\u4F5C\u9879\uFF0C\u4E0D\u540C\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u53EF\u4EE5\u5B9A\u4E49\u4E0D\u540C\u7684\u5C5E\u6027\u5B57\u6BB5\u3001\u6743\u9650\u548C\u5DE5\u4F5C\u6D41\u7B49\u3002\u9879\u76EE\u4E0B\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u914D\u7F6E\u7684\u4FEE\u6539\u4E0D\u4F1A\u540C\u6B65\u5230\u914D\u7F6E\u4E2D\u5FC3\u4E0B\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u4E2D\u3002"}),e("div",qd,[e("div",Nd,[e("div",Fd,[x(Z,{placeholder:"\u8F93\u5165\u7528\u6237\u540D\uFF0C\u90AE\u7BB1\u67E5\u627E\u6210\u5458"})]),x(Ud,{onLoadTeamMembers:s(n)},null,8,["onLoadTeamMembers"])]),e("div",Ed,[e("table",Ad,[Rd,e("tbody",null,[(d(!0),u(w,null,M(s(t).members,p=>(d(),u("tr",{key:p.uuid},[e("td",null,[x(ge,{user:p},null,8,["user"])]),e("td",null,b(p.email),1),e("td",null,b(p.phone),1),e("td",null,b(i.filters.formatDate(p.create_time)),1),e("td",null,b(i.filters.formatDate(p.access_time)),1),e("td",null,b(p.verify_status),1),e("td",null,[p.built_in?(d(),u("div",Od,Wd)):(d(),u("div",Kd,Yd))])]))),128))])])])])],64))}},Zd={class:"px-4 pb-4"},Xd={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,project:"",maps:{invite:{code:4,permission:"invite_member",title:"\u9080\u8BF7\u56E2\u961F\u6210\u5458",desc:"\u5141\u8BB8\u7528\u6237\u9080\u8BF7\u65B0\u7684\u56E2\u961F\u6210\u5458\uFF0C\u5E76\u5728\u9876\u680F\u663E\u793A\u9080\u8BF7\u56E2\u961F\u6210\u5458\u7684\u5FEB\u6377\u5165\u53E3",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},team:{code:1,permission:"administer_team",title:"\u56E2\u961F\u7BA1\u7406\u5458",desc:"\u8D85\u7EA7\u7BA1\u7406\u5458\u6743\u9650\uFF0C\u53EF\u4EE5\u66F4\u6539\u56E2\u961F\u4FE1\u606F\u548C\u56E2\u961F\u6743\u9650",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},do:{code:2,permission:"administer_do",title:"\u300C\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3\u300D\u7BA1\u7406\u5458",desc:"\u9488\u5BF9\u9879\u76EE\u7BA1\u7406\uFF0C\u53EF\u4EE5\u5BF9\u9879\u76EE\u8FDB\u884C\u5168\u5C40\u914D\u7F6E",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},wiki:{code:3,permission:"administer_wiki",title:"\u300C\u6587\u6863\u914D\u7F6E\u4E2D\u5FC3\u300D\u7BA1\u7406\u5458",desc:"\u9488\u5BF9\u6587\u6863\u4E2D\u5FC3\uFF0C\u53EF\u4EE5\u5BF9\u6587\u6863\u8FDB\u884C\u5168\u5C40\u914D\u7F6E",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],loaded:!1,data:{permission_rule:{context_type:"team"}}});C(()=>{n()});let n=()=>{let r=[];for(let p in t.maps)r.push(t.maps[p].code);a.post(a.urls.team_permission_rules.format(t.team),r).then(function(p){for(let c in t.maps){let _=t.maps[c];_.groups=[]}if(p.data&&p.data.length>0)for(let c in t.maps){let _=t.maps[c];for(let m=0;m<p.data.length;m++){let f=p.data[m];if(f.permission===_.code){_.groups=f.groups;break}}}i()})},i=()=>{a.get(a.urls.team_member_list.format(t.team)).then(function(r){if(r.data&&r.data&&r.data.length>0){let p=[];for(let c=0;c<r.data.length;c++){let _=r.data[c];_.type="single_user",p.push(_)}for(let c in t.maps){let _=t.maps[c];_.members=p}}t.loaded=!0})};return(r,p)=>(d(),u(w,null,[x(ee,{title:"\u56E2\u961F\u6743\u9650",desc:"\u56E2\u961F\u6743\u9650\u53EF\u4EE5\u7528\u4E8E\u7BA1\u7406\u56E2\u961F\u6210\u5458\u3002"}),e("div",Zd,[s(t).loaded?(d(),E(le,{key:0,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.invite,onLoadPermissionData:s(n)},null,8,["role_members","data","group","onLoadPermissionData"])):z("",!0),s(t).loaded?(d(),E(le,{key:1,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.team,onLoadPermissionData:s(n)},null,8,["role_members","data","group","onLoadPermissionData"])):z("",!0),s(t).loaded?(d(),E(le,{key:2,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.do,onLoadPermissionData:s(n)},null,8,["role_members","data","group","onLoadPermissionData"])):z("",!0),s(t).loaded?(d(),E(le,{key:3,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.wiki,onLoadPermissionData:s(n)},null,8,["role_members","data","group","onLoadPermissionData"])):z("",!0)])],64))}};var ec="https://cdn.jsdelivr.net/gh/jitask/cache/dist/images/logo.png";const Ze=l=>(N("data-v-cffa541c"),l=l(),F(),l),tc={class:"mx-4"},sc={class:"mt-4 col-5"},ac=Ze(()=>e("label",{for:"team-name",class:"form-label"},"\u56E2\u961F\u540D\u5B57",-1)),lc={class:"mt-4 col-8"},oc=Ze(()=>e("label",{for:"team-name",class:"form-label"},"\u5EFA\u8BAE\u4E0A\u4F20\u957F\u5EA6\u4E3A 200px\uFF0C\u9AD8\u5EA6\u4E3A 52px\uFF0C\u80CC\u666F\u900F\u660E\u7684 PNG \u683C\u5F0F\u56FE\u7247",-1)),ic=Ze(()=>e("div",{class:"avatar-upload"},[e("img",{src:ec,style:{"max-height":"100px",border:"1px solid #e7ecf1"}}),e("input",{type:"file"})],-1)),nc={class:"mt-4 col-6"},rc={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,name:"",avatar:"",disabled:!0});C(()=>{n()});let n=()=>{a.get(a.urls.team_get.format(t.team)).then(function(p){t.name=p.data.name})},i=()=>{t.disabled=!1},r=()=>{a.post(a.urls.team_update.format(t.team,t.project),{name:t.name,uuid:t.project}).then(function(p){p.data.code===200&&(t.disabled=!0,a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"))}).catch(function(p){a.bus.emit("alertDanger",p.response.data.errcode)})};return(p,c)=>(d(),u(w,null,[x(ee,{title:"\u56E2\u961F\u4FE1\u606F",desc:""}),e("div",tc,[e("div",sc,[ac,U(e("input",{type:"email",class:"form-control",id:"team-name",onChange:c[0]||(c[0]=(..._)=>s(i)&&s(i)(..._)),onKeydown:c[1]||(c[1]=(..._)=>s(i)&&s(i)(..._)),"onUpdate:modelValue":c[2]||(c[2]=_=>s(t).name=_)},null,544),[[O,s(t).name]])]),e("div",lc,[oc,e("div",null,[ic,U(e("input",{type:"hidden","onUpdate:modelValue":c[3]||(c[3]=_=>s(t).avatar=_),name:"avatar",class:"form-control",placeholder:"\u5934\u50CF"},null,512),[[O,s(t).avatar]])])]),e("div",nc,[x(ae,{disabled:s(t).disabled,title:"\u66F4\u65B0\u4FE1\u606F",onSubmit:s(r)},null,8,["disabled","onSubmit"])])])],64))}};var dc=B(rc,[["__scopeId","data-v-cffa541c"]]);const cc={class:"flex-row flex flex-fill",style:{height:"0"}},pc={class:"flex-column flex flex-fill py-4 pe-4 overflow-auto"},uc={class:"jiBox flex-fill"},_c={setup(l){let a=j(),o=S({com:"manager",tagIndex:1});C(()=>{o.com=a.params.type}),J(()=>a.params,n=>{o.com=a.params.type});let t=X(()=>{let n=jt;switch(o.com){case"manager":o.tagIndex=1,n=jt;break;case"member":o.tagIndex=11,n=Qd;break;case"permission":o.tagIndex=21,n=Xd;break;case"info":o.tagIndex=1,n=dc;break}return n});return(n,i)=>(d(),u("div",cc,[x(sd,{tagIndex:s(o).tagIndex},null,8,["tagIndex"]),e("div",pc,[e("div",uc,[(d(),E(de(s(t))))])])]))}};const mc=l=>(N("data-v-30da611c"),l=l(),F(),l),fc={class:"flex-row flex assign align-items-center pointer","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},hc={style:{flex:"0 0 auto"}},xc=["src"],vc={style:{"margin-left":"10px"},class:"flex-column flex align-items-center"},gc={style:{"text-align":"left",color:"#363636"}},yc=mc(()=>e("div",{style:{"text-align":"left",color:"#999999","font-size":"12px"}},"\u8D1F\u8D23\u4EBA",-1)),bc={class:"dropdown-menu border-0 jiBox",style:{"overflow-y":"auto","overflow-x":"hidden"}},$c={style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},wc={props:{user:Object,project:String,task:String},emits:["loadTask"],setup(l,{emit:a}){const o=l,{proxy:t}=I();T();let n=j(),i=S({team:n.params.team,users:[]});C(()=>{i.team=n.params.team,r()});let r=()=>{t.post(t.urls.project_members.format(i.team,o.project)).then(function(c){i.users=c.data})},p=c=>{if(o.user.uuid!==c){let _={uuid:c};t.post(t.urls.task_change_assign.format(i.team,o.task),_).then(function(m){m.data.code===200&&(t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("loadTask"))}).catch(function(m){t.bus.emit("alertDanger",m.response.data.errcode)})}};return(c,_)=>(d(),u(w,null,[e("div",fc,[e("div",hc,[e("img",{src:l.user.avatar,style:{height:"30px",width:"30px","border-radius":"30px"}},null,8,xc)]),e("div",vc,[e("div",gc,b(l.user.name),1),yc])]),e("div",bc,[x(Z,{class:"px-2",placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u8D1F\u8D23\u4EBA"}),e("div",$c,[(d(!0),u(w,null,M(s(i).users,m=>(d(),u("div",{class:"mt-2",key:m.uuid},[x(ge,{onSubmit:s(p),class:"px-2 py-1 status-item",user:m,selected:m.uuid===l.user.uuid,hasEmail:!0},null,8,["onSubmit","user","selected"])]))),128))])])],64))}};var kc=B(wc,[["__scopeId","data-v-30da611c"]]);const Xe=l=>(N("data-v-08a6d345"),l=l(),F(),l),jc={class:"flex-row flex assign align-items-center pointer","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},Sc=Xe(()=>e("div",{style:{flex:"0 0 28px",color:"#17C4BB"}},[e("i",{class:"bi bi-arrow-right-circle-fill fs-c11"})],-1)),Cc={style:{"margin-left":"10px"},class:"flex-column flex"},Ic={style:{"text-align":"left",color:"#363636"}},zc=Xe(()=>e("div",{style:{"text-align":"left",color:"#999999","font-size":"12px"}},"\u5F53\u524D\u72B6\u6001",-1)),Tc={class:"dropdown-menu border-0 jiBox",style:{"overflow-y":"auto","overflow-x":"hidden"}},Mc={style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},Lc=Xe(()=>e("div",{class:"pb-2 px-2 b-line"},"\u9009\u62E9\u6B65\u9AA4\u66F4\u6539\u72B6\u6001",-1)),Dc=["onClick"],Bc={props:{status:Object,project:String,issue_type:String,task_uuid:String},emits:["loadTask"],setup(l,{emit:a}){const o=l,{proxy:t}=I();T();let n=j(),i=S({team:n.params.team,statuses:[]});C(()=>{r()});let r=()=>{t.post(t.urls.next_status_list.format(i.team,o.project,o.issue_type,o.status.uuid)).then(function(c){i.statuses=c.data})},p=c=>{let _={status:c};t.post(t.urls.task_change_status.format(i.team,o.task_uuid),_).then(function(m){m.data.code===200&&(t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("loadTask"))}).catch(function(m){t.bus.emit("alertDanger",m.response.data.errcode)})};return J(()=>o.status,(c,_)=>{c.uuid!==_.uuid&&r()}),(c,_)=>(d(),u(w,null,[e("div",jc,[Sc,e("div",Cc,[e("div",Ic,b(l.status.name),1),zc])]),e("div",Tc,[e("div",Mc,[Lc,(d(!0),u(w,null,M(s(i).statuses,m=>(d(),u("div",{key:m.uuid},[e("div",{onClick:f=>s(p)(m.uuid),class:"status-item"},b(m.name),9,Dc)]))),128))])])],64))}};var Pc=B(Bc,[["__scopeId","data-v-08a6d345"]]);const je=l=>(N("data-v-5ea0fc63"),l=l(),F(),l),Vc={class:"flex-row flex assign align-items-center pointer","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},Hc=je(()=>e("div",{style:{flex:"0 0 28px",color:"#DAA520"}},[e("i",{class:"bi bi-star-fill fs-c11"})],-1)),Uc={style:{"margin-left":"10px"},class:"flex-column flex"},qc={style:{"text-align":"left",color:"#363636"}},Nc=je(()=>e("div",{style:{"text-align":"left",color:"#999999","font-size":"12px"}},"\u4F18\u5148\u7EA7",-1)),Fc={class:"dropdown-menu border-0 jiBox",style:{"overflow-y":"auto","overflow-x":"hidden"}},Ec={style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},Ac=je(()=>e("div",{class:"pb-2 px-2 b-line"},"\u66F4\u6539\u4F18\u5148\u7EA7",-1)),Rc=["onClick"],Oc={style:{flex:"0 0 auto"}},Gc={key:0,class:"flex-row flex flex-fill align-items-center"},Wc=je(()=>e("div",{style:{flex:"1","min-width":"50px"}},null,-1)),Kc=je(()=>e("div",{class:"flex-row flex align-items-center"},[e("i",{class:"bi bi-check"})],-1)),Jc=[Wc,Kc],Yc={props:{project:String,priority:Object,task_uuid:String},emits:["loadTask"],setup(l,{emit:a}){const o=l,{proxy:t}=I();T();let n=j(),i=S({team:n.params.team,options:[]});C(()=>{r()});let r=()=>{t.get(t.urls.task_priority_options.format(i.team)).then(function(c){i.options=c.data})},p=c=>{let _={priority:c};t.post(t.urls.task_change_priority.format(i.team,o.task_uuid),_).then(function(m){m.data.code===200&&(t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("loadTask"))}).catch(function(m){t.bus.emit("alertDanger",m.response.data.errcode)})};return(c,_)=>(d(),u(w,null,[e("div",Vc,[Hc,e("div",Uc,[e("div",qc,b(l.priority.value),1),Nc])]),e("div",Fc,[e("div",Ec,[Ac,(d(!0),u(w,null,M(s(i).options,m=>(d(),u("div",{key:m.uuid},[e("div",{onClick:f=>s(p)(m.uuid),class:V([{selected:l.priority.uuid===m.uuid},"flex-row flex align-items-center status-item"])},[e("div",Oc,b(m.value),1),l.priority.uuid===m.uuid?(d(),u("div",Gc,Jc)):z("",!0)],10,Rc)]))),128))])])],64))}};var Qc=B(Yc,[["__scopeId","data-v-5ea0fc63"]]);const te=l=>(N("data-v-42a61b11"),l=l(),F(),l),Zc={class:"fields",style:{overflow:"auto",flex:"0 0 500px",display:"flex",height:"100%","border-left":"5px solid #e8e8e8","flex-direction":"column","min-width":"500px"}},Xc={style:{"flex-direction":"column",flex:"1",display:"flex",overflow:"auto",padding:"20px"}},e1={class:"flex-row flex",style:{width:"100%"}},t1={style:{flex:"1"}},s1=te(()=>e("div",{class:"three-dots-class flex-column flex align-items-end justify-content-center"},[e("i",{class:"bi bi-three-dots"})],-1)),a1={class:"field-block"},l1={class:"flex-row flex",style:{width:"100%"}},o1={key:0,style:{flex:"1",height:"30px"}},i1={class:"field-block"},n1={class:"flex-row flex",style:{width:"100%",padding:"0 10px 10px 10px","justify-content":"space-between"}},r1={style:{flex:"1","text-align":"center"}},d1={style:{flex:"1","text-align":"center"}},c1={style:{flex:"1","text-align":"center"}},p1=te(()=>e("div",{class:"field-block"},[e("div",{class:"flex-row flex"},[e("div",{style:{flex:"1",padding:"0 5px 0 0"}}," \u63CF\u8FF0\uFF08\u5BCC\u6587\u672C\u7F16\u8F91\uFF09 "),e("div",{style:{padding:"0 5px 0 0",flex:"0 0 auto",cursor:"pointer",color:"#17C4BB"},class:"outline-none","data-bs-toggle":"modal","data-bs-target":"#showTaskBody"}," \u653E\u5927\u6D4F\u89C8 ")])],-1)),u1=["innerHTML"],_1={class:"modal fade",id:"showTaskBody","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","data-bs-focus":"false","aria-hidden":"true"},m1={class:"modal-dialog modal-xl modal-dialog-scrollable"},f1={class:"modal-content h-100"},h1={class:"modal-header"},x1={class:"modal-title summary",id:"staticBackdropLabel"},v1={class:"flex-row flex align-items-center"},g1=te(()=>e("i",{class:"bi bi-pencil-square"},null,-1)),y1=H(" \u7F16\u8F91 "),b1=[g1,y1],$1=te(()=>e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),w1={class:"modal-body flex-column flex flex-fill"},k1={key:0,class:"ck-content"},j1=["innerHTML"],S1={key:1,class:"flex-column flex flex-fill",style:{height:"100%",margin:"-1rem"}},C1=te(()=>e("div",{id:"taskToolBar"},null,-1)),I1={id:"taskDescContainer",class:"flex-column flex flex-fill overflow-auto"},z1={key:0,class:"modal-footer"},T1=te(()=>e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1)),M1={class:"field-type-group option"},L1={class:"field-cell"},D1=["onClick"],B1={key:0},P1={key:1},V1={key:2,class:"none"},H1=["onClick"],U1={style:{color:"#909090"}},q1={class:"flex-row flex field-row"},N1=te(()=>e("div",{class:"field-cell"},"\u622A\u6B62\u65E5\u671F",-1)),F1={class:"field-cell-time header field-edit"},E1={class:"field-type-group-last option"},A1={class:"flex-row flex field-row"},R1=te(()=>e("div",{class:"field-cell"},"\u6240\u5C5E\u9879\u76EE",-1)),O1={class:"field-cell-value header"},G1={class:"flex-row flex field-row"},W1=te(()=>e("div",{class:"field-cell"},"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1)),K1={class:"field-cell-value header"},J1={class:"flex-row flex field-row"},Y1=te(()=>e("div",{class:"field-cell"},"\u521B\u5EFA\u8005",-1)),Q1={class:"field-cell-value header"},Z1={class:"flex-row flex field-row"},X1=te(()=>e("div",{class:"field-cell"},"\u521B\u5EFA\u65F6\u95F4",-1)),e0={class:"field-cell-value header"},t0={class:"flex-row flex field-row"},s0=te(()=>e("div",{class:"field-cell"},"\u66F4\u65B0\u65F6\u95F4",-1)),a0={class:"field-cell-value header"},l0={style:{flex:"0 0 auto","border-top":"1px solid #e8e8e8",padding:"10px"},class:"flex-row flex align-items-center"},o0={class:"watchers flex-row flex",style:{flex:"1"}},i0=te(()=>e("div",{style:{flex:"0 0 auto",color:"inherit"}},[e("i",{class:"bi bi-eye-slash"})],-1)),n0=te(()=>e("div",{style:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}}," \u53D6\u6D88\u5173\u6CE8 ",-1)),r0=[i0,n0],d0=te(()=>e("div",{style:{flex:"0 0 auto",color:"inherit"}},[e("i",{class:"bi bi-eyeglasses"})],-1)),c0=te(()=>e("div",{style:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}}," \u5173\u6CE8 ",-1)),p0=[d0,c0],u0={props:{task:Object,issue_type:String},emits:["reloadTaskList"],setup(l,{emit:a}){const o=l,{proxy:t}=I();T();let n=j(),i=Q(null),r=S({team:n.params.team,project:n.params.project,visible:!1,optionValue:"",options:[],selectField:"",zh:{weekdayHeaderFormat:"narrow",labelPrevDecade:"\u8FC7\u53BB\u5341\u5E74",labelPrevYear:"\u4E0A\u4E00\u5E74",labelPrevMonth:"\u4E0A\u4E2A\u6708",labelCurrentMonth:"\u5F53\u524D\u6708\u4EFD",labelNextMonth:"\u4E0B\u4E2A\u6708",labelNextYear:"\u660E\u5E74",labelNextDecade:"\u4E0B\u4E00\u4E2A\u5341\u5E74",labelToday:"\u4ECA\u5929",labelSelected:"\u9009\u5B9A\u65E5\u671F",labelNoDateSelected:"\u672A\u9009\u62E9\u65E5\u671F",labelCalendar:"\u65E5\u5386",labelNav:"\u65E5\u5386\u5BFC\u822A",labelHelp:"\u4F7F\u7528\u5149\u6807\u952E\u6D4F\u89C8\u65E5\u671F"},deadlineChanged:!1,summaryEditing:!1,editor:Ee,editorConfig:{toolbar:{items:["undo","redo","heading","fontFamily","fontSize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","numberedList","bulletedList","outdent","indent","|","link","blockquote","imageUpload","insertTable"]},ckfinder:{uploadUrl:"",options:{resourceType:"Images"}}},isDisplay:!0,editDescModel:"",watched:!1,issue_type:o.issue_type});J(()=>o.task,q=>{r.summaryEditing=!1,r.editDescModel=q.desc,_(),G()});let p=null;C(()=>{r.deadlineChanged=!1,r.editorConfig.ckfinder.uploadUrl=t.urls.upload.format(r.team),r.editDescModel=o.task.desc,document.getElementById("showTaskBody").addEventListener("show.bs.modal",function(P){r.isDisplay=!0}),p=new bootstrap.Modal(document.getElementById("showTaskBody"),{keyboard:!1}),_(),G()});let c=q=>{let P=document.querySelector("#taskToolBar"),ne=document.querySelector("#taskDescContainer");P.hasChildNodes()&&(P.innerHTML=""),ne.hasChildNodes()&&(ne.innerHTML=""),P.appendChild(q.ui.view.toolbar.element),ne.appendChild(q.ui.getEditableElement())},_=()=>{o.task.deadline&&(i.value=new Date(o.task.deadline))},m=()=>{r.team=n.params.team,t.post(t.urls.watchers_update.format(r.team,r.project,o.task.uuid,"add")).then(function(q){q.data.code===200&&(t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("reloadTaskList",o.task.uuid))}).catch(function(q){t.bus.emit("alertDanger",q.response.data.errcode)})},f=()=>{r.team=n.params.team,t.post(t.urls.watchers_update.format(r.team,r.project,o.task.uuid,"cancel")).then(function(q){q.data.code===200&&(t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("reloadTaskList",o.task.uuid))}).catch(function(q){t.bus.emit("alertDanger",q.response.data.errcode)})},h=q=>{r.options=[],r.selectField=q,r.visible=!0,document.addEventListener("click",g,!1),t.get(t.urls.field_option_value_list.format(r.team,r.project,r.issue_type,q),{}).then(function(P){r.options=P.data})},v=()=>{r.visible=!1,document.removeEventListener("click",g,!1)},g=q=>{t.$refs[Y.value]&&t.$refs[Y.value][0].contains(q.target)||v()},y=(q,P)=>{r.visible=!1;let ne={task:o.task.uuid,field:q,option:P};t.post(t.urls.field_option_update.format(r.team,r.project,r.issue_type),ne).then(function(A){A.data.code===200&&(t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("reloadTaskList",o.task.uuid))}).catch(function(A){t.bus.emit("alertDanger",A.response.data.errcode)})},$=()=>{if(i.value){let q={deadline:i.value.getTime(),which_field:"deadline"};t.post(t.urls.task_update.format(r.team,r.project,r.issue_type,o.task.uuid),q).then(function(P){P.data.code===200&&(t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("reloadTaskList",o.task.uuid))}).catch(function(P){t.bus.emit("alertDanger",P.response.data.errcode)})}},k=()=>{r.summaryEditing=!0},D=()=>{if(o.task.summary){r.summaryEditing=!1;let q={summary:o.task.summary,which_field:"summary"};t.post(t.urls.task_update.format(r.team,r.project,r.issue_type,o.task.uuid),q).then(function(P){P.data.code===200&&(t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("reloadTaskList",o.task.uuid))}).catch(function(P){t.bus.emit("alertDanger",P.response.data.errcode)})}},K=()=>{if(r.editDescModel){let q={desc:r.editDescModel,which_field:"desc"};t.post(t.urls.task_update.format(r.team,r.project,r.issue_type,o.task.uuid),q).then(function(P){P.data.code===200&&(p.hide(),t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("reloadTaskList",o.task.uuid))}).catch(function(P){t.bus.emit("alertDanger",P.response.data.errcode)})}},W=()=>{r.isDisplay=!1},G=()=>{r.watched=!1;let q=ke();if(o.task.watchers)for(let P=0;P<o.task.watchers.length;P++)o.task.watchers[P].uuid===q&&(r.watched=!0)},Y=X(()=>"permBody"+r.selectField);return(q,P)=>{const ne=R("ckeditor");return d(),u("div",Zc,[e("div",Xc,[e("div",null,[e("div",e1,[e("div",t1,"#"+b(l.task.number),1),s1])]),e("div",a1,[e("div",l1,[s(r).summaryEditing?(d(),u("div",o1,[U(e("input",{class:"form-control",autofocus:"","onUpdate:modelValue":P[0]||(P[0]=A=>l.task.summary=A),onBlur:P[1]||(P[1]=(...A)=>s(D)&&s(D)(...A))},null,544),[[O,l.task.summary]])])):(d(),u("div",{key:1,class:"summary",onClick:P[2]||(P[2]=(...A)=>s(k)&&s(k)(...A)),style:{height:"30px"}},b(l.task.summary),1))])]),e("div",i1,[e("div",n1,[e("div",r1,[x(kc,{user:l.task.assign,project:l.task.project.uuid,task:l.task.uuid,onLoadTask:P[3]||(P[3]=A=>q.$emit("reloadTaskList",l.task.uuid))},null,8,["user","project","task"])]),e("div",d1,[x(Pc,{status:l.task.task_status,project:l.task.project.uuid,issue_type:l.task.issue_type.uuid,task_uuid:l.task.uuid,onLoadTask:P[4]||(P[4]=A=>q.$emit("reloadTaskList",l.task.uuid))},null,8,["status","project","issue_type","task_uuid"])]),e("div",c1,[x(Qc,{project:l.task.project.uuid,priority:l.task.priority,task_uuid:l.task.uuid,onLoadTask:P[5]||(P[5]=A=>q.$emit("reloadTaskList",l.task.uuid))},null,8,["project","priority","task_uuid"])])])]),p1,e("div",{style:{flex:"0 0 auto","margin-top":"5px","border-radius":"5px","overflow-y":"auto","overflow-x":"hidden",height:"180px",padding:"10px"},class:"ck-content border",innerHTML:l.task.desc},null,8,u1),e("div",_1,[e("div",m1,[e("div",f1,[e("div",h1,[e("h5",x1,b(l.task.summary),1),e("div",v1,[s(r).isDisplay?(d(),u("div",{key:0,class:"flex-fill me-4 pe-4 pointer edit-desc",style:{"border-right":"1px solid #cccccc"},onClick:P[6]||(P[6]=(...A)=>s(W)&&s(W)(...A))},b1)):z("",!0),$1])]),e("div",w1,[s(r).isDisplay?(d(),u("div",k1,[e("div",{innerHTML:l.task.desc},null,8,j1)])):(d(),u("div",S1,[C1,e("div",I1,[x(ne,{editor:s(r).editor,onReady:s(c),modelValue:s(r).editDescModel,"onUpdate:modelValue":P[7]||(P[7]=A=>s(r).editDescModel=A),config:s(r).editorConfig},null,8,["editor","onReady","modelValue","config"])])]))]),s(r).isDisplay?z("",!0):(d(),u("div",z1,[T1,e("button",{type:"button",class:"btn btn-primary",onClick:P[8]||(P[8]=(...A)=>s(K)&&s(K)(...A))},"\u786E\u5B9A")]))])])]),lt(q.$slots,"workField",{},void 0,!0),e("div",M1,[(d(!0),u(w,null,M(l.task.field_values,A=>(d(),u("div",{class:"flex-row flex field-row",key:A.uuid},[e("div",L1,b(A.name),1),e("div",{ref_for:!0,ref:"permBody"+A.uuid,class:V(["field-cell-value header field-edit",{active:s(r).visible&&s(r).selectField===A.uuid}])},[e("div",{onClick:Te=>s(h)(A.uuid),class:"flex-row flex align-items-center",style:{flex:"1"}},[A.value?(d(),u("div",B1,b(A.value),1)):A.number_value?(d(),u("div",P1,b(A.number_value),1)):(d(),u("div",V1,"\u672A\u8BBE\u7F6E"))],8,D1),e("div",{style:{position:"absolute"},class:V(["field-edit jiBox",{open:s(r).visible&&s(r).selectField===A.uuid}])},[(d(!0),u(w,null,M(s(r).options,Te=>(d(),u("div",{class:"option-item flex-row flex align-items-center",key:Te.uuid,onClick:K7=>s(y)(A.uuid,Te.uuid)},[e("div",U1,b(Te.value),1)],8,H1))),128))],2)],2)]))),128)),e("div",q1,[N1,e("div",F1,[x(s(Ae),{style:{"padding-left":"5px"},modelValue:s(i),"onUpdate:modelValue":[P[9]||(P[9]=A=>oe(i)?i.value=A:i=A),s($)],placeholder:"\u672A\u8BBE\u7F6E",clearable:!1},null,8,["modelValue","onUpdate:modelValue"])])])]),e("div",E1,[e("div",A1,[R1,e("div",O1,b(l.task.project.name),1)]),e("div",G1,[W1,e("div",K1,b(l.task.issue_type.name),1)]),e("div",J1,[Y1,e("div",Q1,[x(De,{user:l.task.owner},null,8,["user"])])]),e("div",Z1,[X1,e("div",e0,b(q.filters.formatDate(l.task.create_time)),1)]),e("div",t0,[s0,e("div",a0,b(q.filters.formatDate(l.task.server_update_stamp/1e3)),1)])])]),e("div",l0,[e("div",o0,[(d(!0),u(w,null,M(l.task.watchers,A=>(d(),E(De,{user:A,key:A.uuid,includeName:!1},null,8,["user"]))),128))]),s(r).watched?(d(),u("div",{key:0,style:{flex:"0 0 auto",cursor:"pointer"},class:"flex-row flex align-items-center watch",onClick:P[10]||(P[10]=(...A)=>s(f)&&s(f)(...A))},r0)):(d(),u("div",{key:1,style:{flex:"0 0 auto",cursor:"pointer"},class:"flex-row flex align-items-center watch",onClick:P[11]||(P[11]=(...A)=>s(m)&&s(m)(...A))},p0))])])}}};var _0=B(u0,[["__scopeId","data-v-42a61b11"]]);const re=l=>(N("data-v-3dd75885"),l=l(),F(),l),m0={class:"modal fade",id:"addTask","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","data-bs-focus":"false","aria-hidden":"true"},f0={class:"modal-dialog modal-xl modal-dialog-scrollable"},h0={class:"modal-content h-100"},x0={class:"modal-header"},v0={class:"modal-title",id:"staticBackdropLabel"},g0=re(()=>e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1)),y0={class:"flex-column flex modal-body"},b0={class:"flex-column flex"},$0=re(()=>e("label",{class:"control-label fs-c8"},"\u6807\u9898",-1)),w0={class:"mt-2"},k0={class:"flex-row flex mt-3"},j0={class:"flex-column flex w-50"},S0=re(()=>e("label",{class:"control-label fs-c8"},"\u6240\u5728\u9879\u76EE",-1)),C0={class:"mt-2"},I0=["value"],z0=re(()=>e("div",{style:{width:"1.5rem"}},null,-1)),T0={class:"flex-column flex w-50"},M0=re(()=>e("label",{class:"control-label fs-c8"},"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1)),L0={class:"mt-2"},D0=["value"],B0={class:"flex-row flex align-items-center mt-3"},P0={class:"flex-column flex w-50"},V0=re(()=>e("label",{class:"control-label fs-c8"},"\u8D1F\u8D23\u4EBA",-1)),H0={class:"mt-2"},U0=["value"],q0=re(()=>e("div",{style:{width:"1.5rem"}},null,-1)),N0={class:"flex-column flex w-50"},F0=re(()=>e("label",{class:"control-label fs-c8"},"\u4F18\u5148\u7EA7",-1)),E0={class:"mt-2"},A0=["value"],R0=re(()=>e("div",{class:"mt-3 fs-c8"}," \u63CF\u8FF0\uFF08\u5BCC\u6587\u672C\u7F16\u8F91\uFF09 ",-1)),O0={class:"flex-column flex flex-fill mt-3"},G0=re(()=>e("div",{id:"addTaskToolBar"},null,-1)),W0={id:"addTaskContainer",class:"flex-column flex h-100"},K0={class:"modal-footer"},J0=re(()=>e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1)),Y0={props:{title:String,issue_type:String},emits:["reloadTaskList"],setup(l,{emit:a}){const o=l,{proxy:t}=I();T();let n=j(),i=S({team:n.params.team,project:n.params.project,com:n.params.com,name:"",desc:"",projectSelect:"",issueTypeSelect:"",assignSelect:"",prioritySelect:"",projects:[],issue_types:[],assigns:[],priorities:[],editor:Ee,editorConfig:{toolbar:{items:["undo","redo","heading","fontFamily","fontSize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","numberedList","bulletedList","outdent","indent","|","link","blockquote","imageUpload","insertTable"]},ckfinder:{uploadUrl:"",options:{resourceType:"Images"}}}}),r=null;C(()=>{m(),i.editorConfig.ckfinder.uploadUrl=t.urls.upload.format(i.team),r=new bootstrap.Modal(document.getElementById("addTask"),{keyboard:!1})});let p=v=>{let g=document.querySelector("#addTaskToolBar"),y=document.querySelector("#addTaskContainer");g.hasChildNodes()&&(g.innerHTML=""),y.hasChildNodes()&&(y.innerHTML=""),g.appendChild(v.ui.view.toolbar.element),y.appendChild(v.ui.getEditableElement())},c=()=>{let v={summary:i.name,desc:i.desc,priority:i.prioritySelect,assign:i.assignSelect,project:i.projectSelect,issue_type:i.issueTypeSelect};t.post(t.urls.task_add.format(i.team,i.project,i.issueTypeSelect),v).then(function(g){r.hide(),a("reloadTaskList",g.data.uuid)})},_=v=>{t.post(t.urls.project_members.format(i.team,v)).then(function(g){i.assigns=g.data,i.assignSelect=i.assigns[0].uuid})},m=()=>{let v={categories:[],name:""};t.post(t.urls.team_project_list.format(i.team),v).then(function(g){let y=g.data;if(y&&y.length>0){for(let $=0;$<y.length;$++)y[$].uuid===i.project&&(i.projectSelect=i.project),i.projects.push({value:y[$].uuid,text:y[$].name});i.projectSelect||(i.projectSelect=i.projects[0].value)}})},f=v=>{t.get(t.urls.project_template.format(i.team,v)).then(function(g){let y=g.data;if(y&&y.length>0){for(let $=0;$<y.length;$++)y[$].uuid===o.issue_type&&(i.issueTypeSelect=o.issue_type),i.issue_types.push({value:y[$].uuid,text:y[$].name});i.issueTypeSelect||(i.issueTypeSelect=i.issue_types[0].value)}})},h=()=>{t.post(t.urls.issue_type_priority.format(i.team)).then(function(v){let g=v.data.options;if(g&&g.length>0)for(let y=0;y<g.length;y++)g[y].default_selected&&(i.prioritySelect=g[y].uuid),i.priorities.push({value:g[y].uuid,text:g[y].value})})};return J(()=>i.projectSelect,v=>{_(v),f(v),h()}),(v,g)=>{const y=R("ckeditor");return d(),u(w,null,[x(ae,{title:l.title,plus:!0,"data-bs-toggle":"modal","data-bs-target":"#addTask"},null,8,["title"]),e("div",m0,[e("div",f0,[e("div",h0,[e("div",x0,[e("h5",v0,b(l.title),1),g0]),e("div",y0,[e("div",b0,[$0,e("div",w0,[U(e("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=$=>s(i).name=$),name:"name",class:"form-control"},null,512),[[O,s(i).name]])])]),e("div",k0,[e("div",j0,[S0,e("div",C0,[U(e("select",{"onUpdate:modelValue":g[1]||(g[1]=$=>s(i).projectSelect=$),class:"form-select"},[(d(!0),u(w,null,M(s(i).projects,$=>(d(),u("option",{value:$.value,key:$.value},b($.text),9,I0))),128))],512),[[Me,s(i).projectSelect]])])]),z0,e("div",T0,[M0,e("div",L0,[U(e("select",{"onUpdate:modelValue":g[2]||(g[2]=$=>s(i).issueTypeSelect=$),class:"form-select"},[(d(!0),u(w,null,M(s(i).issue_types,$=>(d(),u("option",{value:$.value,key:$.value},b($.text),9,D0))),128))],512),[[Me,s(i).issueTypeSelect]])])])]),e("div",B0,[e("div",P0,[V0,e("div",H0,[U(e("select",{"onUpdate:modelValue":g[3]||(g[3]=$=>s(i).assignSelect=$),class:"form-select"},[(d(!0),u(w,null,M(s(i).assigns,$=>(d(),u("option",{value:$.uuid,key:$.uuid},[x(ge,{user:$,hasEmail:!0},null,8,["user"])],8,U0))),128))],512),[[Me,s(i).assignSelect]])])]),q0,e("div",N0,[F0,e("div",E0,[U(e("select",{"onUpdate:modelValue":g[4]||(g[4]=$=>s(i).prioritySelect=$),class:"form-select"},[(d(!0),u(w,null,M(s(i).priorities,$=>(d(),u("option",{value:$.value,key:$.value},b($.text),9,A0))),128))],512),[[Me,s(i).prioritySelect]])])])]),R0,e("div",O0,[G0,e("div",W0,[x(y,{editor:s(i).editor,onReady:s(p),modelValue:s(i).desc,"onUpdate:modelValue":g[5]||(g[5]=$=>s(i).desc=$),config:s(i).editorConfig},null,8,["editor","onReady","modelValue","config"])])])]),e("div",K0,[J0,e("button",{type:"button",class:"btn btn-primary",onClick:g[6]||(g[6]=(...$)=>s(c)&&s(c)(...$))},"\u786E\u5B9A")])])])])],64)}}};var Q0=B(Y0,[["__scopeId","data-v-3dd75885"]]);const et=l=>(N("data-v-478cbe2d"),l=l(),F(),l),Z0={class:"flex-column flex h-100 jiBox"},X0={class:"flex-row flex mt-3 b-line"},ep={class:"flex-row flex ps-4 tab-title"},tp=["onClick"],sp=et(()=>e("div",{style:{flex:"1"}},"\xA0",-1)),ap={class:"flex-row flex p-3"},lp=et(()=>e("div",{style:{flex:"1",display:"inline-block"}},null,-1)),op={style:{flex:"0 0 auto","flex-direction":"column","align-items":"center",display:"flex"}},ip={style:{width:"100%","text-align":"right",flex:"1","align-items":"center",display:"flex"}},np={style:{flex:"1",display:"inline-block"}},rp={style:{position:"relative",height:"0"},class:"t-line flex-row flex flex-fill"},dp={key:0,class:"flex-row flex flex-fill",style:{position:"relative"}},cp={style:{overflow:"auto"},class:"flex-row flex flex-fill"},pp={id:"task-list",class:"w-100",style:{overflow:"auto"}},up=["onClick"],_p={class:"flex-row flex",style:{"border-bottom":"1px solid #f8f8f8",flex:"1",padding:"10px 10px 10px 7px"}},mp={style:{flex:"0 0 auto","margin-left":"10px"},class:"flex-row flex"},fp={style:{flex:"0 0 auto","margin-left":"5px","background-color":"#efefef","border-radius":"4px!important",padding:"0 6px 0 6px",height:"20px"}},hp={style:{flex:"1","margin-left":"10px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap",width:"0"}},xp={style:{flex:"0 0 auto","margin-right":"10px","margin-left":"5px","background-color":"rgb(239, 239, 239)","border-radius":"4px !important",padding:"0px 6px",height:"20px"},class:"flex-row flex align-items-center"},vp=et(()=>e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1623897554814",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4488",width:"12",height:"12"},[e("path",{d:"M64 128a128 128 0 0 1 128-128h64a128 128 0 0 1 128 128v64a128 128 0 0 1-121.6 127.872V425.6h409.6a166.4 166.4 0 0 1 166.4 166.4v112.128A128 128 0 0 1 960 832v64a128 128 0 0 1-128 128h-64a128 128 0 0 1-128-128v-64a128 128 0 0 1 121.6-127.872V592a89.6 89.6 0 0 0-89.6-89.6H262.4v201.728A128 128 0 0 1 384 832v64a128 128 0 0 1-128 128H192a128 128 0 0 1-128-128v-64a128 128 0 0 1 121.6-127.872V319.872A128 128 0 0 1 64 192V128z m128-51.2a51.2 51.2 0 0 0-51.2 51.2v64a51.2 51.2 0 0 0 51.2 51.2h64a51.2 51.2 0 0 0 51.2-51.2V128a51.2 51.2 0 0 0-51.2-51.2H192z m0 704a51.2 51.2 0 0 0-51.2 51.2v64a51.2 51.2 0 0 0 51.2 51.2h64a51.2 51.2 0 0 0 51.2-51.2v-64a51.2 51.2 0 0 0-51.2-51.2H192z m576 0a51.2 51.2 0 0 0-51.2 51.2v64a51.2 51.2 0 0 0 51.2 51.2h64a51.2 51.2 0 0 0 51.2-51.2v-64a51.2 51.2 0 0 0-51.2-51.2h-64z","p-id":"4489",fill:"#515151"})])],-1)),gp={style:{flex:"0 0 auto","margin-left":"5px","font-size":"12px"}},yp={style:{flex:"0 0 auto"}},bp={key:1,class:"flex flex-fill"},$p={key:0,style:{"-webkit-flex":"1",flex:"1"},class:"flex-row flex align-items-center justify-content-center"},wp={props:{comName:String,issue_type:String},setup(l){const a=l,{proxy:o}=I();let t=T(),n=j(),i=S({cur:0,team:"",project:"",com:"",tabTitle:["\u5168\u90E8{0}","\u672A\u5F00\u59CB","\u8FDB\u884C\u4E2D","\u5DF2\u5B8C\u6210"],task:{},tasks:[],selectedUUID:"",task_completed:!1,tasks_completed:!1,owner:"",assign:""});C(()=>{i.team=n.params.team,i.project=n.params.project,i.com=n.params.com,r()});let r=(v,g)=>{let y=o.urls.task_list.format(i.team,i.project,a.issue_type),$={category:i.cur,owner:i.owner,assign:i.assign};o.post(y,$).then(function(k){i.tasks=k.data,i.tasks_completed=!0,i.tasks&&i.tasks.length>0&&(v||(g?v=i.tasks[0].uuid:n.name==="Task"?v=n.params.task:v=i.tasks[0].uuid),p(v))})},p=v=>{v!==i.selectedUUID&&(i.selectedUUID=v),(n.name!=="Task"||n.params.task!==v)&&t.push({name:"Task",params:{team:i.team,project:i.project,com:i.com,task:v}}),c(v)},c=v=>{let g=o.urls.task_get.format(i.team,v);o.get(g).then(function(y){i.task=y.data,i.task_completed=!0})},_=v=>{i.cur=v,r(null,!0)},m=X(()=>"\u65B0\u589E{0}".format(a.comName)),f=X(()=>"\u641C\u7D22{0}".format(a.comName)),h=X(()=>i.task_completed&&i.tasks&&i.tasks.length>0);return(v,g)=>(d(),u("div",Z0,[e("div",X0,[e("div",ep,[(d(!0),u(w,null,M(s(i).tabTitle,(y,$)=>(d(),u("div",{class:V(["justify-content-between align-items-center pointer px-3 pb-2",{active:s(i).cur==$}]),onClick:k=>s(_)($),key:$},b(y.format(l.comName)),11,tp))),128))]),sp]),e("div",ap,[x(Q0,{title:s(m),issue_type:l.issue_type,onReloadTaskList:s(r)},null,8,["title","issue_type","onReloadTaskList"]),lp,e("div",op,[e("div",ip,[e("div",np,[x(Z,{placeholder:s(f)},null,8,["placeholder"])])])])]),e("div",rp,[s(i).tasks&&s(i).tasks.length>0?(d(),u("div",dp,[e("div",cp,[e("div",pp,[(d(!0),u(w,null,M(s(i).tasks,y=>(d(),u("div",{key:y.uuid,class:V(["flex-row flex flex-fill task-item",{active:s(i).selectedUUID===y.uuid}]),onClick:$=>s(p)(y.uuid)},[e("div",_p,[e("div",mp,[x(Le,{color:y.priority.color,name:y.priority.value,bgColor:y.priority.background_color},null,8,["color","name","bgColor"]),e("div",fp,b(y.assign.name),1)]),e("div",hp,b(y.summary),1),e("div",xp,[vp,e("div",gp,b(y.related_task_count[0])+"/"+b(y.related_task_count[1]),1)]),e("div",yp,[x(me,{name:y.task_status.name,color:y.task_status.category.toString()},null,8,["name","color"])])])],10,up))),128))])]),s(i).task_completed?(d(),E(_0,{key:0,task:s(i).task,issue_type:l.issue_type,onReloadTaskList:s(r)},{workField:L(()=>[lt(v.$slots,"workField",{},void 0,!0)]),_:3},8,["task","issue_type","onReloadTaskList"])):z("",!0)])):(d(),u("div",bp,[s(i).tasks_completed&&!s(h)?(d(),u("div",$p," \u6682\u65E0"+b(l.comName),1)):z("",!0)]))])]))}};var tt=B(wp,[["__scopeId","data-v-478cbe2d"]]);const ye=l=>(N("data-v-783e6e9a"),l=l(),F(),l),kp={class:"field-type-group option"},jp=ye(()=>e("div",{class:"flex-row flex field-row"},[e("div",{class:"field-cell"},"\u5173\u8054\u4EFB\u52A1"),e("div",{class:"field-cell-value header"},[e("div",{class:"flex-row flex"},[e("div",{style:{flex:"1"}}),e("div",{style:{color:"#303030",height:"1.5rem"},class:"flex-row flex align-items-center pointer","data-bs-toggle":"modal","data-bs-target":"#addLinkTasks"},[e("i",{class:"bi bi-link",style:{"font-size":"1.5rem"}})])])])],-1)),Sp={class:"flex-row flex field-row"},Cp={key:0,class:"flex-row flex",style:{"-webkit-flex":"1",flex:"1",position:"relative"}},Ip={style:{overflow:"auto",flex:"1",display:"flex",height:"100%"}},zp={id:"linked-task-list",class:"flex-column flex flex-fill"},Tp=["onMouseover"],Mp=["onClick"],Lp=ye(()=>e("i",{class:"bi bi-x-lg"},null,-1)),Dp=[Lp],Bp={key:1},Pp={class:"modal fade",id:"addLinkTasks","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Vp={class:"modal-dialog modal-lg modal-dialog-scrollable"},Hp={class:"modal-content"},Up=ye(()=>e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},"\u5173\u8054\u4EFB\u52A1"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1)),qp={class:"modal-body"},Np={style:{flex:"0 0 auto",padding:"0 10px"}},Fp=ye(()=>e("label",{class:"col-md-12 control-label"},"\u4EFB\u52A1\u6807\u9898",-1)),Ep={class:"col-md-12 mt-2"},Ap=ye(()=>e("div",null,"\u8F93\u5165\u4EFB\u52A1\u6807\u9898\u5305\u542B\u7684\u5173\u952E\u5B57",-1)),Rp={style:{flex:"1"},class:"mt-3"},Op={key:0,class:"flex-row flex",style:{"-webkit-flex":"1",flex:"1",position:"relative"}},Gp={style:{overflow:"auto",flex:"1",display:"flex",height:"100%"}},Wp={id:"task-list",style:{"flex-direction":"column",flex:"1",display:"flex",overflow:"auto"}},Kp={class:"flex-row flex",style:{"border-bottom":"1px solid #f8f8f8",flex:"1",padding:"10px 10px 10px 7px"}},Jp={style:{flex:"0 0 auto"},class:"flex-row flex align-items-center justify-content-center"},Yp={key:0,type:"checkbox",style:{width:"14px",height:"14px"},disabled:"",checked:""},Qp=["onUpdate:modelValue"],Zp={style:{flex:"0 0 auto","margin-left":"10px"},class:"flex-row flex"},Xp={style:{flex:"0 0 auto","margin-left":"5px","background-color":"#efefef","border-radius":"4px!important",padding:"0 6px 0 6px",height:"20px"}},eu={style:{flex:"1","margin-left":"10px","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap",width:"0"}},tu={style:{flex:"0 0 auto"}},su={class:"modal-footer"},au=ye(()=>e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1)),lu={props:{comName:String,issue_type:String},setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:"",project:"",summary:"",task:"",tasks:[],linkedTasks:[],addingTasks:[],delUUID:""});J(()=>o.params,m=>{t.team=o.params.team,t.project=o.params.project,t.task=o.params.task,r()});let n=null;C(()=>{t.team=o.params.team,t.project=o.params.project,t.task=o.params.task,r(),n=new bootstrap.Modal(document.getElementById("addLinkTasks"),{keyboard:!1}),document.getElementById("addLinkTasks").addEventListener("shown.bs.modal",function(){t.addingTasks.length=0,i()})});let i=m=>{let f=a.urls.link_tasks.format(t.team,t.project);a.post(f,{issueType_name:"\u4EFB\u52A1",summary:t.summary}).then(function(h){t.tasks=h.data})},r=()=>{let m=a.urls.linked_tasks.format(t.team,t.task);a.get(m).then(function(f){t.linkedTasks=f.data})},p=m=>{if(t.linkedTasks){for(let f=0;f<t.linkedTasks.length;f++)if(t.linkedTasks[f].uuid===m)return!0}return!1},c=()=>{if(t.tasks)for(let f=0;f<t.tasks.length;f++){let h=t.tasks[f];if(h.sel){let v={uuid:h.uuid,issue_type:h.issue_type.uuid};t.addingTasks.push(v)}}let m=t.addingTasks;a.post(a.urls.linked_tasks_add.format(t.team,t.task),m).then(function(f){f.data.code===200&&(n.hide(),r(),a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"))}).catch(function(f){a.bus.emit("alertDanger",f.response.data.errcode)})},_=m=>{a.post(a.urls.linked_tasks_del.format(t.team,t.task,m)).then(function(f){f.data.code===200&&(r(),a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"))}).catch(function(f){a.bus.emit("alertDanger",f.response.data.errcode)})};return(m,f)=>(d(),u(w,null,[x(tt,{comName:l.comName,issue_type:l.issue_type,ref:"com"},{workField:L(()=>[e("div",kp,[jp,e("div",Sp,[s(t).linkedTasks&&s(t).linkedTasks.length>0?(d(),u("div",Cp,[e("div",Ip,[e("div",zp,[(d(!0),u(w,null,M(s(t).linkedTasks,h=>(d(),u("div",{key:h.uuid,class:"flex-row flex flex-fill task-item align-items-center hover"},[e("div",{class:"flex-row flex flex-fill related-task align-items-center",style:{flex:"1",padding:"5px 0"},onMouseover:v=>{s(t).delUUID=h.uuid},onMouseleave:f[0]||(f[0]=v=>{s(t).delUUID=""})},[e("div",{style:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap",width:"0"},class:V(["flex-fill",{del:h.task_status.category===3}])}," #"+b(h.number)+" "+b(h.summary),3),h.uuid===s(t).delUUID?(d(),u("div",{key:0,style:{flex:"0 0 20px","margin-left":"5px"},onClick:v=>s(_)(h.uuid),class:"flex-row flex align-items-center pointer"},Dp,8,Mp)):z("",!0)],40,Tp)]))),128))])])])):(d(),u("div",Bp,"\u6682\u65E0\u5173\u8054"))])])]),_:1},8,["comName","issue_type"]),e("div",Pp,[e("div",Vp,[e("div",Hp,[Up,e("div",qp,[e("div",Np,[Fp,e("div",Ep,[U(e("input",{type:"text","onUpdate:modelValue":f[1]||(f[1]=h=>s(t).summary=h),onBlur:f[2]||(f[2]=(...h)=>s(i)&&s(i)(...h)),name:"name",class:"form-control"},null,544),[[O,s(t).summary]])]),Ap]),e("div",Rp,[s(t).tasks&&s(t).tasks.length>0?(d(),u("div",Op,[e("div",Gp,[e("div",Wp,[(d(!0),u(w,null,M(s(t).tasks,h=>(d(),u("div",{key:h.uuid,class:"flex-row flex task-item"},[e("div",Kp,[e("div",Jp,[s(p)(h.uuid)?(d(),u("input",Yp)):U((d(),u("input",{key:1,type:"checkbox","onUpdate:modelValue":v=>h.sel=v,style:{width:"14px",height:"14px"}},null,8,Qp)),[[ve,h.sel]])]),e("div",Zp,[x(Le,{color:h.priority.color,name:h.priority.value,bgColor:h.priority.background_color},null,8,["color","name","bgColor"]),e("div",Xp,b(h.assign.name),1)]),e("div",eu,b(h.summary),1),e("div",tu,[x(me,{name:h.task_status.name,color:h.task_status.category.toString()},null,8,["name","color"])])])]))),128))])])])):z("",!0)])]),e("div",su,[au,e("button",{type:"button",class:"btn btn-primary",onClick:f[3]||(f[3]=(...h)=>s(c)&&s(c)(...h))},"\u786E\u5B9A")])])])])],64))}};var ou=B(lu,[["__scopeId","data-v-783e6e9a"]]);const iu={props:{comName:String,issue_type:String},setup(l){return(a,o)=>(d(),E(tt,{comName:l.comName,issue_type:l.issue_type},{workField:L(()=>[]),_:1},8,["comName","issue_type"]))}};const nu=l=>(N("data-v-7bea95a2"),l=l(),F(),l),ru={class:"field-type-group option"},du=nu(()=>e("div",{class:"flex-row flex field-row"},[e("div",{class:"field-cell"},"\u5173\u8054\u9700\u6C42")],-1)),cu={class:"flex-row field-row flex"},pu={key:0,class:"flex-row flex",style:{"-webkit-flex":"1",flex:"1",position:"relative"}},uu={style:{overflow:"auto",flex:"1",display:"flex",height:"100%"}},_u={id:"linked-task-list",class:"flex-column flex flex-fill"},mu={class:"flex-row flex",style:{flex:"1",padding:"5px 0"}},fu={key:1,style:{padding:"3px 0"}},hu={props:{comName:String,issue_type:String},setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,project:o.params.project,task:o.params.task,tasks:[],linkedTasks:[]});C(()=>{n()}),J(()=>o.params,i=>{t.task=o.params.task,n()});let n=()=>{let i=a.urls.linked_source_tasks.format(t.team,t.task);a.get(i).then(function(r){t.linkedTasks=r.data})};return(i,r)=>(d(),E(tt,{comName:l.comName,issue_type:l.issue_type},{workField:L(()=>[e("div",ru,[du,e("div",cu,[s(t).linkedTasks&&s(t).linkedTasks.length>0?(d(),u("div",pu,[e("div",uu,[e("div",_u,[(d(!0),u(w,null,M(s(t).linkedTasks,p=>(d(),u("div",{key:p.uuid,class:"flex-row flex flex-fill task-item align-items-center"},[e("div",mu,[e("div",{style:{"text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap",width:"0"},class:V(["flex-fill",{del:p.task_status.category===3}])}," #"+b(p.number)+" "+b(p.summary),3)])]))),128))])])])):(d(),u("div",fu,"\u6682\u65E0\u5173\u8054"))])])]),_:1},8,["comName","issue_type"]))}};var xu=B(hu,[["__scopeId","data-v-7bea95a2"]]);const vu={class:"modal fade",id:"addRoleMember","data-bs-backdrop":"static",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},gu={class:"modal-dialog modal-lg modal-dialog-scrollable"},yu={class:"modal-content"},bu=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"exampleModalLabel"},"\u9080\u8BF7\u65B0\u7528\u6237"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),$u={class:"modal-body"},wu={style:{flex:"1",height:"100%"},class:"flex-row flex align-items-center"},ku=e("div",{style:{flex:"1",display:"flex"}}," \u9009\u62E9\u6210\u5458\u52A0\u5165\u5230\u89D2\u8272\uFF1A \u9879\u76EE\u6210\u5458 ",-1),ju={style:{flex:"0 0 300px"}},Su={class:"table mt-4"},Cu={class:"table table-hover l-line r-line t-line"},Iu=e("thead",{class:"table-light"},[e("tr",null,[e("th",{style:{width:"50px"}},[e("div",{class:"flex-row flex align-items-center"},[e("input",{type:"checkbox",style:{width:"18px",height:"18px"}})])]),e("th",null,"\u7528\u6237\u540D"),e("th",null,"\u90AE\u7BB1"),e("th",{class:"col-2"},"\u6240\u5C5E\u90E8\u95E8"),e("th",{class:"col-2"},"\u7528\u6237\u7EC4")])],-1),zu={style:{"vertical-align":"middle"}},Tu={class:"flex-row flex align-items-center"},Mu={key:0,type:"checkbox",style:{width:"18px",height:"18px"},disabled:"",checked:""},Lu=["onUpdate:modelValue"],Du=e("td",null," \u65E0 ",-1),Bu=e("td",null," \u65E0 ",-1),Pu={class:"modal-footer"},Vu=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1),Hu={props:{curMember:Array,role:String},emits:["loadRoleMembers"],setup(l,{emit:a}){const o=l,{proxy:t}=I();T();let n=j(),i=S({team:n.params.team,project:n.params.project,name:"",items:[],members:[]}),r=null;C(()=>{_(),r=new bootstrap.Modal(document.getElementById("addRoleMember"),{keyboard:!1})});let p=()=>{c()},c=()=>{m()},_=()=>{t.get(t.urls.team_member_list.format(i.team)).then(function(h){if(i.items=h.data,i.items)for(let v=0;v<i.items.length;v++)i.items[v].sel=!1})},m=()=>{if(i.items){i.members=[];for(let v=0;v<i.items.length;v++){let g=i.items[v];g.sel&&i.members.push(g.uuid)}}let h={members:i.members,role_uuid:i.role};t.post(t.urls.project_member_add.format(i.team,i.project),h).then(function(v){v.data.code===200&&(r.hide(),a("loadRoleMembers"))})},f=h=>{if(o.curMember){for(let v=0;v<o.curMember.length;v++)if(o.curMember[v].uuid===h)return!0}return!1};return(h,v)=>(d(),u(w,null,[x(ae,{title:"\u6DFB\u52A0\u6210\u5458","data-bs-toggle":"modal","data-bs-target":"#addRoleMember"}),e("div",vu,[e("div",gu,[e("div",yu,[bu,e("div",$u,[e("form",{ref:"form",onSubmit:v[0]||(v[0]=xe((...g)=>s(c)&&s(c)(...g),["stop","prevent"]))},[e("div",wu,[ku,e("div",ju,[x(Z,{placeholder:"\u8F93\u5165\u7528\u6237\u540D\uFF0C\u90AE\u7BB1"})])])],544),e("div",Su,[e("table",Cu,[Iu,e("tbody",null,[(d(!0),u(w,null,M(s(i).items,g=>(d(),u("tr",{key:g.uuid},[e("td",zu,[e("div",Tu,[s(f)(g.uuid)?(d(),u("input",Mu)):U((d(),u("input",{key:1,type:"checkbox","onUpdate:modelValue":y=>g.sel=y,style:{width:"18px",height:"18px"}},null,8,Lu)),[[ve,g.sel]])])]),e("td",null,[x(ge,{user:g},null,8,["user"])]),e("td",null,b(g.email),1),Du,Bu]))),128))])])])]),e("div",Pu,[Vu,e("button",{type:"button",class:"btn btn-primary",onClick:v[1]||(v[1]=(...g)=>s(p)&&s(p)(...g))},"\u786E\u5B9A")])])])])],64))}};const Ve=l=>(N("data-v-728dc3cc"),l=l(),F(),l),Uu={class:"flex-column flex flex-fill jiBox",style:{"min-height":"100%"}},qu=Ve(()=>e("div",{class:"b-line p-3 fs-4"},"\u6210\u5458",-1)),Nu={class:"flex-row flex align-items-center",style:{flex:"0 0 auto",margin:"10px 20px"}},Fu={class:"flex-fill"},Eu={class:"flex-row flex members t-line i-table",style:{flex:"1"}},Au={style:{flex:"0 0 200px"},class:"r-line"},Ru={style:{flex:"1",margin:"-1px 0 0 0"}},Ou={class:"table table-hover"},Gu=Ve(()=>e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u7528\u6237\u540D"),e("th",{scope:"col"},"\u90AE\u7BB1"),e("th",{scope:"col"},"\u89D2\u8272"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1)),Wu=Ve(()=>e("td",null,[e("div",null,"\u65E0")],-1)),Ku=["onClick"],Ju=Ve(()=>e("i",{class:"bi bi-x fs-c8"},null,-1)),Yu=[Ju],Qu={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,project:o.params.project,items:[],roles:[],fields:[{key:"user",label:"\u7528\u6237\u540D"},{key:"email",label:"\u90AE\u7BB1"},{key:"role",label:"\u89D2\u8272"},{key:"op",label:"\u64CD\u4F5C",w:"80px"}],selectedRole:""});C(()=>{n()});let n=()=>{t.roles=[],a.post(a.urls.project_members.format(t.team,t.project)).then(function(r){t.items=r.data;let p=[];for(let c=0;c<t.items.length;c++){let _=!1,m=t.items[c];for(let f=0;f<p.length;f++)if(p[f]===m.role_uuid){_=!0;break}if(!_){let f={uuid:m.role_uuid,name:m.role_name};t.roles.push(f)}p.push(m.role_uuid)}t.roles.length>0&&(t.selectedRole=t.roles[0].uuid)})},i=(r,p)=>{};return(r,p)=>(d(),u("div",Uu,[qu,e("div",Nu,[e("div",Fu,[x(Z,{placeholder:"\u641C\u7D22\u6210\u5458"})]),e("div",null,[x(Hu,{role:s(t).selectedRole,curMember:s(t).items,onLoadRoleMembers:s(n)},null,8,["role","curMember","onLoadRoleMembers"])])]),e("div",Eu,[e("div",Au,[(d(!0),u(w,null,M(s(t).roles,c=>(d(),u("div",{key:c.uuid,class:V(["role active",{active:c.uuid===s(t).selectedRole}])},b(c.name),3))),128))]),e("div",Ru,[e("table",Ou,[Gu,e("tbody",null,[(d(!0),u(w,null,M(s(t).items,c=>(d(),u("tr",{key:c.uuid},[e("td",null,[x(De,{user:c},null,8,["user"])]),e("td",null,b(c.email),1),Wu,e("td",null,[e("div",{class:"member-delete-x",onClick:_=>s(i)(c.role_uuid,c.uuid)},Yu,8,Ku)])]))),128))])])])])]))}};var Zu=B(Qu,[["__scopeId","data-v-728dc3cc"]]);const Xu=l=>(N("data-v-5817446d"),l=l(),F(),l),e2={class:"app-main-content jiBox flex-column flex",style:{"min-height":"100%"}},t2=Xu(()=>e("div",{style:{flex:"0 0 auto","font-size":"18px",padding:"20px 0 10px 20px"},class:"b-line"},"\u62A5\u8868",-1)),s2={class:"flex-row flex align-items-center",style:{flex:"0 0 auto",margin:"10px 20px"}},a2={style:{flex:"0 0 300px","text-align":"right",display:"flex"}},l2=se('<div class="flex-row flex report t-line" style="flex:1;" data-v-5817446d><div style="flex:0 0 200px;" class="r-line" data-v-5817446d><div class="report-menu active" data-v-5817446d> \u5E38\u7528\u62A5\u8868 </div><div class="report-menu" data-v-5817446d> \u9700\u6C42\u5206\u6790 </div><div class="report-menu" data-v-5817446d> \u7F3A\u9677\u5206\u6790 </div><div class="report-menu" data-v-5817446d> \u4EFB\u52A1\u5206\u6790 </div><div class="report-menu" data-v-5817446d> \u5DE5\u65F6\u62A5\u8868 </div></div><div style="flex:1;margin:10px 20px;" class="flex-column flex" data-v-5817446d><div class="report-item report-title" data-v-5817446d>\u5E38\u7528\u62A5\u8868</div><div class="report-item flex-row flex" data-v-5817446d><div style="flex:0 0 auto;color:#CD950C;" data-v-5817446d><i class="bi bi-bar-chart-line" data-v-5817446d></i></div><div style="flex:0 0 auto;margin-left:15px;" data-v-5817446d> \u9700\u6C42\u72B6\u6001\u5206\u5E03 </div></div><div class="report-item flex-row flex" data-v-5817446d><div style="flex:0 0 auto;color:#A020F0;" data-v-5817446d><i class="bi bi-bar-chart-line" data-v-5817446d></i></div><div style="flex:0 0 auto;margin-left:15px;" data-v-5817446d> \u7F3A\u9677\u72B6\u6001\u5206\u5E03 </div></div><div class="report-item flex-row flex" data-v-5817446d><div style="flex:0 0 auto;color:#CD1076;" data-v-5817446d><i class="bi bi-bar-chart-line" data-v-5817446d></i></div><div style="flex:0 0 auto;margin-left:15px;" data-v-5817446d> \u4EFB\u52A1\u72B6\u6001\u5206\u5E03 </div></div><div class="report-item flex-row flex" data-v-5817446d><div style="flex:0 0 auto;color:#1e7e34;" data-v-5817446d><i class="bi bi-bar-chart-line" data-v-5817446d></i></div><div style="flex:0 0 auto;margin-left:15px;" data-v-5817446d> \u6BCF\u65E5\u5DE5\u65F6\u65E5\u5FD7\u62A5\u8868 </div></div></div></div>',1),o2={setup(l){return(a,o)=>(d(),u("div",e2,[t2,e("div",s2,[e("div",a2,[x(Z,{placeholder:"\u641C\u7D22\u62A5\u8868"})])]),l2]))}};var i2=B(o2,[["__scopeId","data-v-5817446d"]]);const n2=l=>(N("data-v-02df7322"),l=l(),F(),l),r2={class:"flex-row flex"},d2={class:"flex-row flex assign align-items-center py-2 pe-4 pointer","data-bs-toggle":"dropdown","data-bs-offset":"0,2"},c2=["src"],p2={style:{"margin-left":"10px"},class:"flex-column flex"},u2={style:{"text-align":"left",color:"#363636"}},_2=n2(()=>e("div",{style:{"text-align":"left",color:"#999999","font-size":"12px"}},"\u9879\u76EE\u8D1F\u8D23\u4EBA",-1)),m2={class:"dropdown-menu border-0 jiBox",style:{"overflow-y":"auto","overflow-x":"hidden",position:"relative"}},f2={style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},h2={props:{user:Object},emits:["loadProject"],setup(l,{emit:a}){const{proxy:o}=I();T();let t=j(),n=S({team:t.params.team,project:t.params.project,users:[]});C(()=>{i()});let i=()=>{o.post(o.urls.project_members.format(n.team,n.project)).then(function(p){n.users=p.data})},r=p=>{let c={uuid:p};o.post(o.urls.project_change_assign.format(n.team,n.project),c).then(function(_){_.data.code===200&&(o.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("loadProject"))}).catch(function(_){o.bus.emit("alertDanger",_.response.data.errcode)})};return(p,c)=>(d(),u("div",r2,[e("div",d2,[e("div",null,[e("img",{src:l.user.avatar,style:{height:"30px",width:"30px","border-radius":"30px"}},null,8,c2)]),e("div",p2,[e("div",u2,b(l.user.name),1),_2])]),e("div",m2,[x(Z,{class:"px-2",placeholder:"\u641C\u7D22\u9879\u76EE\u8D1F\u8D23\u4EBA"}),e("div",f2,[(d(!0),u(w,null,M(s(n).users,_=>(d(),u("div",{class:"mt-2",key:_.uuid},[x(ge,{onSubmit:s(r),class:"px-2 py-1 status-item",user:_,selected:_.uuid===l.user.uuid,hasEmail:!0},null,8,["onSubmit","user","selected"])]))),128))])])]))}};var x2=B(h2,[["__scopeId","data-v-02df7322"]]);const He=l=>(N("data-v-5af0f830"),l=l(),F(),l),v2={class:"flex-row flex align-items-center h-100 pointer"},g2=He(()=>e("i",{class:"bi bi-chevron-expand"},null,-1)),y2={class:"dropdown-menu border-0 jiBox",style:{"max-height":"234px","overflow-y":"auto","overflow-x":"hidden"}},b2=He(()=>e("div",{class:"pb-2 px-2 b-line"},"\u66F4\u6539\u9879\u76EE\u72B6\u6001",-1)),$2=["onClick"],w2={key:0,class:"flex-row flex flex-fill align-items-center"},k2=He(()=>e("div",{style:{flex:"1","min-width":"50px"}},null,-1)),j2=He(()=>e("div",{style:{flex:"0 0 auto",display:"flex","align-items":"center","text-align":"right"}},[e("i",{class:"bi bi-check"})],-1)),S2=[k2,j2],C2={props:{team:String,project:String,name:String,color:String},emits:["loadProject"],setup(l,{emit:a}){const o=l,{proxy:t}=I();T(),j();let n=S({statuses:[{uuid:"to_do",name:"\u672A\u5F00\u59CB"},{uuid:"in_progress",name:"\u8FDB\u884C\u4E2D"},{uuid:"done",name:"\u5DF2\u5B8C\u6210"}]}),i=c=>{let _={category:c};t.post(t.urls.project_change_status.format(o.team,o.project),_).then(function(m){m.data.code===200&&(t.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a("loadProject"))}).catch(function(m){t.bus.$emit("alertDanger",m.response.data.errcode)})},r=X(()=>{let c=o.name;switch(o.name){case"1":case"to_do":c="\u672A\u5F00\u59CB";break;case"2":case"in_progress":c="\u8FDB\u884C\u4E2D";break;case"3":case"done":c="\u5DF2\u5B8C\u6210";break}return c}),p=X(()=>{let c=o.color;switch(o.color){case"1":c="to_do";break;case"2":c="in_progress";break;case"3":c="done";break}return c});return(c,_)=>(d(),u("div",v2,[e("div",{class:V(["status",s(p)]),"data-bs-toggle":"dropdown","data-bs-offset":"0,2"},[H(b(s(r))+" ",1),g2],2),e("div",y2,[b2,(d(!0),u(w,null,M(s(n).statuses,m=>(d(),u("div",{key:m.uuid},[e("div",{onClick:f=>s(i)(m.uuid),class:V(["status-item flex-row flex align-items-center p-2",{selected:s(p)===m.uuid}])},[e("div",null,b(m.name),1),s(p)===m.uuid?(d(),u("div",w2,S2)):z("",!0)],10,$2)]))),128))])]))}};var I2=B(C2,[["__scopeId","data-v-5af0f830"]]);const z2={style:{"margin-right":"5px"}},T2={style:{flex:"0 0 40px",border:"1px solid #e8e8e8","border-radius":"40px",height:"40px",width:"40px"},class:"flex-row flex align-items-center justify-content-center"},M2=["src"],L2={props:["pic"],setup(l){return(a,o)=>(d(),u("div",z2,[e("div",T2,[e("img",{src:l.pic,style:{height:"30px",width:"30px","border-radius":"30px"}},null,8,M2)])]))}};const ie=l=>(N("data-v-0acdd0e8"),l=l(),F(),l),D2={class:"flex-fill"},B2={class:"flex-row flex flex-fill align-items-center"},P2={style:{flex:"1"},class:"flex-row flex align-items-center"},V2=ie(()=>e("div",{class:"fs-c10"},"\u9879\u76EE\u8FDB\u5EA6",-1)),H2={class:"progress flex-fill mx-3",style:{height:"28px"}},U2={style:{flex:"0 0 auto"}},q2={class:"task-stat jiBox flex-row flex"},N2={class:"task-stat-item"},F2={class:"flex-column flex"},E2=ie(()=>e("div",{class:"task-stat-icon"},[e("svg",{t:"1602158573955",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"27927",width:"30",height:"30"},[e("path",{d:"M512.718 1.549C230.377 1.549 1.494 230.432 1.494 512.774S230.377 1024 512.718 1024s511.224-228.884 511.224-511.226S795.06 1.55 512.718 1.55z m0 971.325c-254.108 0-460.102-205.996-460.102-460.102S258.61 52.67 512.718 52.67 972.82 258.665 972.82 512.772 766.826 972.874 512.718 972.874z m232.06-496.332c-79.556-54.133-223.815-135.157-305.959-185.36-33.678-21.239-61.996-12.71-64.717 24.8-1.971 100.468 0 294.317 0 396.523 1.711 38.08 35.282 43.102 64.419 27.812 82.05-49.71 223.071-135.147 305.536-185.11-0.54-0.327 62.614-35.06 0.72-78.665z","p-id":"27928",fill:"#1296db"})])],-1)),A2={class:"task-stat-body flex-column flex align-items-center"},R2={class:"task-stat-count"},O2=ie(()=>e("div",{class:"task-stat-text"},"\u672A\u5F00\u59CB",-1)),G2={class:"task-stat-item"},W2={class:"flex-column flex"},K2=ie(()=>e("div",{class:"task-stat-icon"},[e("svg",{t:"1602158832799",class:"icon",viewBox:"0 0 1098 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"29074",width:"30",height:"30"},[e("path",{d:"M549.47 851.316c-38.634 0-69.82-31.185-69.82-69.818V184.32c0-38.633 31.186-69.818 69.82-69.818s69.817 31.185 69.817 69.818v596.945c0 38.633-31.185 70.051-69.818 70.051z m239.708-186.181c-38.633 0-69.818-31.186-69.818-69.819V370.27c0-38.633 31.185-69.818 69.818-69.818s69.818 31.185 69.818 69.818v225.047c0 38.633-31.185 69.819-69.818 69.819z m239.942-31.884c-38.633 0-69.818-31.186-69.818-69.818V402.385c0-38.632 31.185-69.818 69.818-69.818s69.818 31.186 69.818 69.818v161.048c0 38.632-31.185 69.818-69.818 69.818z m-719.36 31.884c-38.633 0-69.818-31.186-69.818-69.819V370.27c0-38.633 31.185-69.818 69.818-69.818s69.818 31.185 69.818 69.818v225.047c0 38.633-31.418 69.819-69.818 69.819zM69.818 633.25C31.185 633.25 0 602.065 0 563.433V402.385c0-38.632 31.185-69.818 69.818-69.818s69.818 31.186 69.818 69.818v161.048c0 38.632-31.185 69.818-69.818 69.818z","p-id":"29075",fill:"#d4237a"})])],-1)),J2={class:"task-stat-body flex-column flex align-items-center"},Y2={class:"task-stat-count"},Q2=ie(()=>e("div",{class:"task-stat-text"},"\u8FDB\u884C\u4E2D",-1)),Z2={class:"task-stat-item"},X2={class:"flex-column flex"},e_=ie(()=>e("div",{class:"task-stat-icon"},[e("svg",{t:"1602158959005",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"30986",width:"30",height:"30"},[e("path",{d:"M512 0C230.4 0 0 230.4 0 512s230.4 512 512 512 512-230.4 512-512S793.6 0 512 0z m273.066667 388.266667l-298.666667 298.666666c-21.333333 21.333333-59.733333 21.333333-81.066667 0l-170.666666-166.4c-21.333333-21.333333-21.333333-59.733333 0-81.066666s59.733333-21.333333 81.066666 0l123.733334 123.733333 260.266666-256c21.333333-21.333333 59.733333-21.333333 81.066667 0 29.866667 21.333333 29.866667 64 4.266667 81.066667z",fill:"#3FC591","p-id":"30987"})])],-1)),t_={class:"task-stat-body flex-column flex align-items-center"},s_={class:"task-stat-count"},a_=ie(()=>e("div",{class:"task-stat-text"},"\u5DF2\u5B8C\u6210",-1)),l_={class:"flex-row flex flex-fill mt-4"},o_={class:"flex-fill w-50 p-4 jiBox"},i_=ie(()=>e("div",{class:"fs-c10"}," \u9879\u76EE\u7B80\u4ECB\uFF1A ",-1)),n_=ie(()=>e("div",{style:{color:"#98a6ad","padding-top":"10px",height:"200px"}},[H(" Jitask \u662F\u4E00\u6B3E\u7CBE\u7B80\u3001\u591A\u79DF\u6237\u7684\u9879\u76EE\u7BA1\u7406\u8F6F\u4EF6\uFF0C\u63D0\u4F9B\u4EFB\u52A1\u7BA1\u7406\u3001\u6587\u6863\u7BA1\u7406\u4E24\u5927\u677F\u5757\uFF0C\u5185\u7F6E\u6743\u9650\u7BA1\u7406\uFF0C\u9879\u76EE\u62A5\u8868\uFF0C\u9879\u76EE\u914D\u7F6E\uFF0C\u9700\u6C42\u4EFB\u52A1\u5173\u8054\u7B49\u529F\u80FD\uFF0C\u76EE\u524D\u4EC5\u652F\u6301saas\u90E8\u7F72\u3002\u6211\u4EEC\u7684\u8FFD\u6C42\uFF1A\u5C0F\u800C\u7CBE\uFF0C\u4E0D\u505A\u591A\u4F59\u529F\u80FD\u7684\u3002\u4F7F\u547D\uFF1A\u7528\u597D\u7CFB\u7EDF\uFF0C\u5C11\u7528\u7CFB\u7EDF\uFF0C\u4E0D\u7C98\u6EDE\u7528\u6237\u3002 "),e("br"),e("br"),H(" \u7CFB\u7EDF\u4F7F\u7528 Golang + Vue 3.x + bootstrap 5.x \u5F00\u53D1\uFF0C\u7531 Jimmy \u72EC\u81EA\u5F00\u53D1\uFF0C\u7528\u65F6\u8FD1\u4E24\u5E74\uFF0C\u4E3A\u8131\u4EA7\u671F\u95F4\u548C\u95F2\u6687\u65F6\u95F4\u5F00\u53D1\uFF0C\u6570\u636E\u5E93\u4F7F\u7528 Mysql 8.x\uFF0CRedis 5.x\u3002\u4F7F\u7528\u963F\u91CC\u4E91 docker-compose \u516C\u6709\u90E8\u7F72\u3002 "),e("br"),e("br"),H(" \u6B22\u8FCE\u4F60\u4EEC\u4F53\u9A8C\uFF0C\u60A8\u7684\u5B9D\u8D35\u610F\u89C1\u662F\u6211\u6210\u957F\u7684\u6307\u5357\u3002 ")],-1)),r_={class:"project-overview-time flex-row flex"},d_={style:{flex:"1"}},c_={style:{flex:"1"},class:"py-2"},p_=ie(()=>e("div",{class:"ms-1"},"\u5F00\u59CB\u65F6\u95F4",-1)),u_={class:"flex-row flex align-item-center w-50 pointer field-cell-time field-edit"},__={style:{flex:"1"},class:"py-2"},m_=ie(()=>e("div",{class:"ms-1"},"\u7ED3\u675F\u65F6\u95F4",-1)),f_={class:"flex-row flex align-item-center w-50 pointer field-cell-time field-edit"},h_={class:"project-overview-member"},x_=ie(()=>e("div",{class:"fs-c10"},"\u9879\u76EE\u6210\u5458\uFF1A",-1)),v_={class:"flex-row flex",style:{padding:"10px 0 0 0"}},g_=se('<div style="width:1.5rem;" data-v-0acdd0e8></div><div class="flex-column flex flex-fill w-50 jiBox p-4" data-v-0acdd0e8><div class="fs-c10" data-v-0acdd0e8>\u5DE5\u4F5C\u9879\u7C7B\u578B\u7EDF\u8BA1</div><div class="pt-3" style="height:420px;" data-v-0acdd0e8><canvas id="projectChart" data-v-0acdd0e8></canvas></div></div>',2),y_={setup(l){const{proxy:a}=I();T();let o=j(),t=Q(null),n=Q(null),i=S({team:o.params.team,project:o.params.project,projectName:"",item:{assign:{}},chartData:{labels:["\u9700\u6C42","\u4EFB\u52A1","\u7F3A\u9677"],datasets:[{label:"\u672A\u5F00\u59CB",barPercentage:.6,backgroundColor:"rgba(255, 99, 132, 0.5)"},{label:"\u8FDB\u884C\u4E2D",barPercentage:.6,backgroundColor:"rgba(54, 162, 235, 0.5)"},{label:"\u5DF2\u5B8C\u6210",barPercentage:.6,backgroundColor:"rgba(255, 206, 86, 0.5)"}]},members:[]}),r={type:"bar",data:null,options:{responsive:!0,maintainAspectRatio:!1,scales:{x:{stacked:!0},y:{beginAtZero:!0,stacked:!0}}}},p=null;C(()=>{_(),m(),c(),p=new Chart(document.getElementById("projectChart"),r)});let c=()=>{a.post(a.urls.project_members.format(i.team,i.project)).then(function(g){i.members=g.data})},_=()=>{let g=a.urls.project_get.format(i.team,i.project);a.get(g).then(function(y){i.item=y.data})},m=()=>{let g=a.urls.status_data_list.format(i.team,i.project);a.get(g).then(function(y){i.chartData.labels=y.data.labels,i.chartData.datasets[0].data=y.data.datas[0],i.chartData.datasets[1].data=y.data.datas[1],i.chartData.datasets[2].data=y.data.datas[2],p.data=i.chartData,p.update()})},f=X(()=>!i.item.to_do_count||i.item.to_do_count+i.item.in_progress_count+i.item.done_count===0?0:(i.item.done_count*100/(i.item.to_do_count+i.item.in_progress_count+i.item.done_count)).toFixed(0)),h=()=>{if(t.value){let g={plan_start_time:t.value.getTime()};a.post(a.urls.project_plan_update.format(i.team,i.project),g).then(function(y){y.data.code===200&&(a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),_())}).catch(function(y){a.bus.emit("alertDanger",y.response.data.errcode)})}},v=()=>{if(n.value){let g={plan_end_time:n.value.getTime()};a.post(a.urls.project_plan_update.format(i.team,i.project),g).then(function(y){y.data.code===200&&(a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),_())}).catch(function(y){a.bus.emit("alertDanger",y.response.data.errcode)})}};return J(()=>i.item,()=>{if(i.item.plan_start_time){let g=new Date(i.item.plan_start_time);t.value=g}if(i.item.plan_end_time){let g=new Date(i.item.plan_end_time);n.value=g}}),(g,y)=>(d(),u("div",D2,[e("div",B2,[e("div",P2,[V2,e("div",H2,[e("div",{class:"progress-bar progress-bar-striped bg-warning fs-c9",role:"progressbar",style:$e("width:"+s(f)+"%"),"aria-valuemax":"100"},b(s(f))+"%",5)]),e("div",U2,[x(I2,{name:s(i).item.status_uuid,style:{"margin-left":"5px"},color:s(i).item.status_uuid,team:s(i).team,project:s(i).project,onLoadProject:s(_)},null,8,["name","color","team","project","onLoadProject"])])])]),e("div",q2,[e("div",N2,[e("div",F2,[E2,e("div",A2,[e("div",R2,b(s(i).item.to_do_count),1),O2])])]),e("div",G2,[e("div",W2,[K2,e("div",J2,[e("div",Y2,b(s(i).item.in_progress_count),1),Q2])])]),e("div",Z2,[e("div",X2,[e_,e("div",t_,[e("div",s_,b(s(i).item.done_count),1),a_])])])]),e("div",l_,[e("div",o_,[i_,n_,e("div",r_,[e("div",d_,[x(x2,{user:s(i).item.assign,onLoadProject:s(_)},null,8,["user","onLoadProject"])]),e("div",c_,[p_,e("div",u_,[x(s(Ae),{modelValue:s(t),"onUpdate:modelValue":[y[0]||(y[0]=$=>oe(t)?t.value=$:t=$),s(h)],clearable:!1},null,8,["modelValue","onUpdate:modelValue"])])]),e("div",__,[m_,e("div",f_,[x(s(Ae),{modelValue:s(n),"onUpdate:modelValue":[y[1]||(y[1]=$=>oe(n)?n.value=$:n=$),s(v)],clearable:!1},null,8,["modelValue","onUpdate:modelValue"])])])]),e("div",h_,[x_,e("div",v_,[(d(!0),u(w,null,M(s(i).members,$=>(d(),E(L2,{pic:$.avatar,key:$.uuid},null,8,["pic"]))),128))])])]),g_])]))}};var b_=B(y_,[["__scopeId","data-v-0acdd0e8"]]);const he=l=>(N("data-v-6f734652"),l=l(),F(),l),$_=he(()=>e("div",{class:"com-line-header t-line"},[e("div",{class:"com-line-header-title"},"\u5BFC\u822A\u81EA\u5B9A\u4E49")],-1)),w_={class:"flex-row flex com",style:{"margin-top":"30px","background-color":"#f8f8f8",padding:"11px 11px 1px 11px","flex-wrap":"wrap"}},k_=["onClick"],j_=he(()=>e("div",{style:{flex:"0 0 auto",display:"flex"}},[e("svg",{t:"1602764784806",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"50821",width:"15",height:"15"},[e("path",{d:"M329.1136 793.6c63.488 0 115.2 51.712 115.2 115.2S392.6016 1024 329.1136 1024 214.016 972.288 214.016 908.8 265.6256 793.6 329.1136 793.6z m349.2864 0c63.488 0 115.2 51.712 115.2 115.2S741.888 1024 678.4 1024 563.2 972.288 563.2 908.8 614.912 793.6 678.4 793.6z m-349.184-396.8c63.488 0 115.0976 51.712 115.0976 115.2s-51.712 115.2-115.2 115.2S214.016 575.488 214.016 512s51.712-115.2 115.2-115.2z m349.184 0c63.488 0 115.2 51.712 115.2 115.2s-51.712 115.2-115.2 115.2S563.2 575.488 563.2 512s51.712-115.2 115.2-115.2zM329.216 0c63.488 0 115.0976 51.712 115.0976 115.2S392.6016 230.4 329.1136 230.4 214.016 178.688 214.016 115.2 265.6256 0 329.1136 0z m349.184 0c63.488 0 115.2 51.712 115.2 115.2S741.888 230.4 678.4 230.4 563.2 178.688 563.2 115.2 614.912 0 678.4 0z",fill:"#8a8a8a","p-id":"50822"})])],-1)),S_={class:"com-name"},C_=he(()=>e("div",{class:"com-line-header t-line"},[e("div",{class:"com-line-header-title"},"\u7EC4\u4EF6\u8BE6\u60C5")],-1)),I_={class:"tab-title flex-row flex mt-4 b-line"},z_=["onClick"],T_={class:"tab-content py-4"},M_={style:{width:"420px"}},L_={class:"flex-row flex align-items-center"},D_=he(()=>e("div",{style:{"text-align":"right",flex:"0 0 100px"}},[e("span",{style:{color:"#ff0000"}},"*"),H("\u7EC4\u4EF6\u663E\u793A\u540D\u79F0 ")],-1)),B_={style:{"margin-left":"10px",flex:"1"}},P_={class:"flex-row flex align-items-center",style:{"margin-top":"20px"}},V_=he(()=>e("div",{style:{"text-align":"right",flex:"0 0 100px"}}," \u7EC4\u4EF6\u540D\u79F0 ",-1)),H_={style:{"margin-left":"10px",flex:"1"}},U_={class:"flex-row flex align-items-center",style:{"margin-top":"20px"}},q_=he(()=>e("div",{style:{"text-align":"right",flex:"0 0 100px"}}," \u7EC4\u4EF6\u63CF\u8FF0 ",-1)),N_={style:{"margin-left":"10px",flex:"1",overflow:"hidden"}},F_={class:"flex-row flex align-items-center",style:{"margin-top":"20px"}},E_=he(()=>e("div",{style:{"text-align":"right",flex:"0 0 100px"}},null,-1)),A_={style:{"margin-left":"10px",flex:"1",overflow:"hidden"}},R_={style:{}},O_={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,project:o.params.project,tabTitle:["\u57FA\u7840\u8BBE\u7F6E"],cur:0,selectedComUUID:"",selectedComTempUUID:"",name:"",desc:"",items:[],disabled:!0});C(()=>{r(!0)});let n=c=>{t.selectedComUUID=c.uuid,t.selectedComTempUUID=c.template_uuid,t.name=c.name,t.desc=c.desc},i=()=>{t.disabled=!1},r=c=>{a.get(a.urls.components.format(t.team,t.project)).then(function(_){t.items=_.data,c&&t.items&&t.items.length>0&&n(t.items[0])})},p=()=>{a.post(a.urls.component_update.format(t.team,t.project,t.selectedComUUID),{name:t.name,desc:t.desc}).then(function(c){c.data.code===200&&(t.disabled=!0,r(),a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a.bus.emit("updateComponents"))}).catch(function(c){a.bus.emit("alertDanger",c.response.data.errcode)})};return(c,_)=>(d(),u(w,null,[x(ee,{title:"\u7EC4\u5EFA\u914D\u7F6E",desc:"\u4F60\u53EF\u4EE5\u901A\u8FC7\u62D6\u653E\u7EC4\u4EF6\u5E93\u4E2D\u7684\u7EC4\u4EF6\u6765\u81EA\u5B9A\u4E49\u754C\u9762\u7684\u5BFC\u822A\u680F\u3002\u4F60\u4E5F\u53EF\u4EE5\u8BBE\u7F6E\u6BCF\u4E00\u4E2A\u7EC4\u4EF6\uFF0C\u4F7F\u5176\u62E5\u6709\u4E2A\u6027\u5316\u7684\u914D\u7F6E\u3002"}),$_,e("div",w_,[(d(!0),u(w,null,M(s(t).items,m=>(d(),u("div",{style:{width:"115px"},class:V(["com-box-border align-items-center flex-row flex",{active:s(t).selectedComUUID===m.uuid}]),key:m.uuid,onClick:f=>{s(n)(m)}},[j_,e("div",S_,b(m.name),1)],10,k_))),128))]),C_,e("div",I_,[(d(!0),u(w,null,M(s(t).tabTitle,(m,f)=>(d(),u("div",{onClick:h=>s(t).cur=f,class:V({active:s(t).cur===f}),key:f},b(m),11,z_))),128))]),e("div",T_,[U(e("div",M_,[e("div",L_,[D_,e("div",B_,[U(e("input",{class:"form-control","onUpdate:modelValue":_[0]||(_[0]=m=>s(t).name=m),onChange:_[1]||(_[1]=(...m)=>s(i)&&s(i)(...m))},null,544),[[O,s(t).name]])])]),e("div",P_,[V_,e("div",H_,b(c.filters.formatComponentTemplate(s(t).selectedComTempUUID)),1)]),e("div",U_,[q_,e("div",N_,[U(e("textarea",{"onUpdate:modelValue":_[2]||(_[2]=m=>s(t).desc=m),rows:"3","max-rows":"3",style:{overflow:"hidden"},class:"form-control",onChange:_[3]||(_[3]=(...m)=>s(i)&&s(i)(...m))},null,544),[[O,s(t).desc]])])]),e("div",F_,[E_,e("div",A_,[x(ae,{disabled:s(t).disabled,title:"\u66F4\u65B0\u4FE1\u606F",onSubmit:s(p)},null,8,["disabled","onSubmit"])])])],512),[[Re,s(t).cur===0]]),U(e("div",R_,"\xA0",512),[[Re,s(t).cur===1]])])],64))}};var G_=B(O_,[["__scopeId","data-v-6f734652"]]);const W_={class:"align-items-center py-2"},K_={key:0,style:{color:"#1677FF"}},J_=e("i",{class:"bi bi-briefcase-fill fs-c12"},null,-1),Y_=[J_],Q_={key:1,style:{color:"#F7B621"}},Z_=e("i",{class:"bi bi-bug-fill fs-c12"},null,-1),X_=[Z_],em={key:2,style:{color:"#3FD698"}},tm=e("i",{class:"bi bi-receipt fs-c12"},null,-1),sm=[tm],am={key:3,style:{color:"#DAA520"}},lm=e("i",{class:"bi bi-flower2 fs-c12"},null,-1),om=[lm],im={key:4,style:{color:"#556B2F"}},nm=e("i",{class:"bi bi-flower1 fs-c12"},null,-1),rm=[nm],dm={key:5,style:{color:"#BC8F8F"}},cm=e("i",{class:"bi bi-globe fs-c12"},null,-1),pm=[cm],um={key:6,style:{color:"#8B0000"}},_m=e("i",{class:"bi bi-bell fs-c12"},null,-1),mm=[_m],St={props:["to","name","icon","scale"],setup(l){return(a,o)=>(d(),u("div",W_,[l.icon==="1"?(d(),u("div",K_,Y_)):z("",!0),l.icon==="2"?(d(),u("div",Q_,X_)):z("",!0),l.icon==="7"?(d(),u("div",em,sm)):z("",!0),l.icon==="9"?(d(),u("div",am,om)):z("",!0),l.icon==="10"?(d(),u("div",im,rm)):z("",!0),l.icon==="13"?(d(),u("div",dm,pm)):z("",!0),l.icon==="15"?(d(),u("div",um,mm)):z("",!0)]))}};const Se=l=>(N("data-v-6a95b7a2"),l=l(),F(),l),fm={class:"px-4 pb-4"},hm={class:"flex-row flex mt-3"},xm={style:{flex:"1"}},vm={class:"t-line l-line r-line mt-3"},gm={class:"flex-row flex align-items-center ms-3"},ym={class:"flex-column flex ms-3"},bm={style:{color:"#999999"}},$m=Se(()=>e("span",{style:{margin:"0 10px",color:"#999999"}}," | ",-1)),wm={class:"flex-row flex flex-fill align-items-center justify-content-end"},km={class:"flex-row flex task-attr align-items-center",style:{"margin-right":"20px"}},jm=Se(()=>e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1602939503677",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"59063",width:"16",height:"16"},[e("path",{d:"M510.81 959L31.93 754.63C12.77 741.86 0 722.7 12.77 703.55 19.15 684.4 44.7 678 63.85 684.4l453.34 191.54L970.52 684.4c19.16-6.39 44.7 0 51.09 19.15s0 44.7-19.16 51.08z m0 0","p-id":"59064",fill:"#515151"}),e("path",{d:"M510.81 729.09L31.93 524.77C12.77 518.38 0 492.84 12.77 473.69c6.38-19.16 25.54-25.54 44.69-19.16l453.35 191.56 453.33-191.56c19.16-6.38 44.7 0 51.08 19.16s0 44.69-19.15 51.08z m0 0","p-id":"59065",fill:"#515151"}),e("path",{d:"M510.81 499.23L0 282.14 510.81 65.05l510.8 217.09z m0 0","p-id":"59066",fill:"#515151"})])],-1)),Sm={style:{flex:"0 0 auto","margin-left":"5px"}},Cm=H("\u5DE5\u4F5C\u9879\u5C5E\u6027"),Im={class:"flex-row flex task-attr align-items-center",style:{"margin-right":"20px"}},zm=Se(()=>e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1602939398177",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"55763",width:"16",height:"16"},[e("path",{d:"M908.864 128h-9.6C765.888 128 644.096 85.888 592.64 13.312 586.304 6.912 572.864 0 554.56 0h-21.12c-19.072 0-36.352 6.08-41.408 17.28C442.688 86.976 323.648 128 188.736 128h-9.6C150.912 128 128 158.976 128 187.392l0.064 351.552c14.08 234.816 181.888 433.792 408.064 483.904a31.808 31.808 0 0 0 13.824 0c222.656-49.28 388.672-242.752 407.296-472.768A33.152 33.152 0 0 0 960 537.024V187.392C960 158.08 937.984 128 908.864 128zM896 526.016a31.04 31.04 0 0 0-1.856 9.088c-12.224 204.032-156.16 377.28-351.104 423.68C348.096 912.32 204.16 739.2 192 537.024V199.936C342.208 199.168 472.704 148.992 539.328 64h8.576C609.984 146.176 745.216 199.168 896 199.936v326.08z","p-id":"55764",fill:"#515151"}),e("path",{d:"M416 352c0 59.456 40.96 109.12 96 123.456V832a32 32 0 0 0 64 0v-64h64a32 32 0 0 0 0-64h-64v-64h64a32 32 0 0 0 0-64h-64V475.456c55.04-14.336 96-64 96-123.456 0-70.592-57.408-128-128-128s-128 57.408-128 128z m192 0a64 64 0 1 1-128 0 64 64 0 0 1 128 0z","p-id":"55765",fill:"#515151"})])],-1)),Tm={style:{flex:"0 0 auto","margin-left":"5px"}},Mm=H("\u5DE5\u4F5C\u9879\u6743\u9650"),Lm={class:"flex-row flex task-attr align-items-center",style:{"margin-right":"20px"}},Dm=Se(()=>e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1603325433305",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"10548",width:"16",height:"16"},[e("path",{d:"M426.496 170.496h427.008v256H768V256H426.496v170.496H0V0h426.496zM597.504 597.504V768H256v-170.496H170.496v256h426.496V1024H1024v-426.496h-426.496z m340.992 340.992h-256v-256h256v256z","p-id":"10549"})])],-1)),Bm={style:{flex:"0 0 auto","margin-left":"5px"}},Pm=H("\u5DE5\u4F5C\u9879\u5DE5\u4F5C\u6D41"),Vm=Se(()=>e("div",{class:"flex-row flex task-attr align-items-center",style:{"margin-right":"20px"}},[e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1603325268548",class:"icon",viewBox:"0 0 1059 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6696",width:"16",height:"16"},[e("path",{d:"M826.512515 882.978679a64.292434 64.292434 0 0 1-64.511862 63.92672H297.105649a64.365576 64.365576 0 0 1-64.511862-63.92672V204.068134h593.918728v678.837403zM361.617511 89.38038a13.019401 13.019401 0 0 1 13.238829-13.165686h310.41762a13.019401 13.019401 0 0 1 13.238829 13.165686v38.546203H361.617511v-38.546203z m658.72316 38.546203H775.312624v-38.546203A90.038664 90.038664 0 0 0 685.200817 0H374.85634a90.038664 90.038664 0 0 0-90.18495 89.307237v38.546203H38.911917a38.546203 38.546203 0 1 0 0 77.092407h115.784894v677.95969A141.750553 141.750553 0 0 0 297.105649 1023.997806h465.114432a141.677411 141.677411 0 0 0 142.335695-141.019127V204.141277h115.858037a38.619346 38.619346 0 0 0 38.911917-38.473061 37.961062 37.961062 0 0 0-38.911917-37.741633z m-490.714377 703.41335a38.692489 38.692489 0 0 0 38.911916-38.546203v-409.599123a38.911917 38.911917 0 0 0-77.823833 0v409.599123a38.692489 38.692489 0 0 0 38.911917 38.47306z m-181.247612 0a38.692489 38.692489 0 0 0 38.911917-38.546203v-409.599123a38.911917 38.911917 0 0 0-77.823834 0v409.599123a39.716486 39.716486 0 0 0 38.911917 38.47306z m362.495223 0a38.619346 38.619346 0 0 0 38.911917-38.546203v-409.599123a38.911917 38.911917 0 0 0-77.823833 0v409.599123a38.619346 38.619346 0 0 0 38.911916 38.47306z","p-id":"6697"})])]),e("div",{style:{flex:"0 0 auto","margin-left":"5px"}},"\u5220\u9664\u5DE5\u4F5C\u9879\u7C7B\u578B")],-1)),Hm={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,project:o.params.project,items:[]});C(()=>{n()});let n=()=>{a.get(a.urls.project_template.format(t.team,t.project)).then(function(i){t.items=i.data})};return(i,r)=>{const p=R("router-link");return d(),u(w,null,[x(ee,{title:"\u5DE5\u4F5C\u9879\u7C7B\u578B",desc:"\u5DE5\u4F5C\u9879\u7C7B\u578B\u7528\u4E8E\u5728\u540C\u4E00\u4E2A\u9879\u76EE\u4E0B\u4F7F\u7528\u4E0D\u540C\u7C7B\u578B\u7684\u5DE5\u4F5C\u9879\uFF0C\u4E0D\u540C\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u53EF\u4EE5\u5B9A\u4E49\u4E0D\u540C\u7684\u5C5E\u6027\u5B57\u6BB5\u3001\u6743\u9650\u548C\u5DE5\u4F5C\u6D41\u7B49\u3002\u9879\u76EE\u4E0B\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u914D\u7F6E\u7684\u4FEE\u6539\u4E0D\u4F1A\u540C\u6B65\u5230\u914D\u7F6E\u4E2D\u5FC3\u4E0B\u7684\u5DE5\u4F5C\u9879\u7C7B\u578B\u4E2D\u3002"}),e("div",fm,[e("div",hm,[e("div",xm,[x(Z,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u7C7B\u578B"})])]),e("div",vm,[(d(!0),u(w,null,M(s(t).items,c=>(d(),u("div",{class:"flex-row flex b-line py-2",key:c.uuid},[e("div",gm,[x(St,{icon:c.icon.toString()},null,8,["icon"]),e("div",ym,[e("div",null,b(c.name),1),e("div",bm,[H(b(c.field_count)+" \u5DE5\u4F5C\u9879\u5C5E\u6027",1),$m,H(b(c.status_count)+" \u5DE5\u4F5C\u9879\u72B6\u6001",1)])])]),e("div",wm,[e("div",km,[jm,e("div",Sm,[x(p,{to:{name:"ComponentIssueTypeDesigner",params:{team:s(t).team,project:s(t).project,com:"designer",attr:"issue_type_field",issue_type:c.uuid,title:c.name}}},{default:L(()=>[Cm]),_:2},1032,["to"])])]),e("div",Im,[zm,e("div",Tm,[x(p,{to:{name:"ComponentIssueTypeDesigner",params:{team:s(t).team,project:s(t).project,com:"designer",attr:"issue_type_permission",issue_type:c.uuid,title:c.name}}},{default:L(()=>[Mm]),_:2},1032,["to"])])]),e("div",Lm,[Dm,e("div",Bm,[x(p,{to:{name:"ComponentIssueTypeDesigner",params:{team:s(t).team,project:s(t).project,com:"designer",attr:"issue_type_flow",issue_type:c.uuid,title:c.name}}},{default:L(()=>[Pm]),_:2},1032,["to"])])]),Vm])]))),128))])])],64)}}};var Um=B(Hm,[["__scopeId","data-v-6a95b7a2"]]);const qm={class:"flex-row flex align-items-center b-line px-4 py-3"},Nm=e("div",{style:{flex:"1"}},[e("div",{class:"fs-c10"},"\u9879\u76EE\u4FE1\u606F"),e("div",{style:{color:"#999999"}},"\u5220\u9664\u9879\u76EE\u4E0B\u6240\u6709\u8D44\u6E90")],-1),Fm={style:{flex:"0 0 100px","text-align":"right"}},Em={setup(l){T();let a=j();S({team:a.params.team,project:a.params.project});let o=()=>{};return(t,n)=>(d(),u("div",qm,[Nm,e("div",Fm,[e("button",{class:"btn btn-danger",onClick:n[0]||(n[0]=(...i)=>s(o)&&s(o)(...i))},"\u5220\u9664\u9879\u76EE")])]))}},Am={class:"flex-row flex align-items-center"},Rm=["src"],Om={style:{"margin-left":"10px"}},Gm={style:{"text-align":"left",color:"#363636"}},Wm={props:{user:Object},setup(l){return(a,o)=>{var t,n;return d(),u("div",Am,[e("div",null,[e("img",{src:(t=l.user.avatar)!=null?t:"/images/default_avatar.jpg",style:{height:"20px",width:"20px","border-radius":"20px"}},null,8,Rm)]),e("div",Om,[e("div",Gm,b((n=l.user.name)!=null?n:"I am creator.")+" "+b(l.user.email?"("+l.user.email+")":""),1)])])}}},Km=e("div",{class:"px-4 py-3 b-line fs-c10"},"\u9879\u76EE\u4FE1\u606F",-1),Jm={class:"p-4"},Ym={style:{"margin-bottom":"20px"},class:"flex-row flex"},Qm=e("div",{style:{flex:"0 0 120px"}},[e("label",null,"\u521B\u5EFA\u8005")],-1),Zm={style:{flex:"0 0 300px"}},Xm=e("div",{style:{"margin-bottom":"20px"},class:"flex-row flex"},[e("div",{style:{flex:"0 0 120px"}},[e("label",null,"\u521B\u5EFA\u65F6\u95F4")]),e("div",{style:{flex:"0 0 300px"}}," 2019-01-01 12:12:12 ")],-1),e6={style:{"margin-bottom":"20px"},class:"flex-row flex"},t6=e("div",{style:{flex:"0 0 120px"}},[e("label",null,"\u9879\u76EE\u540D\u79F0")],-1),s6={style:{flex:"0 0 300px"}},a6={style:{"margin-bottom":"20px"},class:"flex-row flex"},l6=e("div",{style:{flex:"0 0 120px"}},[e("label")],-1),o6={style:{flex:"0 0 300px"}},i6={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,project:o.params.project,name:"",disabled:!0,creator:{}});C(()=>{r()});let n=()=>{t.disabled=!1},i=()=>{a.post(a.urls.project_update.format(t.team,t.project),{name:t.name,uuid:t.project}).then(function(p){p.data.code===200&&(t.disabled=!0,a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"),a.bus.emit("updateProjectInfo",t.project))}).catch(function(p){a.bus.$emit("alertDanger",p.response.data.errcode)})},r=()=>{a.get(a.urls.project_get.format(t.team,t.project)).then(function(p){t.name=p.data.name,p.data.owner&&(t.creator=p.data.owner)})};return(p,c)=>(d(),u(w,null,[Km,e("div",Jm,[e("div",Ym,[Qm,e("div",Zm,[x(Wm,{user:s(t).creator},null,8,["user"])])]),Xm,e("div",e6,[t6,e("div",s6,[U(e("input",{class:"form-control",onChange:c[0]||(c[0]=(..._)=>s(n)&&s(n)(..._)),onKeydown:c[1]||(c[1]=(..._)=>s(n)&&s(n)(..._)),"onUpdate:modelValue":c[2]||(c[2]=_=>s(t).name=_)},null,544),[[O,s(t).name]])])]),e("div",a6,[l6,e("div",o6,[x(ae,{disabled:s(t).disabled,title:"\u66F4\u65B0\u4FE1\u606F",onSubmit:s(i)},null,8,["disabled","onSubmit"])])])])],64))}},n6={class:"px-4 pb-4"},r6={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,project:o.params.project,maps:{browse:{code:1102,permission:"browse_project",title:"\u67E5\u770B\u9879\u76EE",desc:"\u5141\u8BB8\u6210\u5458\u6D4F\u89C8\u5F53\u524D\u9879\u76EE\uFF0C\u5305\u62EC\u5DE5\u4F5C\u9879\uFF0C\u7B5B\u9009\u5668\uFF0C\u62A5\u8868\u7B49\u4FE1\u606F",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},manage:{code:1101,permission:"manage_project",title:"\u7BA1\u7406\u9879\u76EE",desc:"\u7BA1\u7406\u5F53\u524D\u9879\u76EE\u5E76\u66F4\u65B0\u9879\u76EE\u7684\u914D\u7F6E\u4FE1\u606F",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},reports:{code:1104,permission:"view_project_reports",title:"\u67E5\u770B\u9879\u76EE\u62A5\u8868",desc:"\u5141\u8BB8\u6210\u5458\u67E5\u770B\u5F53\u524D\u9879\u76EE\u7684\u6570\u636E\u62A5\u8868",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]}},role_members:[],loaded:!1,data:{permission_rule:{context_type:"project",context_param:{}}}});C(()=>{n(),t.data={permission_rule:{context_type:"project",context_param:{project_uuid:t.project}}}});let n=()=>{let r=[];for(let p in t.maps)r.push(t.maps[p].code);a.post(a.urls.project_user_domain_group.format(t.team,t.project),r).then(function(p){for(let c in t.maps){let _=t.maps[c];_.groups=[]}if(p.data&&p.data.length>0)for(let c in t.maps){let _=t.maps[c];for(let m=0;m<p.data.length;m++){let f=p.data[m];if(f.permission===_.code){_.groups=f.groups;break}}}i()})},i=()=>{a.get(a.urls.project_role_members.format(t.team,t.project)).then(function(r){if(r.data&&r.data.role_members&&r.data.role_members.length>0)for(let p=0;p<r.data.role_members.length;p++){let c=r.data.role_members[p];for(let _ in t.maps){let m=t.maps[_];m.roles=[],m.members=[],c.role.type="role",m.roles.push(c.role);for(let f=0;f<c.members.length;f++){let h=c.members[f];h.type="single_user",m.members.push(h)}}}t.loaded=!0})};return(r,p)=>(d(),u(w,null,[x(ee,{title:"\u9879\u76EE\u6743\u9650",desc:"\u9879\u76EE\u6743\u9650\u53EF\u4EE5\u7528\u4E8E\u5B9A\u5236\u9879\u76EE\u7684\u64CD\u4F5C\u6743\u9650\u63A7\u5236\u3002"}),e("div",n6,[s(t).loaded?(d(),E(le,{key:0,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.browse,onLoadPermissionData:s(n)},null,8,["role_members","data","group","onLoadPermissionData"])):z("",!0),s(t).loaded?(d(),E(le,{key:1,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.manage,onLoadPermissionData:s(n)},null,8,["role_members","data","group","onLoadPermissionData"])):z("",!0),s(t).loaded?(d(),E(le,{key:2,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.reports,onLoadPermissionData:s(n)},null,8,["role_members","data","group","onLoadPermissionData"])):z("",!0)])],64))}},d6={class:"px-4"},c6={class:"table table-hover"},p6=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-6"},"\u5C5E\u6027\u540D\u79F0"),e("th",{scope:"col",class:"col-5"},"\u5C5E\u6027\u7C7B\u578B"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),u6={class:"flex-row flex align-items-center"},_6={style:{flex:"0 0 auto"}},m6={class:"flex-row flex align-items-center",style:{height:"100%","margin-left":"5px"}},f6={key:0,style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px","align-items":"center",display:"flex"}},h6={key:0,style:{width:"30px",height:"2px"}},x6=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),v6=[x6],g6={key:1},y6={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,project:o.params.project,items:[],desc:"\u9879\u76EE\u5C5E\u6027\u8BBE\u7F6E\u53EF\u4EE5\u8BBE\u7F6E\u9879\u76EE\u6982\u89C8\u9875\u9762\u9700\u8981\u663E\u793A\u7684\u9879\u76EE\u81EA\u5B9A\u4E49\u5C5E\u6027\u3002"});C(()=>{n(!0)});let n=()=>{a.post(a.urls.project_field.format(t.team),{project:t.project}).then(function(i){t.items=i.data})};return(i,r)=>(d(),u(w,null,[x(ee,{title:"\u9879\u76EE\u5C5E\u6027",desc:s(t).desc},null,8,["desc"]),x(Z,{style:{margin:"15px 20px"},placeholder:"\u641C\u7D22\u9879\u76EE\u5C5E\u6027"}),e("div",d6,[e("table",c6,[p6,e("tbody",null,[(d(!0),u(w,null,M(s(t).items,p=>(d(),u("tr",{key:p.uuid},[e("td",null,[e("div",u6,[e("div",_6,b(p.name),1),e("div",m6,[p.built_in?(d(),u("div",f6,"\u7CFB\u7EDF")):z("",!0)])])]),e("td",null,b(i.filters.projectFieldType(p.field_type)),1),e("td",null,[p.built_in?(d(),u("div",h6,v6)):(d(),u("div",g6," x "))])]))),128))])])])],64))}},b6={class:"px-4"},$6={class:"table table-hover"},w6=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-6"},"\u72B6\u6001\u540D\u79F0"),e("th",{scope:"col",class:"col-5"},"\u72B6\u6001\u7C7B\u578B"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),k6={class:"flex-row flex align-items-center"},j6={style:{flex:"0 0 auto"}},S6=e("div",{style:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},[e("div",{style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},"\u7CFB\u7EDF")],-1),C6={class:"td",style:{display:"flex","align-items":"center"}},I6=e("td",null,[e("div",{style:{width:"30px",height:"2px"}},[e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])],-1),z6={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,project:o.params.project,items:[],desc:"\u9879\u76EE\u72B6\u6001\u7528\u4E8E\u5B9A\u5236\u9879\u76EE\u6240\u5904\u7684\u4E0D\u540C\u72B6\u6001\uFF0C\u652F\u6301\u4E0D\u540C\u72B6\u6001\u95F4\u7684\u5207\u6362\u3002"});C(()=>{n(!0)});let n=()=>{a.post(a.urls.project_status.format(t.team)).then(function(i){t.items=i.data})};return(i,r)=>(d(),u(w,null,[x(ee,{title:"\u9879\u76EE\u72B6\u6001",desc:s(t).desc},null,8,["desc"]),x(Z,{style:{margin:"15px 20px"},placeholder:"\u641C\u7D22\u9879\u76EE\u72B6\u6001"}),e("div",b6,[e("table",$6,[w6,e("tbody",null,[(d(!0),u(w,null,M(s(t).items,p=>(d(),u("tr",{key:p.uuid},[e("td",null,[e("div",k6,[e("div",j6,b(p.name),1),S6])]),e("td",null,[e("div",C6,[x(me,{name:p.name,color:p.uuid},null,8,["name","color"])])]),I6]))),128))])])])],64))}},T6={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},M6={style:{flex:"0 0 auto",display:"flex"}},L6=e("span",null,"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1),D6=e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),B6={style:{color:"#909090"}},P6=e("div",{style:{margin:"0 10px"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),V6=e("div",{class:"flex-fill"},[e("span",{style:{color:"#909090"}},"\u5DE5\u4F5C\u9879\u5C5E\u6027")],-1),H6={class:"flex-row flex align-items-center justify-content-end;"},U6={class:"px-4"},q6={class:"flex-row flex mt-3"},N6={style:{flex:"1"}},F6={class:"t-line l-line r-line mt-3"},E6={class:"table table-hover"},A6=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u5C5E\u6027\u540D\u79F0"),e("th",{scope:"col"},"\u5C5E\u6027\u7C7B\u578B"),e("th",{scope:"col"},"\u5C5E\u6027\u9ED8\u8BA4\u503C"),e("th",{scope:"col"},"\u662F\u5426\u5FC5\u586B"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),R6={class:"flex-row flex align-items-center"},O6={style:{flex:"0 0 auto"}},G6={style:{flex:"0 0 auto","margin-left":"5px"}},W6={key:0,class:"flex align-items-center",style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"21px"}},K6={key:0,style:{width:"30px","font-weight":"bolder"},class:"flex align-items-center justify-content-center"},J6=["onUpdate:modelValue","onChange"],Y6={key:1,style:{width:"30px",height:"2px"}},Q6=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),Z6=[Q6],X6={class:"align-items-center",style:{display:"flex",flex:"0 0 80px"}},e4={key:0,style:{"font-weight":"bolder","text-align":"center",width:"30px"},class:"del"},t4=e("svg",{t:"1619925824323",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"24636",width:"12",height:"12"},[e("path",{d:"M647.168 512L1024 888.832 888.832 1024 512 647.168 135.168 1024 0 888.832 376.832 512 0 135.168 135.168 0 512 376.832 888.832 0 1024 135.168 647.168 512z","p-id":"24637",fill:"#2c2c2c"})],-1),s4=[t4],a4={key:1,style:{width:"30px",height:"2px"}},l4=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),o4=[l4],i4={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,project:o.params.project,desc:"\u5DE5\u4F5C\u9879\u5C5E\u6027\u7528\u4E8E\u914D\u7F6E\u5DE5\u4F5C\u9879\u9700\u8981\u7684\u663E\u793A\u5B57\u6BB5\uFF0C\u53EF\u4EE5\u7528\u591A\u79CD\u5C5E\u6027\u7C7B\u578B\u6765\u8FDB\u884C\u914D\u7F6E\uFF0C\u4E0D\u540C\u9879\u76EE\u53EF\u4EE5\u5171\u7528\u540C\u4E00\u4E2A\u5C5E\u6027\u3002",issue_type:o.params.issue_type,title:o.params.title,name:"",items:[]});C(()=>{n(),i()});let n=()=>{a.get(a.urls.project_issue_type_field.format(t.team,t.project,t.issue_type)).then(function(p){t.items=p.data.field_configs})},i=()=>{t.title||a.get(a.urls.issue_type_get.format(t.team,t.issue_type)).then(function(p){t.title=p.data.name})},r=p=>{console.log(p.uuid,p.fixed)};return(p,c)=>{const _=R("router-link");return d(),u(w,null,[e("div",T6,[e("div",M6,[x(_,{to:{name:"ComponentDesigner",params:{team:s(t).team,project:s(t).project,com:"designer",attr:"issue_type"}}},{default:L(()=>[L6]),_:1},8,["to"])]),D6,e("div",B6,b(s(t).title),1),P6,V6,e("div",H6,[x(fe,{desc:s(t).desc},null,8,["desc"])])]),e("div",U6,[e("div",q6,[e("div",N6,[x(Z,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u5C5E\u6027"})])]),e("div",F6,[e("table",E6,[A6,e("tbody",null,[(d(!0),u(w,null,M(s(t).items,m=>(d(),u("tr",{key:m.uuid},[e("td",null,[e("div",R6,[e("div",O6,b(m.name),1),e("div",G6,[m.built_in?(d(),u("div",W6,"\u7CFB\u7EDF")):z("",!0)])])]),e("td",null,b(p.filters.taskFieldType(m.type)),1),e("td",null,b(m.default_value||"---"),1),e("td",null,[m.can_modify_required?(d(),u("div",K6,[U(e("input",{type:"checkbox",class:"form-check-input","onUpdate:modelValue":f=>m.required=f,name:"check-button",onChange:f=>s(r)(m)},null,40,J6),[[ve,m.required]])])):(d(),u("div",Y6,Z6))]),e("td",null,[e("div",X6,[m.can_delete?(d(),u("div",e4,s4)):(d(),u("div",a4,o4))])])]))),128))])])])])],64)}}},n4={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},r4={style:{flex:"0 0 auto",display:"flex"}},d4=e("span",null,"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1),c4=e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),p4={style:{color:"#909090"}},u4=e("div",{style:{margin:"0 10px"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),_4=e("div",{class:"flex-fill"},[e("span",{style:{color:"#909090"}},"\u5DE5\u4F5C\u9879\u6743\u9650")],-1),m4={class:"flex-row flex align-items-center justify-content-end;"},f4={key:0,class:"px-4 pb-4"},h4={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,project:o.params.project,title:o.params.title,issue_type:o.params.issue_type,maps:{create:{code:1201,permission:"create_tasks",title:"\u521B\u5EFA#",desc:"\u5141\u8BB8\u6210\u5458\u521B\u5EFA#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},view:{code:1202,permission:"view_tasks",title:"\u67E5\u770B#",desc:"\u5141\u8BB8\u6210\u5458\u67E5\u770B#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},update:{code:1203,permission:"update_tasks",title:"\u7F16\u8F91#",desc:"\u5141\u8BB8\u6210\u5458\u4FEE\u6539#\uFF0C\u4EE5\u53CA\u5BF9#\u8FDB\u884C\u5176\u4ED6\u53D8\u66F4\u64CD\u4F5C",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},delete:{code:1204,permission:"delete_tasks",title:"\u5220\u9664#",desc:"\u5141\u8BB8\u6210\u5458\u5220\u9664#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},transit:{code:1206,permission:"transit_tasks",title:"\u66F4\u65B0#\u72B6\u6001",desc:"\u5141\u8BB8\u6210\u5458\u66F4\u65B0#\u72B6\u6001",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]}},loaded:!1,data:{},desc:"\u5DE5\u4F5C\u9879\u6743\u9650\u53EF\u4EE5\u7528\u4E8E\u5B9A\u5236\u5DE5\u4F5C\u9879\u7684\u64CD\u4F5C\u6743\u9650\u63A7\u5236\u3002"});C(()=>{n(),t.data={permission_rule:{context_type:"issue_type",context_param:{project_uuid:t.project,issue_type_uuid:t.issue_type}}}});let n=()=>{t.title?i():a.get(a.urls.issue_type_get.format(t.team,t.issue_type)).then(function(p){t.title=p.data.name,i()})},i=()=>{let p=[];for(let c in t.maps)p.push(t.maps[c].code);a.post(a.urls.issue_type_user_domain_group.format(t.team,t.project,t.issue_type),p).then(function(c){for(let _ in t.maps){let m=t.maps[_];m.title=m.title.replace("#",t.title),m.desc=m.desc.replace("#",t.title),m.groups=[]}if(c.data&&c.data.length>0)for(let _ in t.maps){let m=t.maps[_];for(let f=0;f<c.data.length;f++){let h=c.data[f];if(h.permission===m.code){m.groups=h.groups;break}}}r()})},r=()=>{a.get(a.urls.project_role_members.format(t.team,t.project)).then(function(p){if(p.data&&p.data.role_members&&p.data.role_members.length>0)for(let c=0;c<p.data.role_members.length;c++){let _=p.data.role_members[c];for(let m in t.maps){let f=t.maps[m];f.roles=[],f.members=[],_.role.type="role",f.roles.push(_.role);for(let h=0;h<_.members.length;h++){let v=_.members[h];v.type="single_user",f.members.push(v)}}}t.loaded=!0})};return(p,c)=>{const _=R("router-link");return d(),u(w,null,[e("div",n4,[e("div",r4,[x(_,{to:{name:"ComponentDesigner",params:{team:s(t).team,project:s(t).project,com:"designer",attr:"issue_type"}}},{default:L(()=>[d4]),_:1},8,["to"])]),c4,e("div",p4,b(s(t).title),1),u4,_4,e("div",m4,[x(fe,{desc:s(t).desc},null,8,["desc"])])]),s(t).loaded?(d(),u("div",f4,[(d(!0),u(w,null,M(s(t).maps,(m,f)=>(d(),E(le,{data:s(t).data,group:m,key:f,onLoadPermissionData:s(i)},null,8,["data","group","onLoadPermissionData"]))),128))])):z("",!0)],64)}}};const x4={props:{name:String,color:String},setup(l){const a=l;let o=X(()=>{let t=a.color;switch(a.color){case"1":t="to_do";break;case"2":t="in_progress";break;case"3":t="done";break}return t});return(t,n)=>(d(),u("div",{class:V(s(o))},b(l.name),3))}};var Ue=B(x4,[["__scopeId","data-v-248e9274"]]);const Ce=l=>(N("data-v-07a374d6"),l=l(),F(),l),v4={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},g4={style:{flex:"0 0 auto",display:"flex"}},y4=Ce(()=>e("span",null,"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1)),b4=Ce(()=>e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1)),$4={style:{color:"#909090"}},w4=Ce(()=>e("div",{style:{margin:"0 10px"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1)),k4=Ce(()=>e("div",{class:"flex-fill"},[e("span",{style:{color:"#909090"}},"\u5DE5\u4F5C\u9879\u5DE5\u4F5C\u6D41")],-1)),j4={class:"flex-row flex align-items-center justify-content-end;"},S4={id:"project-main",style:{margin:"20px"}},C4={class:"flex-column flex workFlowTable",style:{"border-left":"1px solid #dedede","border-top":"1px solid #dedede"}},I4={style:{flex:"1"}},z4={class:"flex-row flex",style:{flex:"1","background-color":"#f8f8f8","border-bottom":"1px solid #dedede",height:"60px"}},T4=se('<div style="flex:0 0 auto;display:flex;width:200px;height:60px;position:relative;" data-v-07a374d6><div style="flex:0 0 auto;border-right:1px solid #dedede;position:absolute;height:60px;width:200px;" data-v-07a374d6><div style="" class="table-head-title" data-v-07a374d6><div data-v-07a374d6><div class="start-status-title" style="height:initial;" data-v-07a374d6>\u5F00\u59CB\u72B6\u6001</div></div><div data-v-07a374d6><div class="end-status-title" style="height:initial;" data-v-07a374d6>\u76EE\u6807\u72B6\u6001</div></div></div></div></div>',1),M4={style:{flex:"1"},class:"flex-column flex"},L4={style:{flex:"0 0 200px",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px",width:"200px"}},D4={class:"flex-row flex"},B4={style:{flex:"0 0 auto"}},P4={key:0,style:{"margin-left":"5px"}},V4=Ce(()=>e("div",{style:{"font-size":"12px",color:"#909090",display:"inline-block",height:"20px","line-height":"18px",border:"1px solid rgba(134,147,160,0.5)","border-radius":"20px",padding:"0px 8px"}},"\u521D\u59CB\u72B6\u6001",-1)),H4=[V4],U4=["onUpdate:modelValue","onChange"],q4={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,project:o.params.project,issue_type:o.params.issue_type,title:o.params.title,desc:"\u5DE5\u4F5C\u6D41\u53EF\u4EE5\u7528\u4E8E\u5B9A\u5236\u5BF9\u5E94\u5DE5\u4F5C\u9879\u7684\u5728\u4E0D\u540C\u72B6\u6001\u9636\u6BB5\u7684\u6D41\u8F6C\u3002\u4F60\u53EF\u4EE5\u5728\u8868\u683C\u89C6\u56FE\u4E2D\uFF0C\u901A\u8FC7\u52FE\u9009\u590D\u9009\u6846\u7684\u65B9\u5F0F\u65B0\u5EFA\u5DE5\u4F5C\u6D41\u6B65\u9AA4\u3002\u4F60\u4E5F\u53EF\u4EE5\u5207\u6362\u5230\u8BE6\u60C5\u89C6\u56FE\u4E2D\u65B0\u5EFA\u5DE5\u4F5C\u6D41\u6B65\u9AA4\u3002",flows:[],headers:[],lock:!0});C(()=>{i(),r()});let n=(p,c,_,m,f)=>{if(t.lock){t.lock=!1;let h={uuid:p,name:c,start_status:_,end_status:m,state:f};a.post(a.urls.project_issue_type_flow_submit.format(t.team,t.project,t.issue_type),h).then(function(){r(),t.lock=!0})}},i=()=>{t.title||a.get(a.urls.issue_type_get.format(t.team,t.issue_type)).then(function(p){t.title=p.data.name})},r=()=>{a.get(a.urls.project_issue_type_flow.format(t.team,t.project,t.issue_type)).then(function(p){t.headers=p.data.headers,t.flows=p.data.flows})};return(p,c)=>{const _=R("router-link");return d(),u(w,null,[e("div",v4,[e("div",g4,[x(_,{to:{name:"ComponentDesigner",params:{team:s(t).team,project:s(t).project,com:"designer",attr:"issue_type"}}},{default:L(()=>[y4]),_:1},8,["to"])]),b4,e("div",$4,b(s(t).title),1),w4,k4,e("div",j4,[x(fe,{desc:s(t).desc},null,8,["desc"])])]),e("div",S4,[e("div",C4,[e("div",I4,[e("div",z4,[T4,(d(!0),u(w,null,M(s(t).headers,m=>(d(),u("div",{class:"flex-row flex align-items-center justify-content-center",style:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede"},key:m.uuid},[e("div",null,[x(Ue,{color:m.category.toString(),name:m.name},null,8,["color","name"])])]))),128))])]),e("div",M4,[(d(!0),u(w,null,M(s(t).flows,m=>(d(),u("div",{class:"flex-row flex align-items-center",style:{flex:"1","border-bottom":"1px solid #dedede"},key:m.uuid},[e("div",L4,[e("div",D4,[e("div",B4,[x(Ue,{color:m.category.toString(),name:m.name},null,8,["color","name"])]),m.default?(d(),u("div",P4,H4)):z("",!0)])]),(d(!0),u(w,null,M(m.items,f=>(d(),u("div",{class:"align-items-center flex-row flex justify-content-center",style:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px"},key:f.uuid},[U(e("input",{style:{height:"16px",width:"16px"},type:"checkbox","onUpdate:modelValue":h=>f.sel=h,onChange:h=>s(n)(f.uuid,f.name,f.start_uuid,f.end_uuid,f.sel)},null,40,U4),[[ve,f.sel]])]))),128))]))),128))])])])],64)}}};var N4=B(q4,[["__scopeId","data-v-07a374d6"]]);const F4={setup(){T();let l=j(),a=S({team:l.params.team,project:l.params.project,currentTabComponent:"com",items:[]});C(()=>{a.currentTabComponent=o.value}),J(()=>l.params,t=>{a.currentTabComponent=o.value});let o=X(()=>{var t;return(t=l.params.attr)!=null?t:"com"});return{self:a}},components:{com:G_,issue_type:Um,more:Em,project_info:i6,project_permission:r6,project_field:y6,project_status:z6,issue_type_field:i4,issue_type_permission:h4,issue_type_flow:N4}},E4={class:"flex flex-column flex-fill jiBox",style:{"min-height":"100%"}};function A4(l,a,o,t,n,i){return d(),u("div",E4,[(d(),E(de(t.self.currentTabComponent)))])}var R4=B(F4,[["render",A4]]);const O4={setup(){const{proxy:l}=I();T();let a=j(),o=S({team:a.params.team,project:a.params.project,com:a.params.com,issue_type:"",comName:"",currentTabComponent:""});C(()=>{t()}),J(()=>a.params,n=>{o.com=a.params.com,o.com&&t()});let t=()=>{if(o.com==="designer"){o.currentTabComponent="designer";return}l.get(l.urls.component_get.format(o.team,o.project,o.com)).then(function(n){n.data.objects.length>0&&(o.issue_type=n.data.objects[0].uuid),o.comName=n.data.name,o.currentTabComponent=n.data.template_uuid})};return{self:o}},components:{com00001:ou,com00002:iu,com00003:xu,com00004:Zu,com00005:i2,com00009:b_,designer:R4}},G4={class:"flex-fill p-4 overflow-auto"};function W4(l,a,o,t,n,i){return d(),u("div",G4,[t.self.currentTabComponent?(d(),E(de(t.self.currentTabComponent),{key:0,comName:t.self.comName,issue_type:t.self.issue_type},null,8,["comName","issue_type"])):z("",!0)])}var qe=B(O4,[["render",W4]]);const st=l=>(N("data-v-f0c41ee4"),l=l(),F(),l),K4={id:"personal"},J4=st(()=>e("div",{style:{flex:"0",padding:"5px 0 5px 30px",width:"100%","font-size":"18px","margin-bottom":"20px"}},"\u8D26\u53F7\u7BA1\u7406",-1)),Y4=st(()=>e("div",{style:{flex:"0",padding:"5px 0 5px 30px",width:"100%",color:"#aaaaaa"}},"\u4E2A\u4EBA\u4FE1\u606F",-1)),Q4=H("\u8D26\u53F7\u4FE1\u606F"),Z4=H("\u5B89\u5168\u8BBE\u7F6E"),X4=st(()=>e("div",{style:{flex:"0",padding:"20px 0 5px 30px",width:"100%",color:"#aaaaaa"}},"\u9489\u9489\u8D26\u53F7",-1)),e3=H("\u767B\u9646\u51ED\u8BC1"),t3={setup(l){let a=Q(1),o=j();J(()=>o.params,n=>{t()}),C(()=>{t()});let t=()=>{switch(o.params.type){case"account":a.value=1;break;case"safe":a.value=2;break;case"certificate":a.value=11;break}};return(n,i)=>{const r=R("router-link");return d(),u("div",K4,[J4,Y4,e("div",{class:V({active:s(a)===1})},[x(r,{to:{name:"Center",params:{type:"account"}}},{default:L(()=>[Q4]),_:1})],2),e("div",{class:V({active:s(a)===2})},[x(r,{to:{name:"Center",params:{type:"safe"}}},{default:L(()=>[Z4]),_:1})],2),X4,e("div",{class:V({active:s(a)===11})},[x(r,{to:{name:"Center",params:{type:"certificate"}}},{default:L(()=>[e3]),_:1})],2)])}}};var s3=B(t3,[["__scopeId","data-v-f0c41ee4"]]);const Ne=l=>(N("data-v-f9ec3e12"),l=l(),F(),l),a3={class:"flex-fill p-4 jiBox"},l3={class:"form-body",style:{padding:"20px"}},o3={class:"pointer"},i3={class:"col-md-1"},n3={class:"avatar-upload pointer"},r3=["src"],d3=Ne(()=>e("input",{type:"file"},null,-1)),c3={class:"mt-4"},p3=Ne(()=>e("label",{class:"col-md-1 control-label"},"\u540D\u5B57",-1)),u3={class:"col-md-5"},_3={class:"mt-4"},m3=Ne(()=>e("label",{class:"col-md-1 control-label"},"\u90AE\u7BB1",-1)),f3={class:"col-md-5"},h3={class:"mt-4"},x3=Ne(()=>e("label",{class:"col-md-1 control-label"},"\u7535\u8BDD",-1)),v3={class:"col-md-5"},g3={class:"mt-4"},y3={class:"col-md-5"},b3={setup(l){const{proxy:a}=I();let o=S({}),t=S({avatar:"",name:"",email:"",phone:"",disabled:!1});C(()=>{i()});let n=()=>{let r={user_name:o.title,email:o.email,phone:o.phone};a.post(a.urls.user_update.format(ke()),r).then(function(p){p.data.code===200&&(t.disabled=!0)}).catch(function(p){a.bus.emit("alertDanger",p.response.data.errcode)})},i=()=>{let r=a.urls.user_get.format(ke());a.get(r).then(function(p){let{avatar:c,name:_,email:m,phone:f}=p.data;o.avatar=c,o.title=_,o.email=m,o.phone=f})};return(r,p)=>(d(),u("div",a3,[e("div",l3,[e("div",o3,[e("div",i3,[e("div",n3,[e("img",{src:s(o).avatar,style:{"max-height":"100px"}},null,8,r3),d3]),U(e("input",{type:"hidden","onUpdate:modelValue":p[0]||(p[0]=c=>s(o).avatar=c),name:"avatar",class:"form-control",placeholder:"\u5934\u50CF"},null,512),[[O,s(o).avatar]])])]),e("div",c3,[p3,e("div",u3,[U(e("input",{type:"text","onUpdate:modelValue":p[1]||(p[1]=c=>s(o).title=c),name:"name",class:"form-control",placeholder:"\u540D\u5B57"},null,512),[[O,s(o).title]])])]),e("div",_3,[m3,e("div",f3,[U(e("input",{type:"text","onUpdate:modelValue":p[2]||(p[2]=c=>s(o).email=c),name:"email",class:"form-control",placeholder:"\u90AE\u7BB1"},null,512),[[O,s(o).email]])])]),e("div",h3,[x3,e("div",v3,[U(e("input",{type:"text","onUpdate:modelValue":p[3]||(p[3]=c=>s(o).phone=c),name:"phone",class:"form-control",placeholder:"\u7535\u8BDD"},null,512),[[O,s(o).phone]])])]),e("div",g3,[e("div",y3,[x(ae,{title:"\u66F4\u65B0\u4FE1\u606F",onSubmit:s(n),disabled:s(t).disabled},null,8,["onSubmit","disabled"])])])])]))}};var $3=B(b3,[["__scopeId","data-v-f9ec3e12"]]);const w3={},k3={class:"flex-fill h-100 jiBox p-4 fs-c8"};function j3(l,a){return d(),u("div",k3," \u5F85\u5F00\u53D1\uFF0C\u656C\u8BF7\u5173\u6CE8\uFF01 ")}var S3=B(w3,[["render",j3]]);const C3={},I3={class:"flex-fill h-100 jiBox"},z3=e("div",{class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},[e("div",{style:{flex:"0 0 auto",display:"flex"}},[e("span",{class:"fs-c10"},"\u5B89\u5168\u8BBE\u7F6E")])],-1),T3=e("div",{class:"px-4"},[e("div",{class:"flex-row flex px-4 py-4 b-line align-items-center"},[e("div",{style:{flex:"0 0 auto"}},[e("div",{class:"flex-column flex flex-fill align-items-center justify-content-center"},[e("svg",{t:"1600093044171",class:"icon",viewBox:"0 0 1536 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2745",width:"48",height:"48"},[e("path",{d:"M1450.666667 0H85.333333a85.333333 85.333333 0 0 0-85.333333 85.333333v51.2l724.48 434.346667a85.333333 85.333333 0 0 0 85.333333 0L1536 136.533333V85.333333a85.333333 85.333333 0 0 0-85.333333-85.333333zM682.666667 715.093333L0 307.2V938.666667a85.333333 85.333333 0 0 0 85.333333 85.333333h1365.333334a85.333333 85.333333 0 0 0 85.333333-85.333333V307.2l-682.666667 407.893333a170.666667 170.666667 0 0 1-170.666666 0z",fill:"#FAB200","p-id":"2746"})])])]),e("div",{class:"ms-4 flex-fill"},[e("div",{class:"fs-c8"},"\u90AE\u7BB1\u786E\u8BA4(pinbor@iissy.com)"),e("div",{style:{color:"#aaaaaa"}},"\u8BF7\u6536\u5230\u90AE\u4EF6\u540E\uFF0C\u70B9\u51FB\u90AE\u7BB1\u91CC\u9762\u786E\u8BA4\u8FDE\u63A5")]),e("div",null,[e("i",{class:"bi bi-chevron-right fs-c10"})])]),e("div",{class:"flex-row flex px-4 py-4 b-line align-items-center"},[e("div",{style:{flex:"0 0 auto"}},[e("div",{class:"flex-column flex flex-fill align-items-center justify-content-center"},[e("svg",{t:"1600123151164",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5723",width:"48",height:"48"},[e("path",{d:"M654.990991 196.036036H371.315315c-25.945946 0-47.279279 21.333333-47.279279 47.279279s21.333333 47.279279 47.279279 47.27928h283.675676c25.945946 0 47.279279-21.333333 47.279279-47.27928s-21.333333-47.279279-47.279279-47.279279z m173.54955-189.693694H197.765766c-69.765766 0-126.27027 56.504505-126.270271 126.270271v757.045045c0 69.765766 56.504505 126.27027 126.270271 126.27027h630.774775c69.765766 0 126.27027-56.504505 126.27027-126.27027V132.612613c-0.576577-69.765766-56.504505-126.27027-126.27027-126.270271z m31.135135 851.603604c0 34.594595-28.252252 62.846847-62.846847 62.846847H229.477477c-34.594595 0-62.846847-28.252252-62.846846-62.846847V164.324324c0-34.594595 28.252252-62.846847 62.846846-62.846847h567.351352c34.594595 0 62.846847 28.252252 62.846847 62.846847v693.621622zM513.153153 731.675676c-34.594595 0-62.846847 28.252252-62.846847 62.846847S478.558559 857.369369 513.153153 857.369369s62.846847-28.252252 62.846847-62.846846S547.747748 731.675676 513.153153 731.675676z",fill:"#2185F5","p-id":"5724"})])])]),e("div",{class:"ms-4 flex-fill"},[e("div",{class:"fs-c8"},"\u624B\u673A\u786E\u8BA4"),e("div",{style:{color:"#aaaaaa"}},"\u901A\u8FC7\u624B\u673A\u8BA4\u8BC1\u7801\u786E\u8BA4\u624B\u673A\u53F7\u7801")]),e("div",null,[e("i",{class:"bi bi-chevron-right fs-c10"})])]),e("div",{class:"flex-row flex px-4 py-4 b-line align-items-center"},[e("div",{style:{flex:"0 0 auto"}},[e("div",{class:"flex-column flex flex-fill align-items-center justify-content-center"},[e("svg",{t:"1600123506120",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6528",width:"48",height:"48"},[e("path",{d:"M893.632 382.976h-127.616V255.36a255.36 255.36 0 1 0-510.72 0v127.68H127.68A127.552 127.552 0 0 0 0 510.656v382.976c0 70.528 57.152 127.68 127.68 127.68h765.952a127.744 127.744 0 0 0 127.744-127.68V510.656a127.744 127.744 0 0 0-127.744-127.68zM319.168 255.36a191.424 191.424 0 1 1 382.976 0v127.68H319.168V255.36z m638.336 638.336a63.872 63.872 0 0 1-63.872 63.872H127.68a63.872 63.872 0 0 1-63.872-63.872V510.656c0-35.264 28.544-63.872 63.872-63.872h765.952c35.328 0 63.872 28.608 63.872 63.872v383.04zM510.656 542.592a95.488 95.488 0 1 0-31.872 185.664v133.568h63.808v-133.568a95.36 95.36 0 0 0 63.808-89.856c0-52.992-42.88-95.808-95.744-95.808z m0 143.68a47.936 47.936 0 1 1 0.128-95.872 47.936 47.936 0 0 1-0.128 95.872z",fill:"#27D400","p-id":"6529"})])])]),e("div",{class:"ms-4 flex-fill"},[e("div",{class:"fs-c8"},"\u8BBE\u7F6E\u5BC6\u7801"),e("div",{style:{color:"#aaaaaa"}},"\u5FC5\u987B\u5148\u8BBE\u7F6E\u90AE\u7BB1\u786E\u8BA4\u6216\u8005\u624B\u673A\u786E\u8BA4\uFF0C\u624D\u53EF\u4EE5\u8BBE\u7F6E\u5BC6\u7801\uFF0C\u8BBE\u7F6E\u5BC6\u7801\u540E\u5C31\u53EF\u4EE5\u51ED\u90AE\u7BB1\u6216\u8005\u624B\u673A\u767B\u9646\u7CFB\u7EDF")]),e("div",null,[e("i",{class:"bi bi-chevron-right fs-c10"})])])],-1),M3=[z3,T3];function L3(l,a){return d(),u("div",I3,M3)}var D3=B(C3,[["render",L3]]);const B3={components:{Personal:s3,Account:$3,Certificate:S3,Safe:D3},setup(){let l=j(),a=Q("account");C(()=>{o()}),J(()=>l.params,t=>{o()});let o=()=>{var t;a.value=(t=l.params.type)!=null?t:a};return{currentTabComponent:a}}},P3={class:"flex-row flex h-100 my-4 me-4"};function V3(l,a,o,t,n,i){const r=R("personal");return d(),u("div",P3,[x(r),(d(),E(de(t.currentTabComponent)))])}var H3=B(B3,[["render",V3]]);const U3={class:"app-main-center jiBox flex-column flex h-100"},q3={style:{flex:"1"},class:"flex-column flex"},N3=e("div",{style:{flex:"0 0 auto",padding:"20px","font-size":"18px"}}," \u65B0\u5EFA\u9879\u76EE ",-1),F3={class:"form-horizontal mg0 t-line",style:{flex:"1",padding:"20px"}},E3=e("div",{style:{}},[e("label",{class:"col-md-8"},[H("\u9879\u76EE\u540D\u5B57"),e("span",{style:{color:"#ff0000"}},"*")])],-1),A3={class:"col-md-8"},R3={class:"text-end p-3 t-line"},O3={setup(l){let{proxy:a}=I(),o=T(),t=j(),n=S({name:"",team:"",disabled:!1});we(()=>{n.team=t.params.team});let i=()=>{n.name&&(n.disabled=!0,a.post(a.urls.project_add.format(n.team),{project:{name:n.name},template_id:"project-t1"}).then(function(r){r.data.code===200?o.push({name:"Projects",params:{team:n.team}}):n.disabled=!1}))};return(r,p)=>(d(),u("div",U3,[e("div",q3,[N3,e("div",F3,[E3,e("div",null,[e("div",A3,[U(e("input",{type:"text","onUpdate:modelValue":p[0]||(p[0]=c=>s(n).name=c),name:"name",class:"form-control",placeholder:"\u9879\u76EE\u540D\u5B57"},null,512),[[O,s(n).name,void 0,{trim:!0}]])])])]),e("div",R3,[x(ae,{title:"\u786E\u5B9A\u63D0\u4EA4",onSubmit:s(i),disabled:s(n).disabled},null,8,["onSubmit","disabled"])])])]))}},G3={setup(l){const{proxy:a}=I();let o=T(),t=j();return we(()=>{let n=t.params.team,i=t.params.project;a.get(a.urls.project_first_component.format(n,i)).then(function(r){o.push({name:"Component",params:{team:n,project:i,com:r.data.uuid}})})}),(n,i)=>(d(),u("div"))}},W3={class:"pb-3 px-3 pt-3"},K3={class:"table table-hover mt-3"},J3=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u9879\u76EE\u540D\u79F0"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),Y3=e("i",{class:"bi bi-pencil-square"},null,-1),Q3={setup(l){const{proxy:a}=I();let o=j(),t=S({name:"",team:"",items:[]});C(()=>{t.team=o.params.team,n()});let n=()=>{a.post(a.urls.project_list.format(t.team)).then(function(i){t.items=i.data})};return(i,r)=>{const p=R("router-link");return d(),u(w,null,[x(ee,{title:"\u9879\u76EE\u7BA1\u7406",desc:"\u9879\u76EE\u7BA1\u7406\u9875\u5C55\u793A\u5F53\u524D\u6240\u6709\u9879\u76EE\uFF0C\u53EF\u5BF9\u9879\u76EE\u8FDB\u884C\u6743\u9650\u7F16\u8F91\u548C\u5220\u9664\u64CD\u4F5C\u3002"}),e("div",W3,[x(Z,{placeholder:"\u641C\u7D22\u9879\u76EE"}),e("table",K3,[J3,e("tbody",null,[(d(!0),u(w,null,M(s(t).items,c=>(d(),u("tr",{key:c.uuid},[e("td",null,[x(p,{to:{name:"Project",params:{team:s(t).team,project:c.uuid}}},{default:L(()=>[H(b(c.name),1)]),_:2},1032,["to"])]),e("td",null,[x(p,{to:{name:"ProjectPermissionSetting",params:{team:s(t).team,project:c.uuid,title:c.name}}},{default:L(()=>[Y3]),_:2},1032,["to"])])]))),128))])])])],64)}}},Z3={class:"pb-3 px-3 pt-3"},X3={class:"table table-hover mt-3"},ef=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-4"},"\u5C5E\u6027\u540D\u79F0"),e("th",{scope:"col",class:"col-4"},"\u5C5E\u6027\u7C7B\u578B"),e("th",{scope:"col",class:"col-3"},"\u4F7F\u7528\u5230\u7684\u9879\u76EE"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),tf={class:"flex-row flex align-items-center"},sf={style:{flex:"0 0 auto"}},af={class:"flex-row flex align-items-center",style:{height:"100%","margin-left":"5px"}},lf={key:0,style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px","align-items":"center",display:"flex"}},of=e("td",null," \u6240\u6709\u9879\u76EE ",-1),nf={key:0,style:{width:"30px",height:"2px"}},rf=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),df=[rf],cf={key:1},pf={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,items:[]});C(()=>{n()});let n=()=>{let i=o.params.project;a.post(a.urls.project_field.format(t.team),{project:i}).then(function(r){t.items=r.data})};return(i,r)=>(d(),u(w,null,[x(ee,{title:"\u9879\u76EE\u5C5E\u6027",desc:"\u9879\u76EE\u5C5E\u6027\u8BBE\u7F6E\u53EF\u4EE5\u8BBE\u7F6E\u9879\u76EE\u6982\u89C8\u9875\u9762\u9700\u8981\u663E\u793A\u7684\u9879\u76EE\u81EA\u5B9A\u4E49\u5C5E\u6027\u3002"}),e("div",Z3,[x(Z,{placeholder:"\u641C\u7D22\u9879\u76EE\u5C5E\u6027"}),e("table",X3,[ef,e("tbody",null,[(d(!0),u(w,null,M(s(t).items,p=>(d(),u("tr",{key:p.alias},[e("td",null,[e("div",tf,[e("div",sf,b(p.name),1),e("div",af,[p.built_in?(d(),u("div",lf,"\u7CFB\u7EDF")):z("",!0)])])]),e("td",null,b(i.filters.projectFieldType(p.field_type)),1),of,e("td",null,[p.built_in?(d(),u("div",nf,df)):(d(),u("div",cf," x "))])]))),128))])])])],64))}},uf={class:"pb-3 px-3 pt-3"},_f={class:"table table-hover mt-3"},mf=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-4"},"\u72B6\u6001\u540D\u79F0"),e("th",{scope:"col",class:"col-4"},"\u72B6\u6001\u7C7B\u578B"),e("th",{scope:"col",class:"col-3"},"\u4F7F\u7528\u5230\u7684\u9879\u76EE"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),ff={class:"flex-row flex align-items-center"},hf={style:{flex:"0 0 auto"}},xf={class:"flex-row flex align-items-center",style:{height:"100%","margin-left":"5px"}},vf={key:0,style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px","align-items":"center",display:"flex"}},gf=e("td",null," \u6240\u6709\u9879\u76EE ",-1),yf=e("td",null,[e("div",{style:{width:"30px",height:"2px"}},[e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])],-1),bf={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,items:[]});C(()=>{n()});let n=()=>{a.post(a.urls.project_status.format(t.team)).then(function(i){t.items=i.data})};return(i,r)=>(d(),u(w,null,[x(ee,{title:"\u9879\u76EE\u72B6\u6001",desc:"\u9879\u76EE\u72B6\u6001\u7528\u4E8E\u6807\u793A\u9879\u76EE\u6240\u5904\u72B6\u6001\uFF0C\u4E0D\u540C\u72B6\u6001\u7C7B\u578B\u4E0B\u53EF\u4EE5\u6709\u591A\u79CD\u72B6\u6001\uFF0C\u5F53\u524D\u4E3A\u7CFB\u7EDF\u9879\u76EE\u72B6\u6001\u5217\u8868\uFF0C\u4E0D\u540C\u9879\u76EE\u53EF\u4EE5\u5171\u7528\u540C\u4E00\u4E2A\u72B6\u6001\u3002"}),e("div",uf,[x(Z,{placeholder:"\u641C\u7D22\u9879\u76EE\u72B6\u6001"}),e("table",_f,[mf,e("tbody",null,[(d(!0),u(w,null,M(s(t).items,p=>(d(),u("tr",{key:p.alias},[e("td",null,[e("div",ff,[e("div",hf,b(p.name),1),e("div",xf,[p.built_in?(d(),u("div",vf,"\u7CFB\u7EDF")):z("",!0)])])]),e("td",null,[x(me,{name:p.name,color:p.uuid},null,8,["name","color"])]),gf,yf]))),128))])])])],64))}},$f={class:"pb-3 px-3 pt-3"},wf={class:"table table-hover mt-3"},kf=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-4"},"\u5DE5\u4F5C\u9879\u7C7B\u578B"),e("th",{scope:"col",class:"col-4"},"\u7C7B\u578B"),e("th",{scope:"col",class:"col-3"},"\u4F7F\u7528\u5230\u7684\u9879\u76EE"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),jf={class:"flex-row flex align-items-center"},Sf={class:"flex-column flex",style:{"margin-left":"20px","line-height":"25px"}},Cf={class:"flex-row flex align-items-center"},If={style:{color:"#17C4BB"}},zf={style:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},Tf={key:0,style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},Mf={style:{color:"#999999"}},Lf=e("span",{style:{margin:"0 10px",color:"#999999"}}," | ",-1),Df={key:0},Bf={key:1},Pf=e("td",null,[e("div",null,"3\u4E2A\u9879\u76EE")],-1),Vf=H(" \u7F16\u8F91 "),Hf={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,items:[]});C(()=>{n()});let n=()=>{a.post(a.urls.issue_type_list.format(t.team)).then(function(i){t.items=i.data})};return(i,r)=>{const p=R("router-link");return d(),u(w,null,[x(ee,{title:"\u5DE5\u4F5C\u9879\u7C7B\u578B",desc:"\u914D\u7F6E\u4E2D\u5FC3\u4E0B\uFF0C\u5DE5\u4F5C\u9879\u7C7B\u578B\u914D\u7F6E\u9879\u7684\u4FEE\u6539\uFF0C\u4E0D\u4F1A\u540C\u6B65\u5230\u5DF2\u7ECF\u5E94\u7528\u7684\u9879\u76EE\u4E2D\u3002"}),e("div",$f,[x(Z,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u7C7B\u578B"}),e("table",wf,[kf,e("tbody",null,[(d(!0),u(w,null,M(s(t).items,c=>(d(),u("tr",{key:c.uuid},[e("td",null,[e("div",jf,[x(St,{icon:c.icon.toString()},null,8,["icon"]),e("div",Sf,[e("div",Cf,[e("div",If,b(c.name),1),e("div",zf,[c.built_in?(d(),u("div",Tf,"\u7CFB\u7EDF")):z("",!0)])]),e("div",Mf,[H(b(c.field_count)+" \u5DE5\u4F5C\u9879\u5C5E\u6027",1),Lf,H(b(c.status_count)+" \u5DE5\u4F5C\u9879\u72B6\u6001",1)])])])]),e("td",null,[c.detail_type===0?(d(),u("div",Df,"\u81EA\u5B9A\u4E49\u7C7B\u578B")):(d(),u("div",Bf,"\u6807\u51C6\u7C7B\u578B"))]),Pf,e("td",null,[x(p,{to:{name:"IssueTypeSetting",params:{team:s(t).team,issue_type:c.uuid,title:c.name,type:"config"}}},{default:L(()=>[Vf]),_:2},1032,["to"])])]))),128))])])])],64)}}},Uf={class:"pb-3 px-3 pt-3"},qf={class:"table table-hover mt-3"},Nf=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-4"},"\u5C5E\u6027\u540D\u79F0"),e("th",{scope:"col",class:"col-4"},"\u5C5E\u6027\u7C7B\u578B"),e("th",{scope:"col",class:"col-3"},"\u4F7F\u7528\u5230\u7684\u9879\u76EE"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),Ff={class:"flex-row flex align-items-center"},Ef={style:{"margin-left":"5px"}},Af={key:0,style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},Rf=e("td",null," \u6240\u6709\u9879\u76EE ",-1),Of={key:0,style:{width:"30px",height:"2px"}},Gf=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),Wf=[Gf],Kf={key:1,style:{"font-weight":"bolder"},class:"flex-row iop"},Jf=["onClick"],Yf=e("svg",{t:"1619926041971",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"33589",width:"12",height:"12"},[e("path",{d:"M522.24 196.9152L157.4912 571.0848 0 1024l452.9152-147.6608L817.2544 512z m462.7456-29.4912L856.576 39.424a119.3984 119.3984 0 0 0-177.2544 0L571.0848 147.6608l295.424 305.2544 118.0672-118.1696A124.8256 124.8256 0 0 0 1024 245.76a121.5488 121.5488 0 0 0-39.424-78.336z",fill:"#2c2c2c","p-id":"33590"})],-1),Qf=[Yf],Zf={class:"modal fade",id:"addIssueTypeField","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"},Xf={class:"modal-dialog modal-dialog-scrollable"},e8={class:"modal-content"},t8=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"staticBackdropLabel"},"\u7F16\u8F91\u5DE5\u4F5C\u9879\u5C5E\u6027"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),s8={class:"modal-body"},a8={class:"flex-column flex my-3"},l8=e("label",{class:"col-md-12 control-label"},"\u5C5E\u6027\u540D\u79F0",-1),o8={class:"col-md-12 mt-2"},i8={class:"flex-column flex my-3"},n8=e("div",null,[e("label",{class:"col-md-12 control-label"},"\u9009\u9879\u503C")],-1),r8={class:"flex-row flex mt-2"},d8={style:{flex:"1"}},c8={style:{flex:"0 0 60px","margin-left":"5px"},class:"flex-column flex align-items-center justify-content-center"},p8={class:"flex-row flex",style:{"border-bottom":"1px solid #e8e8e8",padding:"5px 0"}},u8=e("div",{style:{flex:"0 0 20px","margin-left":"5px"}},[e("i",{class:"bi bi-grip-horizontal"})],-1),_8={style:{flex:"1"}},m8=e("svg",{t:"1619926041971",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"33589",width:"12",height:"12"},[e("path",{d:"M522.24 196.9152L157.4912 571.0848 0 1024l452.9152-147.6608L817.2544 512z m462.7456-29.4912L856.576 39.424a119.3984 119.3984 0 0 0-177.2544 0L571.0848 147.6608l295.424 305.2544 118.0672-118.1696A124.8256 124.8256 0 0 0 1024 245.76a121.5488 121.5488 0 0 0-39.424-78.336z",fill:"#2c2c2c","p-id":"33590"})],-1),f8=[m8],h8=["onClick"],x8=e("svg",{t:"1619925824323",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"24636",width:"12",height:"12"},[e("path",{d:"M647.168 512L1024 888.832 888.832 1024 512 647.168 135.168 1024 0 888.832 376.832 512 0 135.168 135.168 0 512 376.832 888.832 0 1024 135.168 647.168 512z","p-id":"24637",fill:"#2c2c2c"})],-1),v8=[x8],g8={class:"modal-footer"},y8=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"\u53D6\u6D88",-1),b8={setup(l){const{proxy:a}=I();T();let o=j(),t=S({uuid:"",name:"",team:o.params.team,items:[],nameState:null,option:"",optionState:null,disabled:!1,options:[]}),n=null;C(()=>{i(),n=new bootstrap.Modal(document.getElementById("addIssueTypeField"),{keyboard:!1})});let i=()=>{a.post(a.urls.issue_type_field_list.format(t.team)).then(function(v){t.items=v.data})},r=()=>{a.get(a.urls.issue_type_field_option_list.format(t.team,t.uuid)).then(function(v){t.options=v.data})},p=(v,g)=>{n.toggle(),t.options=[],t.uuid=v,t.name=g,r()},c=v=>{v.preventDefault(),this.handleSubmit()},_=()=>{!this.checkFormValidity()||(this.submit(),this.$nextTick(()=>{this.$bvModal.hide("modal-edit-field")}))},m=()=>{let v={},g=!0;if(t.option){for(let y=0;y<t.options.length;y++)if(t.options[y].value===t.option){g=!1;break}g&&(v.value=t.option,v.background_color="#ff6a39",v.color="#fff",t.options.push(v),t.option="")}},f=()=>{},h=(v,g)=>{let y=this,$=[];for(let k=0;k<y.options.length;k++)y.options[k].uuid===v&&y.options[k].value===g||$.push(y.options[k]);y.options=$};return(v,g)=>(d(),u(w,null,[x(ee,{title:"\u5DE5\u4F5C\u9879\u5C5E\u6027",desc:"\u5DE5\u4F5C\u9879\u5C5E\u6027\u7528\u4E8E\u914D\u7F6E\u5DE5\u4F5C\u9879\u9700\u8981\u7684\u663E\u793A\u5B57\u6BB5\uFF0C\u53EF\u4EE5\u7528\u591A\u79CD\u5C5E\u6027\u7C7B\u578B\u6765\u8FDB\u884C\u914D\u7F6E\uFF0C\u4E0D\u540C\u9879\u76EE\u53EF\u4EE5\u5171\u7528\u540C\u4E00\u4E2A\u5C5E\u6027\u3002"}),e("div",Uf,[x(Z,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u5C5E\u6027"}),e("table",qf,[Nf,e("tbody",null,[(d(!0),u(w,null,M(s(t).items,y=>(d(),u("tr",{key:y.uuid},[e("td",null,[e("div",Ff,[e("div",null,b(y.name),1),e("div",Ef,[y.built_in?(d(),u("div",Af,"\u7CFB\u7EDF")):z("",!0)])])]),e("td",null,b(v.filters.taskFieldType(y.type)),1),Rf,e("td",null,[y.built_in?(d(),u("div",Of,Wf)):(d(),u("div",Kf,[e("div",{style:{flex:"0 0 20px"},class:"edit pointer",onClick:$=>s(p)(y.uuid,y.name)},Qf,8,Jf)]))])]))),128))])])]),e("div",Zf,[e("div",Xf,[e("div",e8,[t8,e("div",s8,[e("form",{ref:"form",onSubmit:g[3]||(g[3]=xe((...y)=>s(_)&&s(_)(...y),["stop","prevent"]))},[e("div",a8,[l8,e("div",o8,[U(e("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=y=>s(t).name=y),name:"name",class:"form-control"},null,512),[[O,s(t).name]])])]),e("div",i8,[n8,e("div",r8,[e("div",d8,[U(e("input",{class:"form-control","onUpdate:modelValue":g[1]||(g[1]=y=>s(t).option=y)},null,512),[[O,s(t).option]])]),e("div",c8,[x(ae,{disabled:s(t).disabled,title:"\u6DFB\u52A0",onSubmit:s(m)},null,8,["disabled","onSubmit"])])])]),(d(!0),u(w,null,M(s(t).options,y=>(d(),u("div",{key:y.uuid,class:"iop"},[e("div",p8,[u8,e("div",_8,b(y.value),1),e("div",{style:{flex:"0 0 20px"},class:"edit",onClick:g[2]||(g[2]=(...$)=>s(f)&&s(f)(...$))},f8),e("div",{style:{flex:"0 0 20px","margin-left":"10px"},class:"del",onClick:$=>s(h)(y.uuid,y.value)},v8,8,h8)])]))),128))],544)]),e("div",g8,[y8,e("button",{type:"button",class:"btn btn-primary",onClick:g[4]||(g[4]=(...y)=>s(c)&&s(c)(...y))},"\u786E\u5B9A")])])])])],64))}},$8={class:"pb-3 px-3 pt-3"},w8={class:"table table-hover mt-3"},k8=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-4"},"\u72B6\u6001\u540D\u79F0"),e("th",{scope:"col",class:"col-4"},"\u72B6\u6001\u7C7B\u578B"),e("th",{scope:"col",class:"col-3"},"\u4F7F\u7528\u5230\u7684\u9879\u76EE"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),j8={style:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center"}},S8=e("td",null," \u6240\u6709\u9879\u76EE ",-1),C8=e("td",null,[e("div",{style:{display:"flex","align-items":"center",flex:"0 0 80px"}},[e("div",{style:{width:"30px",height:"2px"}},[e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])])],-1),I8={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,name:"",items:[]});C(()=>{n()});let n=()=>{a.post(a.urls.issue_type_status.format(t.team)).then(function(i){t.items=i.data})};return(i,r)=>(d(),u(w,null,[x(ee,{title:"\u5DE5\u4F5C\u9879\u72B6\u6001",desc:"\u5DE5\u4F5C\u9879\u72B6\u6001\u7528\u4E8E\u6807\u793A\u5DE5\u4F5C\u9879\u6240\u5904\u9636\u6BB5\uFF0C\u4E0D\u540C\u7684\u72B6\u6001\u53EF\u4EE5\u5728\u9879\u76EE\u4E2D\u7EC4\u88C5\u6210\u4E3A\u5DE5\u4F5C\u6D41\uFF0C\u4E0D\u540C\u9879\u76EE\u53EF\u4EE5\u5171\u7528\u540C\u4E00\u4E2A\u72B6\u6001\u3002"}),e("div",$8,[x(Z,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u72B6\u6001"}),e("table",w8,[k8,e("tbody",null,[(d(!0),u(w,null,M(s(t).items,p=>(d(),u("tr",{key:p.uuid},[e("td",null,[e("div",null,b(p.name),1)]),e("td",null,[e("div",j8,[x(me,{name:p.category.toString(),color:p.category.toString()},null,8,["name","color"])])]),S8,C8]))),128))])])])],64))}},z8={class:"pb-3 px-3 pt-3"},T8={class:"table table-hover mt-3"},M8=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col",class:"col-4"},"\u4F18\u5148\u7EA7\u540D\u79F0"),e("th",{scope:"col",class:"col-4"},"\u63CF\u8FF0"),e("th",{scope:"col",class:"col-3"},"\u663E\u793A\u6837\u5F0F"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),L8={class:"flex-row flex align-items-center"},D8={style:{flex:"0 0 auto"}},B8={key:0,style:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},P8=e("div",{style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},"\u9ED8\u8BA4",-1),V8=[P8],H8={style:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},U8=e("td",null,[e("div",{style:{display:"flex","align-items":"center",flex:"0 0 80px"}},[e("div",{style:{width:"30px",height:"2px"}},[e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}})])])],-1),q8={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,name:"",items:[],defaultValue:""});C(()=>{n()});let n=()=>{a.post(a.urls.issue_type_priority.format(t.team)).then(function(i){t.items=i.data.options,t.defaultValue=i.data.default_value})};return(i,r)=>(d(),u(w,null,[x(ee,{title:"\u4F18\u5148\u7EA7",desc:"\u901A\u8FC7\u4E0D\u540C\u7684\u7EC4\u5408\u8BBE\u5B9A\uFF0C\u4E2A\u6027\u5316\u60A8\u7684\u4F18\u5148\u7EA7\u663E\u793A\u65B9\u5F0F\u3002"}),e("div",z8,[x(Z,{placeholder:"\u641C\u7D22\u4F18\u5148\u7EA7"}),e("table",T8,[M8,e("tbody",null,[(d(!0),u(w,null,M(s(t).items,p=>(d(),u("tr",{key:p.uuid},[e("td",null,[e("div",L8,[e("div",D8,b(p.value),1),p.uuid===s(t).defaultValue?(d(),u("div",B8,V8)):z("",!0)])]),e("td",null,[e("div",null,b(p.desc),1)]),e("td",null,[e("div",H8,[x(Le,{color:p.color,name:p.value,bgColor:p.background_color},null,8,["color","name","bgColor"])])]),U8]))),128))])])])],64))}},N8={class:"px-4 pb-4"},F8={setup(l){const{proxy:a}=I();let o=j(),t=Q(o.params.title),n=S({dropdownActive:!1,team:"",project:"",maps:{read:{code:1102,permission:"browse_project",title:"\u67E5\u770B\u9879\u76EE",desc:"\u5141\u8BB8\u6210\u5458\u6D4F\u89C8\u5F53\u524D\u9879\u76EE\uFF0C\u5305\u62EC\u5DE5\u4F5C\u9879\uFF0C\u7B5B\u9009\u5668\uFF0C\u62A5\u8868\u7B49\u4FE1\u606F",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},write:{code:1101,permission:"manage_project",title:"\u7BA1\u7406\u9879\u76EE",desc:"\u7BA1\u7406\u5F53\u524D\u9879\u76EE\u5E76\u66F4\u65B0\u9879\u76EE\u7684\u914D\u7F6E\u4FE1\u606F",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]}},role_members:[],data:{},loaded:!1,desc:"\u9879\u76EE\u7BA1\u7406\u3001\u67E5\u770B\u57FA\u672C\u6743\u9650\u914D\u7F6E\uFF0C\u9700\u8981\u66F4\u7EC6\u81F4\u6743\u9650\u8BF7\u5230\u5404\u4E2A\u5177\u4F53\u9879\u76EE\u4E0B\u914D\u7F6E\u3002"});C(()=>{n.team=o.params.team,n.project=o.params.project,n.data={permission_rule:{context_type:"project",context_param:{project_uuid:n.project}}},i(),r()});let i=()=>{t.value=o.params.title,t.value||a.get(a.urls.project_get.format(n.team,n.project)).then(function(c){t.value=c.data.name})},r=()=>{let c=[];for(let _ in n.maps)c.push(n.maps[_].code);a.post(a.urls.project_user_domain_group.format(n.team,n.project),c).then(function(_){for(let m in n.maps){let f=n.maps[m];f.groups=[]}if(_.data&&_.data.length>0)for(let m in n.maps){let f=n.maps[m];for(let h=0;h<_.data.length;h++){let v=_.data[h];if(v.permission===f.code){f.groups=v.groups;break}}}p()})},p=()=>{a.get(a.urls.project_role_members.format(n.team,n.project)).then(function(c){if(c.data&&c.data.role_members&&c.data.role_members.length>0)for(let _=0;_<c.data.role_members.length;_++){let m=c.data.role_members[_];for(let f in n.maps){let h=n.maps[f];h.roles=[],h.members=[],m.role.type="role",h.roles.push(m.role);for(let v=0;v<m.members.length;v++){let g=m.members[v];g.type="single_user",h.members.push(g)}}}n.loaded=!0})};return(c,_)=>(d(),u(w,null,[x(ee,{title:s(t),desc:s(n).desc},null,8,["title","desc"]),e("div",N8,[s(n).loaded?(d(),E(le,{key:0,role_members:s(n).role_members,data:s(n).data,group:s(n).maps.read,onLoadPermissionData:s(r)},null,8,["role_members","data","group","onLoadPermissionData"])):z("",!0),s(n).loaded?(d(),E(le,{key:1,role_members:s(n).role_members,data:s(n).data,group:s(n).maps.write,onLoadPermissionData:s(r)},null,8,["role_members","data","group","onLoadPermissionData"])):z("",!0)])],64))}},E8={setup(l){const{proxy:a}=I();let o=T(),t=j(),n=S({team:"",space:""});C(()=>{n.team=t.params.team,n.space=t.params.space,i()});let i=()=>{a.get(a.urls.default_main_page.format(n.team,n.space)).then(function(r){o.push({name:"Page",params:{team:n.team,space:n.space,page:r.data.uuid}})})};return(r,p)=>(d(),u("div"))}};const A8={name:"PageTree",props:{tree:Object,team:String,space:String,selected:String},setup(l){j();let{selected:a}=at(l),o=S({tree:l.tree,team:l.team,space:l.space});return{selected:a,self:o}}},Ct=l=>(N("data-v-40db7f46"),l=l(),F(),l),R8={key:0,class:"arrow flex-row flex align-items-center"},O8={key:1,style:{color:"#c0c0c0","padding-left":"10px"}},G8=Ct(()=>e("i",{class:"bi bi-dot"},null,-1)),W8=[G8],K8={key:2,style:{"padding-left":"10px"}},J8=Ct(()=>e("svg",{t:"1605661940824",class:"icon",viewBox:"0 0 1152 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"177974",width:"16",height:"16"},[e("path",{d:"M1152 896a128 128 0 0 1-128 128H128a128 128 0 0 1-128-128V128a128 128 0 0 1 128-128h279.936a128 128 0 0 1 120.576 84.992l9.728 27.456H1024a128 128 0 0 1 127.68 118.528l0.32 9.536zM407.936 128H128v768h896V494.72H629.056a128 128 0 0 1-116.8-75.52l-3.84-9.408L408 128z m176 112.448l45.12 126.336L1024 366.72V240.512l-440.064-0.064z","p-id":"177975",fill:"#515151"})],-1)),Y8=[J8],Q8={class:"flex-row flex align-items-center"},Z8={style:{overflow:"hidden","white-space":"nowrap","min-width":"0","text-overflow":"ellipsis","margin-left":"5px"}};function X8(l,a,o,t,n,i){const r=R("router-link"),p=R("PageTree");return d(),u("div",{style:$e({padding:t.self.tree.padding?"0 0 0 10px":"0"})},[e("div",{class:V(["page-item flex-row flex align-items-center",{active:t.self.tree.uuid===t.selected}])},[t.self.tree.son&&t.self.tree.parent_uuid?(d(),u("div",R8,[t.self.tree.opened?(d(),u("div",{key:0,class:"down",onClick:a[0]||(a[0]=c=>t.self.tree.opened=!1)})):(d(),u("div",{key:1,class:"right",onClick:a[1]||(a[1]=c=>t.self.tree.opened=!0)}))])):t.self.tree.parent_uuid?(d(),u("div",O8,W8)):(d(),u("div",K8,Y8)),e("div",{style:{flex:"1",width:"0"},onClick:a[2]||(a[2]=c=>t.self.tree.opened=!0)},[x(r,{to:{name:"Page",params:{team:t.self.team,space:t.self.space,page:t.self.tree.uuid}}},{default:L(()=>[e("div",Q8,[e("div",Z8,b(t.self.tree.title?t.self.tree.title:"\u672A\u547D\u540D"),1)])]),_:1},8,["to"])])],2),U(e("div",null,[(d(!0),u(w,null,M(t.self.tree.pages,c=>(d(),E(p,{key:c.uuid,tree:c,selected:t.selected,team:t.self.team,space:t.self.space},null,8,["tree","selected","team","space"]))),128))],512),[[Re,t.self.tree.opened]])],4)}var e5=B(A8,[["render",X8],["__scopeId","data-v-40db7f46"]]);const t5={key:0,style:{padding:"20px 0 0 0"}},s5=e("div",{style:{flex:"0 0 auto",padding:"0 20px 10px 20px"},class:"flex-row flex"},[e("div",{style:{flex:"1",color:"#909090"}},"\u8349\u7A3F\u7BB1")],-1),a5={style:{padding:"0 20px"}},l5={style:{flex:"1","padding-left":"10px"},class:"flex-row flex align-items-center"},o5={style:{flex:"1",overflow:"hidden","white-space":"nowrap","min-width":"0","text-overflow":"ellipsis"}},i5={key:0,style:{flex:"0 0 auto",color:"#909090"}},n5=e("i",{class:"bi bi-cursor-fill"},null,-1),r5=[n5],d5={props:{team:String,space:String,drafts:Array,selected:{default:!1}},setup(l){return(a,o)=>{const t=R("router-link");return l.drafts&&l.drafts.length>0?(d(),u("div",t5,[s5,e("div",a5,[(d(!0),u(w,null,M(l.drafts,n=>(d(),u("div",{class:V(["page-item",{active:n.uuid===l.selected}]),key:n.uuid},[x(t,{class:V({unnamed:!n.title}),to:{name:"Draft",params:{team:l.team,space:l.space,draft:n.uuid}},title:n.status===1?"\u672A\u53D1\u5E03":""},{default:L(()=>[e("div",l5,[e("div",o5,b(n.title||"\u672A\u547D\u540D"),1),n.status===1?(d(),u("div",i5,r5)):z("",!0)])]),_:2},1032,["class","to","title"])],2))),128))])])):z("",!0)}}};const be=l=>(N("data-v-4fc493f2"),l=l(),F(),l),c5={id:"catalog",class:"flex-column flex r-line"},p5={style:{flex:"0 0 40px"},class:"flex-row flex align-items-center b-line"},u5=be(()=>e("div",{"data-bs-toggle":"offcanvas","data-bs-target":"#sidebarSpaces",class:"ps-3 pointer"},[e("i",{class:"bi bi-list",style:{"font-size":"1.5rem"}})],-1)),_5={class:"flex-fill ms-2 fw-bolder"},m5=be(()=>e("div",{"data-bs-toggle":"dropdown",class:"flex-row flex align-items-center h-100 pe-3 pointer","data-bs-offset":"-20,2"},[e("i",{class:"bi bi-gear"})],-1)),f5={class:"dropdown-menu border-0 jiBox"},h5={class:"menu-item"},x5=H("\u9875\u9762\u7EC4\u4FE1\u606F"),v5={class:"menu-item"},g5=H("\u9875\u9762\u7EC4\u6743\u9650"),y5={class:"menu-item"},b5=H("\u56DE\u6536\u7AD9"),$5={style:{"overflow-y":"auto"}},w5={style:{padding:"0 20px"}},k5=be(()=>e("div",{style:{flex:"0 0 auto",margin:"20px 0 10px 0"},class:"flex-row flex align-items-center"},[e("div",{style:{flex:"1",color:"#909090"}},"\u9875\u9762\u6811"),e("div",{style:{flex:"0 0 auto"}},[e("svg",{t:"1605536091310",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4339",width:"16",height:"16"},[e("path",{d:"M624.904671 1023.115112a27.162332 27.162332 0 0 1-18.711829-6.639682L354.488565 814.870566a30.783976 30.783976 0 0 1-13.88297-22.333473v-380.272649L14.054003 50.100016A29.576762 29.576762 0 0 1 11.035966 18.108825 30.783976 30.783976 0 0 1 38.801905 0.000604h942.834727a30.180369 30.180369 0 0 1 21.729865 51.306627l-348.281457 362.164427v582.481122a29.576762 29.576762 0 0 1-16.901007 27.162332 25.35151 25.35151 0 0 1-13.279362 0zM400.966333 778.050516l191.343539 152.712667V400.795903a28.973154 28.973154 0 0 1 8.450503-20.52265l307.839764-319.911911H106.405932l289.127934 320.515518a27.765939 27.765939 0 0 1 5.432467 19.919043z",fill:"#515151","p-id":"4340"}),e("path",{d:"M985.258276 519.706557h-193.154361a30.180369 30.180369 0 0 1-30.180369-30.180369 30.180369 30.180369 0 0 1 30.180369-30.180369h193.154361a30.783976 30.783976 0 0 1 30.180369 30.180369 30.180369 30.180369 0 0 1-30.180369 30.180369zM985.258276 648.878536h-193.154361a30.180369 30.180369 0 0 1-30.180369-30.180369 30.180369 30.180369 0 0 1 30.180369-30.180369h193.154361a30.180369 30.180369 0 0 1 30.180369 30.180369 30.783976 30.783976 0 0 1-30.180369 30.180369zM985.258276 777.446908h-193.154361a30.180369 30.180369 0 0 1 0-60.360738h193.154361a30.180369 30.180369 0 0 1 0 60.360738z",fill:"#515151","p-id":"4341"})])])],-1)),j5={class:"offcanvas offcanvas-start",style:{width:"300px"},tabindex:"-1",id:"sidebarSpaces","aria-labelledby":"offcanvasExampleLabel"},S5=be(()=>e("div",{class:"offcanvas-header b-line"},[e("div",{class:"offcanvas-title fw-bolder",id:"offcanvasExampleLabel"},"\u5FEB\u901F\u5BFC\u822A"),e("button",{type:"button",class:"btn-close text-reset","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),C5={class:"offcanvas-body ps-4"},I5=be(()=>e("div",{class:"tool-header"},"\u5DE5\u5177",-1)),z5={class:"mt-4 pt-3"},T5=be(()=>e("div",{class:"tool-header"},"\u9875\u9762\u7EC4",-1)),M5={setup(l){const{proxy:a}=I();T();let o=j(),t=Q(""),n=S({team:o.params.team,space:o.params.space,spaces:[],tree:{},drafts:[],inside:!1,loaded:!1,spaceName:""});C(()=>{n.page=o.params.page,i(),c(),p(),r()}),J(()=>o.params,f=>{i()});let i=()=>{o.name==="Draft"?t.value!==o.params.draft&&(t.value=o.params.draft):o.name==="Page"&&t.value!==o.params.page&&(t.value=o.params.page)},r=()=>{a.get(a.urls.spaces.format(n.team)).then(function(f){n.spaces=f.data.spaces;for(let h=0;h<n.spaces.length;h++)if(n.spaces[h].uuid===n.space){n.spaceName=n.spaces[h].title;break}})},p=()=>{a.get(a.urls.page_tree_get.format(n.team,n.space)).then(function(f){if(n.tree=f.data,n.tree.pages&&n.tree.pages.length>0)for(let h=0;h<n.tree.pages.length;h++){let v=n.tree.pages[h];if(_(v),n.inside)break}n.loaded=!0})},c=()=>{a.get(a.urls.drafts.format(n.team,n.space)).then(function(f){n.drafts=f.data.drafts})},_=f=>{if(f.pages&&f.pages.length>0)for(let h=0;h<f.pages.length;h++){let v=f.pages[h];if(v.uuid===n.page?(f.opened=!0,n.inside=!0):_(v),n.inside)break}n.inside&&(f.opened=!0)},m=X(()=>[{uuid:"wiki-setting",name:"WikiSetting",params:{team:n.team,type:"list"},title:"\u6587\u6863\u914D\u7F6E\u4E2D\u5FC3"}]);return(f,h)=>{const v=R("router-link");return d(),u("div",c5,[e("div",p5,[u5,e("div",_5,b(s(n).spaceName),1),m5,e("div",f5,[e("div",h5,[x(v,{to:{name:"SpaceSettings",params:{team:s(n).team,space:s(n).space,type:"info"}}},{default:L(()=>[x5]),_:1},8,["to"])]),e("div",v5,[x(v,{to:{name:"SpaceSettings",params:{team:s(n).team,space:s(n).space,type:"permissions"}}},{default:L(()=>[g5]),_:1},8,["to"])]),e("div",y5,[x(v,{to:{name:"SpaceSettings",params:{team:s(n).team,space:s(n).space,type:"recycle"}}},{default:L(()=>[b5]),_:1},8,["to"])])])]),e("div",$5,[x(d5,{drafts:s(n).drafts,selected:s(t),team:s(n).team,space:s(n).space},null,8,["drafts","selected","team","space"]),e("div",w5,[k5,s(n).loaded?(d(),E(e5,{key:0,tree:s(n).tree,selected:s(t),team:s(n).team,space:s(n).space},null,8,["tree","selected","team","space"])):z("",!0)]),e("div",j5,[S5,e("div",C5,[e("div",null,[I5,(d(!0),u(w,null,M(s(m),g=>(d(),u("div",{class:"mt-2 ps-3",key:g.uuid},[x(v,{to:{name:g.name,params:g.params}},{default:L(()=>[H(b(g.title),1)]),_:2},1032,["to"])]))),128))]),e("div",z5,[T5,(d(!0),u(w,null,M(s(n).spaces,g=>(d(),u("div",{class:V(["ps-3 py-2 menu-item",{active:g.uuid===s(n).space}]),key:g.uuid},[x(v,{to:{name:"Space",params:{team:s(n).team,space:g.uuid}}},{default:L(()=>[H(b(g.title),1)]),_:2},1032,["to"])],2))),128))])])])])])}}};var L5=B(M5,[["__scopeId","data-v-4fc493f2"]]);const D5={class:"flex-row flex",style:{flex:"1"}},B5={setup(l){return(a,o)=>{const t=R("router-view");return d(),u("div",D5,[x(L5),x(t)])}}};const It=l=>(N("data-v-30286954"),l=l(),F(),l),P5={id:"dynamic",class:"flex-column flex l-line"},V5=se('<div style="flex:0 0 40px;" class="flex-row flex align-items-center b-line" data-v-30286954><div style="flex:0 0 auto;margin-left:20px;cursor:pointer;" data-v-30286954>\u52A8\u6001</div><div style="flex:1;" data-v-30286954>\xA0</div><div style="flex:0 0 auto;margin-right:20px;" data-v-30286954><i class="bi bi-x" data-v-30286954></i></div></div>',1),H5={class:"tab-title flex-row flex align-items-center b-line",style:{"margin-top":"10px","justify-content":"space-between"}},U5=It(()=>e("div",{style:{flex:"1"}},null,-1)),q5=["onClick"],N5=It(()=>e("div",{style:{flex:"1"}},null,-1)),F5=se('<div style="padding:20px;" class="flex-row flex" data-v-30286954><div style="flex:0 0 auto;" data-v-30286954><i class="bi bi-pencil-square" data-v-30286954></i></div><div style="flex:1;margin-left:10px;" data-v-30286954><div data-v-30286954><span style="color:#000000;font-weight:bold;" data-v-30286954>\u4F55\u654F</span>\u53D1\u5E03\u4E86\u9875\u9762</div><div style="color:#909090;font-size:12px;" data-v-30286954>9\u670814\u65E5 \u65E9\u4E0A06:42</div></div></div>',1),E5={setup(l){let a=S({cur:0,tabs:["\u5168\u90E8","\u8BC4\u8BBA","\u6587\u4EF6","\u53D8\u66F4\u8BB0\u5F55"]});return(o,t)=>(d(),u("div",P5,[V5,e("div",H5,[U5,(d(!0),u(w,null,M(s(a).tabs,(n,i)=>(d(),u("div",{onClick:r=>s(a).cur=i,class:V({active:s(a).cur===i}),key:i},b(n),11,q5))),128)),N5]),F5]))}};var A5=B(E5,[["__scopeId","data-v-30286954"]]);const zt=l=>(N("data-v-c13fda96"),l=l(),F(),l),R5={id:"article",class:"flex-column flex"},O5={style:{flex:"0 0 40px",padding:"0 20px"},class:"flex-row flex align-items-center b-line"},G5=zt(()=>e("div",{style:{flex:"1"},class:"flex-row flex"},[e("div",{style:{flex:"0 0 auto"}},[e("i",{class:"bi bi-house-door-fill"})]),e("div",{style:{flex:"0 0 auto","margin-left":"5px"}},"\u4E3B\u9875")],-1)),W5={style:{flex:"0 0 auto"},class:"flex-row flex"},K5=zt(()=>e("div",{style:{flex:"0 0 auto"}},[e("i",{class:"bi bi-pencil-square"})],-1)),J5={style:{flex:"0 0 auto","margin-left":"5px"}},Y5=H("\u7F16\u8F91"),Q5={style:{flex:"1","background-color":"#ffffff",padding:"30px","overflow-y":"auto"},class:"flex-column flex"},Z5={style:{"font-size":"28px","font-weight":"800"}},X5={style:{color:"#909090","margin-top":"5px"}},eh=["innerHTML"],th={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,space:o.params.space,page:o.params.page,user:{},item:{}});C(()=>{i()});let n=()=>{a.get(a.urls.team_user_get.format(t.team,t.item.owner_uuid)).then(function(r){t.user=r.data})};J(()=>o.params,r=>{o.params.page&&t.page!==o.params.page&&(t.page=o.params.page,i())});let i=()=>{a.get(a.urls.page_get.format(t.team,t.space,t.page)).then(function(r){t.item=r.data,n()})};return(r,p)=>{const c=R("router-link");return d(),u("div",R5,[e("div",O5,[G5,e("div",W5,[K5,e("div",J5,[x(c,{to:{name:"EditPage",params:{team:s(t).team,space:s(t).space,page:s(t).page}}},{default:L(()=>[Y5]),_:1},8,["to"])])])]),e("div",Q5,[e("div",Z5,b(s(t).item.title),1),e("div",X5,b(s(t).user.name)+"\u4E8E "+b(r.filters.formatTime(s(t).item.updated_time))+" \u4FEE\u6539",1),e("div",{class:"ck-content",style:{"margin-top":"20px"},innerHTML:s(t).item.content},null,8,eh)])])}}};var sh=B(th,[["__scopeId","data-v-c13fda96"]]);const ah={class:"flex-row flex flex-fill"},lh={class:"flex-fill"},oh={setup(l){return(a,o)=>(d(),u("div",ah,[e("div",lh,[x(sh)]),x(A5)]))}};const ih={style:{"box-shadow":"none",outline:"none"}},nh={props:{title:String,disabled:{default:!1},fill:{default:!0}},emits:["submit"],setup(l,{emit:a}){const o=l;let t=()=>{o.disabled||a("submit")};return(n,i)=>(d(),u("div",ih,[e("div",{class:V(["button",{disabled:l.disabled,fill:l.fill}]),onClick:i[0]||(i[0]=(...r)=>s(t)&&s(t)(...r))},b(l.title),3)]))}};var Fe=B(nh,[["__scopeId","data-v-74a4ff3a"]]);const Ie=l=>(N("data-v-4242492c"),l=l(),F(),l),rh={id:"article",class:"flex-column flex"},dh={style:{flex:"0 0 40px",padding:"0 20px"},class:"flex-row flex align-items-center b-line"},ch=Ie(()=>e("div",{style:{flex:"1"},class:"flex-row flex"},[e("div",{style:{flex:"0 0 auto"}},[e("i",{class:"bi bi-house-door-fill"})]),e("div",{style:{flex:"0 0 auto","margin-left":"5px"}},"\u4E3B\u9875")],-1)),ph={style:{flex:"0 0 auto"},class:"flex-row flex align-items-center"},uh=Ie(()=>e("div",{style:{flex:"0 0 auto",color:"inherit"}},[e("i",{class:"bi bi-pencil-square"})],-1)),_h=Ie(()=>e("div",{style:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}}," \u7F16\u8F91 ",-1)),mh=[uh,_h],fh=Ie(()=>e("div",{style:{flex:"0 0 auto",color:"inherit"}},[e("i",{class:"bi bi-x"})],-1)),hh=Ie(()=>e("div",{style:{flex:"0 0 auto","margin-left":"5px",color:"inherit"}}," \u5220\u9664\u8349\u7A3F ",-1)),xh=[fh,hh],vh={style:{flex:"1","background-color":"#ffffff",padding:"30px","overflow-y":"auto"},class:"flex-column flex"},gh={style:{color:"#909090","margin-top":"5px"}},yh=["innerHTML"],bh={props:{item:Object},setup(l){const a=l,{proxy:o}=I();let t=T(),n=j(),i=S({team:n.params.team,space:n.params.space});C(()=>{i.team=n.params.team,i.space=n.params.space});let r=()=>{let _={team:i.team,space:i.space,draft:a.item.uuid};t.push({name:"EditDraft",params:_})},p=()=>{this.$bvModal.msgBoxConfirm("\u6B64\u64CD\u4F5C\u4E0D\u53EF\u64A4\u9500\uFF0C\u662F\u5426\u786E\u5B9A\uFF1F",{title:"\u5220\u9664\u8349\u7A3F",okVariant:"danger",okTitle:"\u786E\u5B9A",cancelTitle:"\u53D6\u6D88",footerClass:"p-2",hideHeaderClose:!1,centered:!0}).then(_=>{_&&o.post(o.urls.draft_delete.format(i.team,i.space,a.item.uuid)).then(function(m){m.data.code===200&&t.push({name:"Space",params:{team:i.team,space:i.space}})}).catch(function(m){o.bus.emit("alertDanger",m.response.data.errcode)})}).catch(_=>{console.log(_)})},c=()=>{let _={title:a.item.title,content:a.item.content,page_uuid:a.item.page_uuid,status:a.item.status,is_published:!0,space_uuid:i.space,from_version:a.item.from_version};o.post(o.urls.page_draft_update.format(i.team,i.space,a.item.uuid),_).then(function(m){let f={team:i.team,space:i.space,page:m.data.page_uuid};t.push({name:"Page",params:f})})};return(_,m)=>(d(),u("div",rh,[e("div",dh,[ch,e("div",ph,[e("div",{style:{flex:"0 0 auto","margin-left":"10px"},class:"flex-row flex align-items-center op-article",onClick:m[0]||(m[0]=(...f)=>s(r)&&s(r)(...f))},mh),e("div",{style:{flex:"0 0 auto","margin-left":"10px"},class:"flex-row flex align-items-center op-article",onClick:m[1]||(m[1]=(...f)=>s(p)&&s(p)(...f))},xh),l.item.status===1?(d(),E(Fe,{key:0,style:{"margin-left":"10px"},title:"\u53D1\u5E03",onSubmit:s(c)},null,8,["onSubmit"])):z("",!0),l.item.status===2?(d(),E(Fe,{key:1,style:{"margin-left":"10px"},title:"\u66F4\u65B0",onSubmit:s(c)},null,8,["onSubmit"])):z("",!0)])]),e("div",vh,[e("div",{class:V({unnamed:!l.item.title}),style:{"font-size":"28px","font-weight":"800"}},b(l.item.title||"\u672A\u547D\u540D"),3),e("div",gh,"\u6700\u540E\u7F16\u8F91\u4E8E "+b(_.filters.formatTime(l.item.updated_time)),1),e("div",{class:"ck-content",style:{"margin-top":"20px"},innerHTML:l.item.content},null,8,yh)])]))}};var $h=B(bh,[["__scopeId","data-v-4242492c"]]);const wh={class:"h-100 flex-fill"},kh={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,space:o.params.space,page:o.params.page,draft:o.params.draft,item:{},loaded:!1});C(()=>{t.team=o.params.team,t.space=o.params.space,t.page=o.params.page,t.draft=o.params.draft,n()}),J(()=>o.params,i=>{o.params.draft&&t.draft!==o.params.draft&&(t.draft=o.params.draft,n())});let n=()=>{a.get(a.urls.draft_get.format(t.team,t.space,t.draft)).then(function(i){t.item=i.data,t.page=i.data.page_uuid,t.loaded=!0})};return(i,r)=>(d(),u("div",wh,[s(t).loaded?(d(),E($h,{key:0,item:s(t).item},null,8,["item"])):z("",!0)]))}};const jh=l=>(N("data-v-01b5d9d8"),l=l(),F(),l),Sh={class:"flex-column flex flex-fill"},Ch={style:{flex:"0 0 40px","background-color":"#f8f8f8"},class:"flex-row flex align-items-center"},Ih=jh(()=>e("div",{style:{flex:"1"},id:"toolbarContainer"},null,-1)),zh={style:{flex:"0 0 auto","margin-right":"20px"},class:"flex-row flex align-items-center"},Th={style:{"margin-right":"10px"}},Mh={key:0,style:{color:"#909090"}},Lh={key:1,style:{color:"#909090"}},Dh={key:2,style:{color:"#909090"}},Bh={style:{"overflow-y":"auto","background-color":"#ffffff"},id:"scrollable_container",class:"flex-row flex-fill"},Ph={style:{flex:"1",height:"100%"},class:"flex-column flex"},Vh={style:{flex:"0 0 auto",padding:"20px 60px 0 60px"}},Hh={id:"bodyContainer",style:{padding:"0 60px 0 60px"},class:"flex-column flex flex flex-fill"},Uh={setup(l){let{proxy:a}=I(),o=j(),t=T(),n=Q(""),i=Q(""),r=S({team:o.params.team,space:o.params.space,page:"",fill:!1,list:[],draft:"",editor:Ee,editorConfig:{toolbar:{items:["undo","redo","heading","fontFamily","fontSize","fontColor","fontBackgroundColor","|","bold","italic","underline","strikethrough","|","alignment","numberedList","bulletedList","outdent","indent","|","link","blockquote","imageUpload","insertTable"]},ckfinder:{uploadUrl:"",options:{resourceType:"Images"}}},mod:"",loaded:!1,ing:-1,status:1,version:0});C(()=>{r.mod=o.name,r.editorConfig.ckfinder.uploadUrl=a.urls.upload.format(r.team),r.mod==="EditDraft"?(r.draft=o.params.draft,h()):r.mod==="AddPage"?(r.page=o.params.page,a.$parent.page=r.page):r.mod==="EditPage"&&(r.page=o.params.page,a.$parent.page=r.page,r.status=2,v()),setInterval(function(){r.list.length>0&&r.ing!==1&&(r.ing=1,r.list.length=0,r.draft.length===8?m():_())},3e3)}),Pt(()=>{r.loaded=!0});let p=g=>{let y=document.querySelector("#toolbarContainer"),$=document.querySelector("#bodyContainer");y.hasChildNodes()&&(y.innerHTML=""),$.hasChildNodes()&&($.innerHTML=""),y.appendChild(g.ui.view.toolbar.element),$.appendChild(g.ui.getEditableElement())},c=()=>{r.mod==="EditDraft"?t.push({name:"Draft",params:{team:r.team,space:r.space,draft:r.draft}}):r.mod==="AddPage"?t.push({name:"Page",params:{team:r.team,space:r.space,page:r.page}}):r.mod==="EditPage"&&t.push({name:"Page",params:{team:r.team,space:r.space,page:r.page}})},_=()=>{let g={title:n.value,content:i.value,page_uuid:r.page,status:r.status,from_version:r.version};a.post(a.urls.page_draft_add.format(r.team,r.space),g).then(function(y){r.draft=y.data.uuid,r.ing=2})},m=()=>{let g={title:n.value,content:i.value,page_uuid:r.page,status:r.status,is_published:!1,space_uuid:r.space,from_version:r.version};a.post(a.urls.page_draft_update.format(r.team,r.space,r.draft),g).then(function(y){y.data&&y.data.draft_uuid&&(r.draft=y.data.draft_uuid),r.ing=2})},f=()=>{let g={title:n.value,content:i.value,page_uuid:r.page,status:r.status,is_published:!0,space_uuid:r.space,from_version:r.version};a.post(a.urls.page_draft_update.format(r.team,r.space,r.draft),g).then(function(y){let $={team:r.team,space:r.space,page:y.data.page_uuid};t.push({name:"Page",params:$})})},h=()=>{a.get(a.urls.draft_get.format(r.team,r.space,r.draft)).then(function(g){n.value=g.data.title,i.value=g.data.content,r.draft=g.data.uuid,r.page=g.data.page_uuid,a.$parent.page=r.page})},v=()=>{a.get(a.urls.page_get.format(r.team,r.space,r.page)).then(function(g){g.data&&g.data.draft_uuid&&g.data.draft_uuid.length===8?(r.draft=g.data.draft_uuid,h()):(n.value=g.data.title,i.value=g.data.content,r.version=g.data.version)})};return J([n,i],()=>{r.loaded&&(r.ing=0,r.list.push(!0))}),(g,y)=>{const $=R("ckeditor");return d(),u("div",Sh,[e("div",Ch,[Ih,e("div",zh,[e("div",Th,[s(r).ing===0?(d(),u("div",Mh,"\u5373\u5C06\u4FDD\u5B58...")):s(r).ing===1?(d(),u("div",Lh,"\u6B63\u5728\u4FDD\u5B58...")):s(r).ing===2?(d(),u("div",Dh,"\u8349\u7A3F\u5DF2\u4FDD\u5B58")):z("",!0)]),x(Fe,{onSubmit:s(c),title:"\u8FD4\u56DE",fill:s(r).fill,disabled:s(r).list&&s(r).list.length>0},null,8,["onSubmit","fill","disabled"]),x(Fe,{onSubmit:s(f),style:{"margin-left":"10px"},title:"\u53D1\u5E03",disabled:s(r).list&&s(r).list.length>0},null,8,["onSubmit","disabled"])])]),e("div",Bh,[e("div",Ph,[e("div",Vh,[U(e("input",{type:"text",class:"title","onUpdate:modelValue":y[0]||(y[0]=k=>oe(n)?n.value=k:n=k),placeholder:"\u6211\u7684\u6807\u9898"},null,512),[[O,s(n)]])]),e("div",Hh,[x($,{editor:s(r).editor,onReady:s(p),modelValue:s(i),"onUpdate:modelValue":y[1]||(y[1]=k=>oe(i)?i.value=k:i=k),config:s(r).editorConfig},null,8,["editor","onReady","modelValue","config"])])])])])}}};var Tt=B(Uh,[["__scopeId","data-v-01b5d9d8"]]);const qh={setup(l){return(a,o)=>(d(),E(Tt))}},Mt={setup(l){return(a,o)=>(d(),E(Tt))}},Nh=e("div",{class:"px-4 py-3 b-line fs-c10"},"\u9875\u9762\u7EC4\u7BA1\u7406",-1),Fh={class:"px-3 pt-4 px-5"},Eh={class:"mb-4"},Ah=e("label",{for:"exampleFormControlInput1",class:"form-label"},"\u9875\u9762\u7EC4\u540D\u79F0",-1),Rh={class:"mb-4"},Oh=e("label",{for:"exampleFormControlInput1",class:"form-label"},"\u9875\u9762\u7EC4\u63CF\u8FF0",-1),Gh={class:"flex-row flex mb-4"},Wh={style:{flex:"0 0 auto"}},Kh=e("div",{style:{flex:"1"}},null,-1),Jh=e("div",{style:{flex:"0 0 auto"}},[e("button",{type:"button",class:"btn btn-danger"},"\u5220\u9664\u9875\u9762\u7EC4")],-1),Lt={setup(l){let{proxy:a}=I(),o=j();T();let t=S({team:o.params.team,space:o.params.space,title:"",description:"",disabled:!0});C(()=>{n()});let n=()=>{a.get(a.urls.space_get.format(t.team,t.space)).then(function(p){t.title=p.data.title,t.description=p.data.description})},i=()=>{t.disabled=!1},r=()=>{a.post(a.urls.space_update.format(t.team,t.space),{title:t.title,description:t.description}).then(function(p){p.data.code===200&&(t.disabled=!0,a.bus.emit("alertSuccess","\u66F4\u65B0\u6210\u529F"))}).catch(function(p){a.bus.emit("alertDanger",p.response.data.errcode)})};return(p,c)=>(d(),u(w,null,[Nh,e("div",Fh,[e("div",Eh,[Ah,U(e("input",{type:"email",class:"form-control",id:"exampleFormControlInput1","onUpdate:modelValue":c[0]||(c[0]=_=>s(t).title=_),required:"",onChange:c[1]||(c[1]=(..._)=>s(i)&&s(i)(..._)),onKeydown:c[2]||(c[2]=(..._)=>s(i)&&s(i)(..._))},null,544),[[O,s(t).title]])]),e("div",Rh,[Oh,U(e("textarea",{class:"form-control",id:"exampleFormControlTextarea1",rows:"3","onUpdate:modelValue":c[3]||(c[3]=_=>s(t).description=_),required:"",onChange:c[4]||(c[4]=(..._)=>s(i)&&s(i)(..._)),onKeydown:c[5]||(c[5]=(..._)=>s(i)&&s(i)(..._))},null,544),[[O,s(t).description]])]),e("div",Gh,[e("div",Wh,[x(ae,{disabled:s(t).disabled,title:"\u66F4\u65B0\u4FE1\u606F",onSubmit:s(r)},null,8,["disabled","onSubmit"])]),Kh,Jh])])],64))}},Yh={class:"flex-column flex flex-fill px-4 pb-4"},Qh={setup(l){let{proxy:a}=I(),o=j();T();let t=S({team:o.params.team,space:o.params.space,project:"",maps:{view:{code:2003,permission:"view_page",title:"\u9605\u89C8\u4E0E\u53CD\u9988",desc:"\u5141\u8BB8\u7528\u6237\u8FDB\u5165\u9875\u9762\u7EC4\u5E76\u67E5\u770B\u9875\u9762",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},create:{code:2002,permission:"create_page",title:"\u7F16\u8F91\u5185\u5BB9",desc:"\u5141\u8BB8\u7528\u6237\u65B0\u5EFA\u3001\u7F16\u8F91\u3001\u5220\u9664\u9875\u9762",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]},manage:{code:2001,permission:"manage_space",title:"\u7BA1\u7406\u9875\u9762\u7EC4",desc:"\u5141\u8BB8\u7528\u6237\u4F7F\u7528\u9875\u9762\u7EC4\u63A7\u5236\u53F0\uFF0C\u7BA1\u7406\u9875\u9762\u56DE\u6536\u7AD9",groups:[],roles:[],members:[],in_roles:["everyone","team_owner"]}},role_members:[],data:{},loaded:!1});C(()=>{t.space=o.params.space,t.team=o.params.team,t.data={permission_rule:{context_type:"space",context_param:{space_uuid:t.space}}},n()});let n=()=>{let r=[];for(let p in t.maps)r.push(t.maps[p].code);a.post(a.urls.space_user_domain_group.format(t.team,t.space),r).then(function(p){for(let c in t.maps){let _=t.maps[c];_.groups=[]}if(p.data&&p.data.length>0)for(let c in t.maps){let _=t.maps[c];for(let m=0;m<p.data.length;m++){let f=p.data[m];if(f.permission===_.code){_.groups=f.groups;break}}}i()})},i=()=>{a.get(a.urls.team_member_list.format(t.team)).then(function(r){if(r.data&&r.data&&r.data.length>0){let p=[];for(let c=0;c<r.data.length;c++){let _=r.data[c];_.type="single_user",p.push(_)}for(let c in t.maps){let _=t.maps[c];_.members=p}}t.loaded=!0})};return(r,p)=>(d(),u(w,null,[x(ee,{title:"\u9875\u9762\u7EC4\u6743\u9650"}),e("div",Yh,[s(t).loaded?(d(),E(le,{key:0,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.view,onLoadPermissionData:s(n)},null,8,["role_members","data","group","onLoadPermissionData"])):z("",!0),s(t).loaded?(d(),E(le,{key:1,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.create,onLoadPermissionData:s(n)},null,8,["role_members","data","group","onLoadPermissionData"])):z("",!0),s(t).loaded?(d(),E(le,{key:2,role_members:s(t).role_members,data:s(t).data,group:s(t).maps.manage,onLoadPermissionData:s(n)},null,8,["role_members","data","group","onLoadPermissionData"])):z("",!0)])],64))}},Zh={},Xh={class:"px-4 py-3 b-line fs-c10"};function e9(l,a){return d(),u("div",Xh,"\u56DE\u6536\u7AD9")}var t9=B(Zh,[["render",e9]]);const Dt=l=>(N("data-v-ece361ca"),l=l(),F(),l),s9={class:"flex-row flex flex-fill"},a9={class:"space-group-setting",style:{flex:"0 0 300px",padding:"20px 0 0 20px"}},l9=Dt(()=>e("div",{style:{color:"#444444"}},[e("i",{class:"bi bi-arrow-left-circle-fill"})],-1)),o9=Dt(()=>e("div",{style:{"margin-left":"10px","font-size":"18px"}}," \u6587\u6863\u914D\u7F6E\u4E2D\u5FC3 ",-1)),i9=[l9,o9],n9=H("\u9875\u9762\u7EC4\u4FE1\u606F"),r9=H("\u9875\u9762\u7EC4\u6743\u9650"),d9=H("\u56DE\u6536\u7AD9"),c9={class:"flex-column flex flex-fill",style:{"overflow-y":"auto","min-height":"100%"}},p9={class:"jiBox mt-4 me-4 mb-4 flex-fill"},u9={setup(l){let{proxy:a}=I(),o=j(),t=T(),n=S({team:o.params.team,space:o.params.space,page:o.params.page,com:"info",tagIndex:1});C(()=>{n.team=o.params.team,n.space=o.params.space,n.com=o.params.type,r()}),J(()=>o.params,c=>{n.com=o.params.type});let i=X(()=>{let c=Lt;switch(n.com){case"info":n.tagIndex=1,c=Lt;break;case"permissions":n.tagIndex=2,c=Qh;break;case"recycle":n.tagIndex=3,c=t9;break}return c}),r=()=>{a.get(a.urls.default_main_page.format(n.team,n.space)).then(function(c){n.page=c.data.uuid})},p=()=>{t.push({name:"Space",params:{team:n.team,space:n.space}})};return(c,_)=>{const m=R("router-link");return d(),u("div",s9,[e("div",a9,[e("div",{class:"flex-row flex align-items-center",style:{flex:"0",width:"100%","margin-bottom":"10px",cursor:"pointer"},onClick:_[0]||(_[0]=(...f)=>s(p)&&s(p)(...f))},i9),e("div",{class:V(["justify-content-center",{active:s(n).tagIndex===1}])},[x(m,{to:{name:"SpaceSettings",params:{team:s(n).team,space:s(n).space,type:"info"}}},{default:L(()=>[n9]),_:1},8,["to"])],2),e("div",{class:V({active:s(n).tagIndex===2})},[x(m,{to:{name:"SpaceSettings",params:{team:s(n).team,space:s(n).space,type:"permissions"}}},{default:L(()=>[r9]),_:1},8,["to"])],2),e("div",{class:V({active:s(n).tagIndex===3})},[x(m,{to:{name:"SpaceSettings",params:{team:s(n).team,space:s(n).space,type:"recycle"}}},{default:L(()=>[d9]),_:1},8,["to"])],2)]),e("div",c9,[e("div",p9,[(d(),E(de(s(i))))])])])}}};var _9=B(u9,[["__scopeId","data-v-ece361ca"]]);const m9={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},f9={style:{flex:"0 0 auto",display:"flex"}},h9=e("span",{class:"fs-c10"},"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1),x9=e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),v9={style:{color:"#909090"}},g9={class:"px-4"},y9=e("div",{style:{flex:"0 0 auto",width:"30px","padding-top":"5px"}},[e("div",{style:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle"}},[e("svg",{t:"1600923190201",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"8255",width:"16",height:"16"},[e("path",{d:"M488.496187 960.193409H80.458195V63.659232h745.638222v327.579795c0 16.356886 13.26234 29.619226 29.619226 29.619226s29.619226-13.26234 29.619225-29.619226V34.187365c0-7.957404-3.094546-15.325371-8.6942-20.925025-5.599655-5.599655-12.967621-8.694201-20.925025-8.694201H50.83897C43.028925 4.568139 35.513599 7.662685 29.913944 13.26234 24.31429 18.861995 21.367103 26.229961 21.367103 34.187365v955.62527c0 7.810045 3.094546 15.47273 8.694201 20.925025 5.599655 5.599655 12.967621 8.694201 20.925025 8.694201h437.657217c16.356886 0 29.619226-13.26234 29.619226-29.619226-0.147359-16.356886-13.409699-29.619226-29.766585-29.619226z",fill:"#707070","p-id":"8256"}),e("path",{d:"M460.055835 577.943301c-11.346669-37.134552-45.828752-62.775076-84.878975-62.775075s-73.384947 25.640524-84.878975 62.775075H156.495611c-16.356886 0-29.619226 13.26234-29.619226 29.619226 0 16.356886 13.26234 29.619226 29.619226 29.619226h136.307382c13.557059 33.450568 46.27083 55.701828 82.373867 55.701827s68.816808-22.251259 82.373867-55.701827h171.820981c16.356886 0 29.619226-13.26234 29.619226-29.619226 0-16.356886-13.26234-29.619226-29.619226-29.619226H460.055835z m-55.11239 26.082602c0 16.356886-13.26234 29.619226-29.766585 29.766585C358.819974 633.645129 345.557634 620.382789 345.557634 604.025903s13.26234-29.766585 29.766585-29.766585c7.957404 0 15.325371 3.094546 20.925025 8.6942 5.599655 5.599655 8.694201 13.114981 8.694201 21.072385zM156.495611 254.931645h137.633616c14.293855 32.124334 45.828752 52.754641 81.047633 52.754641s66.753778-20.630307 81.047633-52.754641h293.687149c10.462513 0 20.335588-5.599655 25.640524-14.735933 5.304936-9.136279 5.304936-20.482947 0-29.619226-5.304936-9.136279-15.030652-14.735933-25.640524-14.735933H460.939991c-10.315153-38.313426-45.828752-65.869622-85.763131-65.869622s-75.447978 27.408836-85.763131 65.869622H156.495611c-10.462513 0-20.335588 5.599655-25.640524 14.735933-5.304936 9.136279-5.304936 20.482947 0 29.619226 5.304936 8.988919 15.178011 14.735933 25.640524 14.735933zM345.557634 218.681249c0-16.356886 13.26234-29.619226 29.766585-29.619226 7.957404 0 15.325371 3.094546 20.925025 8.694201 5.599655 5.599655 8.694201 13.114981 8.694201 20.925025 0 16.356886-13.26234 29.619226-29.766585 29.766585-16.356886 0-29.619226-13.409699-29.619226-29.766585zM1000.717226 560.5549c-1.326234-7.810045-5.452295-14.588574-11.936106-19.304073l-122.602965-88.12088c-6.483811-4.568139-14.293855-6.483811-22.1039-5.157577-7.810045 1.326234-14.588574 5.452295-19.304072 11.936106L592.973953 782.478054c-2.505109 3.389265-4.126061 7.367967-5.010217 11.494028L551.860699 973.455749c-2.357749 11.346669 2.357749 23.135415 11.788747 29.913944 5.157577 3.683983 11.199309 5.599655 17.241042 5.599655 5.157577 0 10.167794-1.326234 14.735933-3.978702l158.706001-91.362786c3.683983-2.063031 6.778529-4.862858 9.283638-8.399482l231.943589-322.569578c4.568139-6.483811 6.483811-14.293855 5.157577-22.1039z m-70.437761 11.494028L719.260901 865.441358 622.740538 920.995827l21.956541-109.193265 211.018564-293.392431 74.563822 53.638797zM770.984026 437.362498c5.599655-5.599655 8.694201-12.967621 8.694201-20.925025 0-7.957404-3.094546-15.325371-8.694201-20.925025-5.599655-5.599655-12.967621-8.694201-20.925025-8.694201h-126.581666c-10.904591-38.018708-45.534034-64.248669-85.321054-64.248669s-74.416463 26.229961-85.321053 64.248669H156.495611c-16.356886 0-29.619226 13.26234-29.619226 29.619226 0 16.356886 13.26234 29.619226 29.619226 29.619226h300.0236c13.851777 32.566412 46.27083 54.228234 81.78443 54.228234 35.36624 0 67.785293-21.661822 81.63707-54.228234h130.11829c7.810045 0 15.325371-3.094546 20.925025-8.694201z m-232.827745 3.683984c-16.356886 0-29.619226-13.409699-29.766585-29.766586 0-16.356886 13.409699-29.619226 29.766585-29.619225s29.619226 13.409699 29.766586 29.619225c0 16.504245-13.409699 29.766585-29.766586 29.766586z",fill:"#707070","p-id":"8257"})])])],-1),b9=se('<div style="flex:1;margin-left:5px;"><div style="font-size:15px;">\u5DE5\u4F5C\u9879\u5C5E\u6027</div><div style="color:#aaaaaa;">\u5DE5\u4F5C\u9879\u5C5E\u6027\u53EF\u4EE5\u7528\u4E8E\u5B9A\u5236\u5BF9\u5E94\u5DE5\u4F5C\u9879\u7C7B\u578B\u7684\u663E\u793A\u5B57\u6BB5\uFF0C\u652F\u6301\u591A\u79CD\u7C7B\u578B\u7684\u7279\u6B8A\u5B9A\u5236\u3002</div></div><div style="flex:0 0 auto;"><div style="display:flex;flex:1;flex-direction:column;align-items:center;justify-content:center;vertical-align:middle;height:100%;"><i class="bi bi-chevron-right fs-c10"></i></div></div>',2),$9=[y9,b9],w9=e("div",{style:{flex:"0 0 auto",width:"30px","padding-top":"5px"}},[e("div",{style:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle"}},[e("svg",{t:"1600923240386",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9101",width:"16",height:"16"},[e("path",{d:"M851.49696 979.49696H177.4592c-37.23264 0-67.39968-28.16-67.39968-62.93504V444.74368c0-34.73408 30.18752-62.89408 67.39968-62.89408h674.03776c37.21216 0 67.39968 28.18048 67.39968 62.89408v471.81824c0 34.75456-30.18752 62.93504-67.39968 62.93504zM514.4576 539.136c-55.84896 0-101.10976 42.22976-101.10976 94.35136 0 31.47776 16.73216 59.12576 42.16832 76.1856a18.0224 18.0224 0 0 1 8.37632 14.86848v79.99488c0 27.11552 22.6304 49.13152 50.56512 49.13152 27.89376 0 50.54464-22.016 50.54464-49.13152v-79.99488c0-6.08256 3.33824-11.4688 8.37632-14.86848 25.43616-17.08032 42.16832-44.70784 42.16832-76.1856 0.02048-52.1216-45.21984-94.35136-101.08928-94.35136z m0-408.94464c-106.25024 0-193.37216 76.4928-201.58464 173.69088-0.7168 8.37632-7.2704 15.03232-15.6672 15.03232h-69.77536c-8.88832 0-16.32256-7.41376-15.79008-16.30208C220.69248 153.86624 352.80896 35.84 514.4576 35.84s293.76512 118.02624 302.81728 266.77248c0.53248 8.88832-6.90176 16.30208-15.79008 16.30208h-69.77536c-8.41728 0-14.97088-6.656-15.6672-15.03232-8.21248-97.19808-95.3344-173.69088-201.58464-173.69088z",fill:"#707070","p-id":"9102"})])])],-1),k9=se('<div style="flex:1;margin-left:5px;"><div style="font-size:15px;">\u5DE5\u4F5C\u9879\u6743\u9650</div><div style="color:#aaaaaa;">\u5DE5\u4F5C\u9879\u6743\u9650\u53EF\u4EE5\u7528\u4E8E\u5B9A\u5236\u5DE5\u4F5C\u9879\u7684\u64CD\u4F5C\u6743\u9650\u63A7\u5236\u3002</div></div><div style="flex:0 0 auto;"><div style="display:flex;flex:1;flex-direction:column;align-items:center;justify-content:center;vertical-align:middle;height:100%;"><i class="bi bi-chevron-right fs-c10"></i></div></div>',2),j9=[w9,k9],S9=e("div",{style:{flex:"0 0 auto",width:"30px","padding-top":"5px"}},[e("div",{style:{display:"flex",flex:"1","flex-direction":"column","align-items":"center","justify-content":"center","vertical-align":"middle"}},[e("svg",{t:"1600922992066",class:"icon",viewBox:"0 0 1071 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"6388",width:"16",height:"16"},[e("path",{d:"M884.364 465.455h-46.546c-25.716 0-46.545-20.83-46.545-46.546s20.829-46.545 46.545-46.545h46.546c51.41 0 93.09-41.682 93.09-93.091 0-51.41-41.68-93.091-93.09-93.091h-46.546c-25.716 0-46.545-20.853-46.545-46.546 0-25.716 20.829-46.545 46.545-46.545h46.546c102.819 0 186.181 83.363 186.181 186.182 0 102.819-83.362 186.182-186.181 186.182zM721.454 1024H349.092c-25.716 0-46.546-20.852-46.546-46.545V791.273c0-25.717 20.83-46.546 46.546-46.546h372.364c25.716 0 46.545 20.83 46.545 46.546v186.182c0 25.693-20.83 46.545-46.545 46.545z m-93.09-186.182H442.182c-25.717 0-46.546 20.83-46.546 46.546s20.83 46.545 46.546 46.545h186.182c25.716 0 46.545-20.829 46.545-46.545 0-25.717-20.829-46.546-46.545-46.546z m93.09-186.182H349.092c-25.716 0-46.546-20.852-46.546-46.545V418.909c0-25.716 20.83-46.545 46.546-46.545h372.364c25.716 0 46.545 20.829 46.545 46.545v186.182c0 25.693-20.83 46.545-46.545 46.545z m-93.09-186.181H442.182c-25.717 0-46.546 20.829-46.546 46.545s20.83 46.545 46.546 46.545h186.182c25.716 0 46.545-20.829 46.545-46.545s-20.829-46.545-46.545-46.545z m93.09-186.182H349.092c-25.716 0-46.546-20.853-46.546-46.546V46.545C302.545 20.83 323.375 0 349.091 0h372.364C747.17 0 768 20.83 768 46.545v186.182c0 25.693-20.83 46.546-46.545 46.546zM628.365 93.09H442.182c-25.717 0-46.546 20.829-46.546 46.545 0 25.693 20.83 46.546 46.546 46.546h186.182c25.716 0 46.545-20.853 46.545-46.546 0-25.716-20.829-46.545-46.545-46.545zM186.182 791.273h46.545c25.717 0 46.546 20.829 46.546 46.545 0 25.693-20.83 46.546-46.546 46.546h-46.545C83.362 884.364 0 801 0 698.182 0 595.362 83.363 512 186.182 512h46.545c25.717 0 46.546 20.83 46.546 46.545 0 25.717-20.83 46.546-46.546 46.546h-46.545c-51.41 0-93.091 41.681-93.091 93.09 0 51.41 41.681 93.092 93.09 93.092z","p-id":"6389",fill:"#707070"})])])],-1),C9=se('<div style="flex:1;margin-left:5px;"><div style="font-size:15px;">\u5DE5\u4F5C\u9879\u5DE5\u4F5C\u6D41</div><div style="color:#aaaaaa;">\u5DE5\u4F5C\u6D41\u53EF\u4EE5\u7528\u4E8E\u5B9A\u5236\u5BF9\u5E94\u5DE5\u4F5C\u9879\u5728\u4E0D\u540C\u72B6\u6001\u9636\u6BB5\u7684\u6D41\u8F6C\u3002</div></div><div style="flex:0 0 auto;"><div style="display:flex;flex:1;flex-direction:column;align-items:center;justify-content:center;vertical-align:middle;height:100%;"><i class="bi bi-chevron-right fs-c10"></i></div></div>',2),I9=[S9,C9],z9={setup(l){const{proxy:a}=I();let o=T(),t=j(),n=S({team:t.params.team,title:t.params.title,issue_type:t.params.issue_type,items:[]});C(()=>{i()});let i=()=>{n.title||a.get(a.urls.issue_type_get.format(n.team,n.issue_type)).then(function(p){n.title=p.data.name})},r=p=>{o.push({name:"IssueTypeSetting",params:{team:n.team,issue_type:n.issue_type,title:n.title,type:p}})};return(p,c)=>{const _=R("router-link");return d(),u(w,null,[e("div",m9,[e("div",f9,[x(_,{to:{name:"IssueTypeSettingManager",params:{team:s(n).team}}},{default:L(()=>[h9]),_:1},8,["to"])]),x9,e("div",v9,b(s(n).title),1)]),e("div",g9,[e("div",{class:"flex-row flex py-4 pe-3 b-line pointer hover",onClick:c[0]||(c[0]=m=>s(r)("field"))},$9),e("div",{class:"flex-row flex py-4 pe-3 b-line pointer hover",onClick:c[1]||(c[1]=m=>s(r)("permission"))},j9),e("div",{class:"flex-row flex py-4 pe-3 b-line pointer hover",onClick:c[2]||(c[2]=m=>s(r)("flow"))},I9)])],64)}}},T9={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},M9={style:{flex:"0 0 auto",display:"flex"}},L9=e("span",{class:"fs-c10"},"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1),D9=e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),B9={class:"fs-c10"},P9=e("div",{style:{margin:"0 10px"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),V9=e("div",{class:"flex-fill"},[e("span",{style:{color:"#909090"}},"\u5DE5\u4F5C\u9879\u5C5E\u6027")],-1),H9={class:"flex-row flex align-items-center justify-content-end;"},U9={class:"px-4"},q9={class:"flex-row flex mt-3"},N9={style:{flex:"1"}},F9={class:"t-line l-line r-line mt-3"},E9={class:"table table-hover"},A9=e("thead",{class:"table-light"},[e("tr",null,[e("th",{scope:"col"},"\u5C5E\u6027\u540D\u79F0"),e("th",{scope:"col"},"\u5C5E\u6027\u7C7B\u578B"),e("th",{scope:"col"},"\u662F\u5426\u5FC5\u586B"),e("th",{scope:"col",class:"col-1"},"\u64CD\u4F5C")])],-1),R9={class:"flex-row flex align-items-center"},O9={style:{flex:"0 0 auto"}},G9={style:{flex:"0 0 auto",height:"100%",display:"flex","align-items":"center","margin-left":"5px"}},W9={key:0,style:{"border-radius":"20px!important",color:"#cecece",padding:"0 6px 0 6px",border:"solid 1px #cecece","font-size":"12px",height:"20px",flex:"0 0 auto","align-items":"center",display:"flex"}},K9={class:"td"},J9={key:0,style:{"font-weight":"bolder","text-align":"center",width:"30px"}},Y9=["onUpdate:modelValue","onChange"],Q9={key:1,style:{width:"30px",height:"2px"}},Z9=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),X9=[Z9],e7={class:"td align-items-center iop",style:{display:"flex",flex:"0 0 80px"}},t7={key:0,style:{"font-weight":"bolder","text-align":"center",width:"30px"},class:"del"},s7=e("i",{class:"bi bi-x-lg"},null,-1),a7=[s7],l7={key:1,style:{width:"30px",height:"2px"}},o7=e("div",{style:{width:"100%",height:"100%","background-color":"#e0e0e0"}},null,-1),i7=[o7],n7={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,project:o.params.project,issue_type:o.params.issue_type,title:o.params.title,name:"",fields:[],fieldTemplates:[],desc:"\u914D\u7F6E\u4E2D\u5FC3\u4E0B\uFF0C\u5DE5\u4F5C\u9879\u5C5E\u6027\u4FEE\u6539\uFF0C\u4E0D\u4F1A\u540C\u6B65\u5230\u5DF2\u7ECF\u5E94\u7528\u7684\u9879\u76EE\u4E2D\u3002"});C(()=>{n(),i()});let n=()=>{a.get(a.urls.issue_type_template_get.format(t.team,t.issue_type)).then(function(p){t.title=p.data.name,t.fieldTemplates=p.data.default_configs.default_field_configs})},i=()=>{a.post(a.urls.issue_type_field_list.format(t.team)).then(function(p){t.fields=p.data})},r=X(()=>{let p=[];if(t.fieldTemplates.length>0&&t.fields.length>0)for(let c=0;c<t.fieldTemplates.length;c++){let _={};for(let m=0;m<t.fields.length;m++)if(t.fieldTemplates[c].field_uuid===t.fields[m].uuid){Object.assign(_,t.fieldTemplates[c]),Object.assign(_,t.fields[m]);break}p.push(_)}return p});return(p,c)=>{const _=R("router-link");return d(),u(w,null,[e("div",T9,[e("div",M9,[x(_,{to:{name:"IssueTypeSettingManager",params:{team:s(t).team}}},{default:L(()=>[L9]),_:1},8,["to"])]),D9,e("div",null,[x(_,{to:{name:"IssueTypeSetting",params:{team:s(t).team,issue_type:s(t).issue_type,type:"config",title:s(t).title}}},{default:L(()=>[e("span",B9,b(s(t).title),1)]),_:1},8,["to"])]),P9,V9,e("div",H9,[x(fe,{desc:s(t).desc},null,8,["desc"])])]),e("div",U9,[e("div",q9,[e("div",N9,[x(Z,{placeholder:"\u641C\u7D22\u5DE5\u4F5C\u9879\u5C5E\u6027"})])]),e("div",F9,[e("table",E9,[A9,e("tbody",null,[(d(!0),u(w,null,M(s(r),m=>(d(),u("tr",{key:m.uuid},[e("td",null,[e("div",R9,[e("div",O9,b(m.name),1),e("div",G9,[m.built_in?(d(),u("div",W9,"\u7CFB\u7EDF")):z("",!0)])])]),e("td",null,b(p.filters.taskFieldType(m.type)),1),e("td",null,[e("div",K9,[m.can_modify_required?(d(),u("div",J9,[U(e("input",{type:"checkbox","onUpdate:modelValue":f=>m.required=f,name:"check-button",onChange:f=>p.toggle(m)},null,40,Y9),[[ve,m.required]])])):(d(),u("div",Q9,X9))])]),e("td",null,[e("div",e7,[m.can_delete?(d(),u("div",t7,a7)):(d(),u("div",l7,i7))])])]))),128))])])])])],64)}}};const ze=l=>(N("data-v-ea0a87ee"),l=l(),F(),l),r7={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},d7={style:{flex:"0 0 auto",display:"flex"}},c7=ze(()=>e("span",{class:"fs-c10"},"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1)),p7=ze(()=>e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1)),u7={class:"fs-c10"},_7=ze(()=>e("div",{style:{margin:"0 10px"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1)),m7=ze(()=>e("div",{class:"flex-fill"},[e("span",{style:{color:"#909090"}},"\u5DE5\u4F5C\u9879\u5DE5\u4F5C\u6D41")],-1)),f7={class:"flex-row flex align-items-center justify-content-end;"},h7={class:"px-4 pb-4"},x7={class:"t-line l-line r-line mt-3"},v7={class:"flex-column flex workFlowTable",style:{"border-left":"1px solid #dedede","border-top":"1px solid #dedede"}},g7={style:{flex:"1"}},y7={class:"flex-row flex",style:{flex:"1","background-color":"#f8f8f8","border-bottom":"1px solid #dedede",height:"60px"}},b7=se('<div style="flex:0 0 auto;display:flex;width:200px;height:60px;position:relative;" data-v-ea0a87ee><div style="flex:0 0 auto;border-right:1px solid #dedede;position:absolute;height:60px;width:200px;" data-v-ea0a87ee><div style="" class="table-head-title" data-v-ea0a87ee><div data-v-ea0a87ee><div class="start-status-title" style="height:initial;" data-v-ea0a87ee>\u5F00\u59CB\u72B6\u6001</div></div><div data-v-ea0a87ee><div class="end-status-title" style="height:initial;" data-v-ea0a87ee>\u76EE\u6807\u72B6\u6001</div></div></div></div></div>',1),$7={style:{flex:"1"},class:"flex-column flex"},w7={style:{flex:"0 0 200px",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px",width:"200px"}},k7={class:"flex-row flex"},j7={style:{flex:"0 0 auto"}},S7={key:0,style:{"margin-left":"5px"}},C7=ze(()=>e("div",{style:{"font-size":"12px",color:"#909090",display:"inline-block",height:"20px","line-height":"18px",border:"1px solid rgba(134,147,160,0.5)","border-radius":"20px",padding:"0px 8px"}},"\u521D\u59CB\u72B6\u6001",-1)),I7=[C7],z7=["onUpdate:modelValue","onChange"],T7={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,project:o.params.project,issue_type:o.params.issue_type,title:o.params.title,flows:[],headers:[],lock:!0,taskStatusConfigs:[],transitions:[],taskStatusItems:[],desc:"\u914D\u7F6E\u4E2D\u5FC3\u4E0B\uFF0C\u5DE5\u4F5C\u9879\u5DE5\u4F5C\u6D41\u4FEE\u6539\uFF0C\u4E0D\u4F1A\u540C\u6B65\u5230\u5DF2\u7ECF\u5E94\u7528\u7684\u9879\u76EE\u4E2D\u3002"});C(()=>{i()});let n=(p,c,_,m,f)=>{if(t.lock){t.lock=!1;let h={uuid:p,name:c,start_status:_,end_status:m,state:f};a.post(a.urls.project_issue_type_flow_submit.format(t.team,t.project,t.issue_type),h).then(function(){i(),t.lock=!0})}},i=()=>{a.get(a.urls.issue_type_template_get.format(t.team,t.issue_type)).then(function(p){t.title=p.data.name,t.taskStatusConfigs=p.data.default_configs.default_task_status_configs,t.transitions=p.data.default_configs.default_transitions,r()})},r=()=>{let p=[];for(let c=0;c<t.taskStatusConfigs.length;c++)p.push(t.taskStatusConfigs[c].status_uuid);a.post(a.urls.issue_type_task_status_list.format(t.team,t.issue_type),p).then(function(c){t.taskStatusItems=c.data,t.headers=[],t.flows=[];for(let _=0;_<t.taskStatusConfigs.length;_++){let m=t.taskStatusConfigs[_].status_uuid,f={items:[]};for(let h=0;h<t.taskStatusConfigs.length;h++){let v=t.taskStatusConfigs[h].status_uuid,g={start:m,end_uuid:v,uuid:"{0}-{1}".format(m,v)};for(let y=0;y<t.transitions.length;y++)if(t.transitions[y].start_status_uuid===m&&t.transitions[y].end_status_uuid===v){g.sel=!0;break}else g.sel=!1;f.items.push(g)}for(let h=0;h<t.taskStatusItems.length;h++)if(t.taskStatusConfigs[_].status_uuid===t.taskStatusItems[h].uuid){t.headers.push(t.taskStatusItems[h]),Object.assign(f,t.taskStatusItems[h]),t.flows.push(f);break}}})};return(p,c)=>{const _=R("router-link");return d(),u(w,null,[e("div",r7,[e("div",d7,[x(_,{to:{name:"IssueTypeSettingManager",params:{team:s(t).team}}},{default:L(()=>[c7]),_:1},8,["to"])]),p7,e("div",null,[x(_,{to:{name:"IssueTypeSetting",params:{team:s(t).team,issue_type:s(t).issue_type,type:"config",title:s(t).title}}},{default:L(()=>[e("span",u7,b(s(t).title),1)]),_:1},8,["to"])]),_7,m7,e("div",f7,[x(fe,{desc:s(t).desc},null,8,["desc"])])]),e("div",h7,[e("div",x7,[e("div",v7,[e("div",g7,[e("div",y7,[b7,(d(!0),u(w,null,M(s(t).headers,m=>(d(),u("div",{class:"flex-row flex align-items-center justify-content-center",style:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede"},key:m.uuid},[e("div",null,[x(Ue,{color:m.category.toString(),name:m.name},null,8,["color","name"])])]))),128))])]),e("div",$7,[(d(!0),u(w,null,M(s(t).flows,m=>(d(),u("div",{class:"flex-row flex align-items-center",style:{flex:"1","border-bottom":"1px solid #dedede"},key:m.uuid},[e("div",w7,[e("div",k7,[e("div",j7,[x(Ue,{color:m.category.toString(),name:m.name},null,8,["color","name"])]),m.default?(d(),u("div",S7,I7)):z("",!0)])]),(d(!0),u(w,null,M(m.items,f=>(d(),u("div",{class:"align-items-center flex-row flex justify-content-center",style:{flex:"1",padding:"0 10px","border-right":"1px solid #dedede","line-height":"48px",height:"48px"},key:f.uuid},[U(e("input",{style:{height:"16px",width:"16px"},type:"checkbox","onUpdate:modelValue":h=>f.sel=h,onChange:h=>s(n)(f.uuid,f.name,f.start_uuid,f.end_uuid,f.sel)},null,40,z7),[[ve,f.sel]])]))),128))]))),128))])])])])],64)}}};var M7=B(T7,[["__scopeId","data-v-ea0a87ee"]]);const L7={props:{group:Object,role_members:Array,data:Object,issue_type:String,issue_type_name:String},emits:["loadIssuePermissions"],setup(l,{emit:a}){const o=l,{proxy:t}=I();T();let n=j(),i=S({team:n.params.team,everyone:{uuid:"s3",name:"\u6240\u6709\u6210\u5458",desc:"\u5F53\u524D\u56E2\u961F\u6240\u6709\u6210\u5458",type:"everyone",param:""},project_assign:{uuid:"s16",name:"\u9879\u76EE\u8D1F\u8D23\u4EBA",type:"project_assign",param:""},team_owner:{uuid:"s10",name:"\u56E2\u961F\u8D1F\u8D23\u4EBA",type:"team_owner",param:""},template:{roles:{uuid:"role",title:"\u89D2\u8272",groups:[],exist:[]},members:{uuid:"member",title:"\u6210\u5458",groups:[],exist:[],isMember:!0}},exist:[],title:"",desc:"",permission:""});C(()=>{i.title=o.group.title.replace("#",o.issue_type_name),i.desc=o.group.desc.replace("#",o.issue_type_name),i.permission=o.group.permission});let r=(_,m)=>{o.data.permission_rule.permission=o.group.permission,o.data.permission_rule.user_domain_type=m,o.data.permission_rule.user_domain_param=_,t.post(t.urls.issue_type_permission_rules_add.format(i.team,o.issue_type),o.data).then(function(){a("loadIssuePermissions")})},p=_=>{t.get(t.urls.issue_type_permission_rule_delete.format(i.team,o.issue_type,_)).then(function(){a("loadIssuePermissions")})},c=X(()=>{let _=[],m=[],f=[];if(i.exist=[],o.group.groups)for(let k=0;k<o.group.groups.length;k++){let D=o.group.groups[k],K=!1;switch(D.type){case"single_user":f.push(D.param);for(let W=0;W<o.group.members.length;W++){let G=o.group.members[W];if(G.uuid===D.param){let Y={uuid:G.uuid,permission:D.uuid,name:G.name,type:"single_user"};i.exist.push(Y);break}}break;case"everyone":i.everyone.permission=D.uuid,i.exist.push(i.everyone);break;case"role":for(let W=0;W<o.group.roles.length;W++){let G=o.group.roles[W];if(G.uuid===D.param){G.permission=D.uuid,i.exist.push(G);break}}break;case"project_assign":i.project_assign.permission=D.uuid,i.exist.push(i.project_assign);break;default:K=!0;break}K||_.push(D.type)}let h=[];for(let k=0;k<o.group.in_roles.length;k++){let D=o.group.in_roles[k];h.push(i[D])}for(let k=0;k<o.group.roles.length;k++){let D=o.group.roles[k];D.param=D.uuid,h.push(D)}let v=[];for(let k=0;k<o.group.members.length;k++){let D=o.group.members[k];D.param=D.uuid,v.push(D)}let g=i.template,y=[];for(let k=0;k<h.length;k++){let D=h[k],K=!1;for(let W=0;W<_.length;W++)if(D.type===_[W]){K=!0;break}K||y.push(D)}g.roles.groups=y,m.push(g.roles);let $=[];for(let k=0;k<v.length;k++){let D=v[k],K=!1;for(let W=0;W<f.length;W++)if(D.uuid===f[W]){K=!0;break}K||$.push(D)}return g.members.groups=$,m.push(g.members),m});return(_,m)=>(d(),E(wt,{exist:s(i).exist,items:s(c),title:s(i).title,desc:s(i).desc,onAdd:s(r),onDel:s(p)},null,8,["exist","items","title","desc","onAdd","onDel"]))}},D7={class:"flex-row flex b-line align-items-center px-4 py-3 fs-c10"},B7={style:{flex:"0 0 auto",display:"flex"}},P7=e("span",{class:"fs-c10"},"\u5DE5\u4F5C\u9879\u7C7B\u578B",-1),V7=e("div",{style:{flex:"0 0 auto",margin:"0 10px",display:"flex"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),H7={class:"fs-c10"},U7=e("div",{style:{margin:"0 10px"}},[e("svg",{t:"1600623000490",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7272",width:"10",height:"10"},[e("path",{d:"M810.217293 510.20351q0-10.778943-10.778943-21.557886L321.571884 10.779158a34.449501 34.449501 0 0 0-25.150866-10.778942q-10.778943 0-21.557886 10.778942L224.561399 61.080892a34.449501 34.449501 0 0 0-10.778943 25.150866q0 10.778943 10.778943 21.557886l402.413866 402.413866L224.561399 916.210356q-10.778943 10.778943-10.778943 21.557886a34.449501 34.449501 0 0 0 10.778943 25.150866l50.301733 50.301734q10.778943 10.778943 21.557886 10.778942a34.449501 34.449501 0 0 0 25.150866-10.778942l477.866466-477.866466a34.449501 34.449501 0 0 0 10.778943-25.150866z","p-id":"7273",fill:"#8a8a8a"})])],-1),q7=e("div",{class:"flex-fill"},[e("span",{style:{color:"#909090"}},"\u5DE5\u4F5C\u9879\u6743\u9650")],-1),N7={class:"flex-row flex align-items-center justify-content-end;"},F7={key:0,class:"px-4 pb-4"},E7={setup(l){const{proxy:a}=I();T();let o=j(),t=S({team:o.params.team,issue_type:o.params.issue_type,title:o.params.title,maps:{create:{permission:"create_tasks",title:"\u521B\u5EFA#",desc:"\u5141\u8BB8\u6210\u5458\u521B\u5EFA#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},view:{permission:"view_tasks",title:"\u67E5\u770B#",desc:"\u5141\u8BB8\u6210\u5458\u67E5\u770B#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},update:{permission:"update_tasks",title:"\u7F16\u8F91#",desc:"\u5141\u8BB8\u6210\u5458\u4FEE\u6539#\uFF0C\u4EE5\u53CA\u5BF9#\u8FDB\u884C\u5176\u4ED6\u53D8\u66F4\u64CD\u4F5C",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},delete:{permission:"delete_tasks",title:"\u5220\u9664#",desc:"\u5141\u8BB8\u6210\u5458\u5220\u9664#",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]},transit:{permission:"transit_tasks",title:"\u66F4\u65B0#\u72B6\u6001",desc:"\u5141\u8BB8\u6210\u5458\u66F4\u65B0#\u72B6\u6001",groups:[],roles:[],members:[],in_roles:["everyone","project_assign"]}},role_members:[],loaded:!1,data:{permission_rule:{}},desc:"\u914D\u7F6E\u4E2D\u5FC3\u4E0B\uFF0C\u5DE5\u4F5C\u9879\u6743\u9650\u4FEE\u6539\uFF0C\u4E0D\u4F1A\u540C\u6B65\u5230\u5DF2\u7ECF\u5E94\u7528\u7684\u9879\u76EE\u4E2D\u3002"});C(()=>{n()});let n=()=>{a.get(a.urls.issue_type_template_get.format(t.team,t.issue_type)).then(function(r){t.title=r.data.name;let p=r.data.default_configs.default_permission;for(let c in t.maps){let _=t.maps[c];_.groups=[]}for(let c in t.maps){let _=[],m=t.maps[c];for(let f=0;f<p.length;f++){let h=p[f];if(h.permission===m.permission){let v={uuid:h.uuid,param:h.user_domain_param,type:h.user_domain_type};_.push(v)}}m.groups=_}i()})},i=()=>{a.get(a.urls.team_roles_members.format(t.team)).then(function(r){for(let p in t.maps){let c=t.maps[p],_=[];for(let f=0;f<r.data.roles.length;f++){let h=r.data.roles[f],v={type:"role",name:h.name,name_pinyin:h.name_pinyin,uuid:h.uuid};_.push(v)}let m=[];for(let f=0;f<r.data.members.length;f++){let h=r.data.members[f];h.type="single_user",m.push(h)}c.roles=_,c.members=m}t.loaded=!0})};return(r,p)=>{const c=R("router-link");return d(),u(w,null,[e("div",D7,[e("div",B7,[x(c,{to:{name:"IssueTypeSettingManager",params:{team:s(t).team}}},{default:L(()=>[P7]),_:1},8,["to"])]),V7,e("div",null,[x(c,{to:{name:"IssueTypeSetting",params:{team:s(t).team,issue_type:s(t).issue_type,type:"config",title:s(t).title}}},{default:L(()=>[e("span",H7,b(s(t).title),1)]),_:1},8,["to"])]),U7,q7,e("div",N7,[x(fe,{desc:s(t).desc},null,8,["desc"])])]),s(t).loaded?(d(),u("div",F7,[(d(!0),u(w,null,M(s(t).maps,(_,m)=>(d(),E(L7,{role_members:s(t).role_members,data:s(t).data,group:_,issue_type_name:s(t).title,issue_type:s(t).issue_type,key:m,onLoadIssuePermissions:s(n)},null,8,["role_members","data","group","issue_type_name","issue_type","onLoadIssuePermissions"]))),128))])):z("",!0)],64)}}},A7={components:{config:z9,field:n7,flow:M7,permission:E7},setup(){let l=j(),a=S({currentTabComponent:"config",tagIndex:11});C(()=>{o()}),J(()=>l.params,()=>{o()});let o=()=>{a.currentTabComponent=l.params.type};return{self:a}}};function R7(l,a,o,t,n,i){return d(),E(de(t.self.currentTabComponent))}var O7=B(A7,[["render",R7]]);const G7=[{path:"/",meta:{title:"\u7231\u65AF\u56ED - \u4E0A\u5584\u82E5\u6C34\uFF0C\u8D24\u8D24\u6613\u8272"},name:"Index",component:el},{path:"/reg",meta:{title:"\u6CE8\u518C - \u7231\u65AF\u56ED"},name:"Reg",component:Bl},{path:"/logout",meta:{title:"\u9000\u51FA\u767B\u5F55"},name:"Logout",component:Hl},{path:"/help",meta:{title:"\u7231\u65AF\u56ED - \u5E2E\u52A9\u6587\u6863"},name:"Help",component:ro},{path:"/team",meta:{title:"\u6211\u7684\u5DE5\u4F5C\u53F0"},name:"Layout",component:Fa,children:[{path:":team/setting/project",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3"},name:"ProjectSetting",component:bt,children:[{path:"manager",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"ProjectSettingManager",component:Q3},{path:"field",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"ProjectSettingField",component:pf},{path:"status",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"ProjectSettingStatus",component:bf},{path:":project/permission",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"ProjectPermissionSetting",component:F8}]},{path:":team/setting/issue_type",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3"},name:"TeamIssueTypeSetting",component:bt,children:[{path:"manager",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"IssueTypeSettingManager",component:Hf},{path:"field",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"IssueTypeSettingField",component:b8},{path:"status",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"IssueTypeSettingStatus",component:I8},{path:"priority",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"IssueTypeSettingPriority",component:q8},{path:":issue_type/:type",meta:{title:"\u9879\u76EE\u914D\u7F6E\u4E2D\u5FC3",tagIndex:82},name:"IssueTypeSetting",component:O7}]},{path:":team/project_list",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21},name:"Projects",component:_n},{path:":team/project_add",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21},name:"AddProject",component:O3},{path:":team/project/:project",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21},name:"Project",component:G3},{path:":team/wiki",meta:{title:"\u6587\u6863\u4E2D\u5FC3",tagIndex:23},name:"Spaces",component:Jn},{path:":team/setting/wiki/:type",meta:{title:"\u6587\u6863\u914D\u7F6E\u4E2D\u5FC3",tagIndex:83},name:"WikiSetting",component:Gr},{path:":team/setting/:type",meta:{title:"\u56E2\u961F\u914D\u7F6E\u4E2D\u5FC3",tagIndex:26},name:"TeamSetting",component:_c},{path:":team/center/:type",meta:{title:"\u4E2A\u4EBA\u4E2D\u5FC3"},name:"Center",component:H3},{path:":team/workbench/:type",meta:{title:"\u6211\u7684\u5DE5\u4F5C\u53F0",tagIndex:1},name:"Workbench",component:Bi},{path:":team/project/:project/component/:com",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21,tab:"project"},name:"Component",component:qe},{path:":team/project/:project/component/:com/:attr",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21,tab:"project"},name:"ComponentDesigner",component:qe},{path:":team/project/:project/component/:com/issue_type/:issue_type/:attr",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21,tab:"project"},name:"ComponentIssueTypeDesigner",component:qe},{path:":team/project/:project/component/:com/task/:task",meta:{title:"\u9879\u76EE\u7BA1\u7406",tagIndex:21,tab:"project"},name:"Task",component:qe}]},{path:"/team",meta:{title:"\u6587\u6863"},name:"Wiki",component:lo,children:[{path:":team/space/:space",meta:{title:"\u6587\u6863\u4E2D\u5FC3"},name:"Space",component:E8},{path:":team/space/:space/article",meta:{title:"\u6587\u6863\u4E2D\u5FC3"},name:"Article",component:B5,children:[{path:"page/:page",meta:{title:"\u6587\u6863\u4E2D\u5FC3"},name:"Page",component:oh},{path:"draft/:draft",meta:{title:"\u6587\u6863\u4E2D\u5FC3"},name:"Draft",component:kh}]},{path:":team/space/:space/page/:page/add",meta:{title:"\u6DFB\u52A0\u9875\u9762"},name:"AddPage",component:qh},{path:":team/space/:space/page/:page/edit",meta:{title:"\u7F16\u8F91\u9875\u9762"},name:"EditPage",component:Mt},{path:":team/space/:space/draft/:draft/edit",meta:{title:"\u7F16\u8F91\u9875\u9762"},name:"EditDraft",component:Mt},{path:":team/space/:space/settings/:type",meta:{title:"\u9875\u9762\u7EC4\u8BBE\u7F6E",tagIndex:83},name:"SpaceSettings",component:_9}]}],Bt=Vt({history:Ht(),routes:G7});String.prototype.format=function(){let l=arguments;return this.replace(/\{(\d+)\}/g,function(a,o){return l[o]})};let W7={team_create:"/api/team",login_url:"/api/login",check_login_status:"/api/check_login_status",logout:"/api/logout",send_phone_code:"/api/send_phone_code/{0}",user_get:"/api/user/{0}",user_update:"/api/user/{0}/update",teams_get:"/api/get_teams",team_add:"/api/add_team",team_get:"/api/team/{0}",team_default_set:"/api/team/{0}/set_team_default",team_global_setting:"/api/team/{0}/global_setting",team_global_setting_update:"/api/team/{0}/global_setting_update",team_update:"/api/team/{0}/update",team_member_list:"/api/team/{0}/get_team_members",team_member_add:"/api/team/{0}/members/add",team_member_update:"/api/team/{0}/members/update",team_member_delete:"/api/team/{0}/members/delete",team_project_list:"/api/team/{0}/projects",team_recent_projects:"/api/team/{0}/recent_projects",team_recent_spaces:"/api/team/{0}/recent_spaces",team_roles_members:"/api/team/{0}/team_roles_members",team_user_get:"/api/team/{0}/user/{1}",upload:"/api/team/{0}/upload",space_add:"/api/team/{0}/spaces/add",space_get:"/api/team/{0}/space/{1}",space_update:"/api/team/{0}/space/{1}/update",space_pin:"/api/team/{0}/space/{1}/pin",space_unpin:"/api/team/{0}/space/{1}/unpin",space_user_domain_group:"/api/team/{0}/space/{1}/space_user_domain_group",spaces:"/api/team/{0}/spaces",page_tree_get:"/api/team/{0}/space/{1}/page_tree_get",default_main_page:"/api/team/{0}/space/{1}/default_main_page",page_get:"/api/team/{0}/space/{1}/page/{2}",page_draft_add:"/api/team/{0}/space/{1}/page_draft_add",page_draft_update:"/api/team/{0}/space/{1}/draft/{2}/update",drafts:"/api/team/{0}/space/{1}/drafts",draft_get:"/api/team/{0}/space/{1}/draft/{2}",draft_delete:"/api/team/{0}/space/{1}/draft/{2}/delete",issue_type_get:"/api/team/{0}/issue_type/{1}",issue_type_template_get:"/api/team/{0}/issue_type/{1}/get_issue_type_template",issue_type_field_list:"/api/team/{0}/issue_type_field",issue_type_field_option_list:"/api/team/{0}/issue_type_field_options/{1}",issue_type_field_update:"/api/team/{0}/issue_type_field/{1}/update",issue_type_list:"/api/team/{0}/issue_type_list",issue_type_priority:"/api/team/{0}/issue_type_priority",issue_type_status:"/api/team/{0}/issue_type_status",issue_type_task_status_list:"/api/team/{0}/issue_type/{1}/issue_type_task_status_list",project_field:"/api/team/{0}/projects/field",project_list:"/api/team/{0}/projects/list",project_status:"/api/team/{0}/projects/status",project_add:"/api/team/{0}/projects/add",project_update:"/api/team/{0}/project/{1}/update",project_pin:"/api/team/{0}/project/{1}/pin",project_unpin:"/api/team/{0}/project/{1}/unpin",project_plan_update:"/api/team/{0}/project/{1}/update_plan",project_first_component:"/api/team/{0}/project/{1}/components/first",project_template:"/api/team/{0}/project/{1}/setting/template",project_get:"/api/team/{0}/project/{1}",status_data_list:"/api/team/{0}/project/{1}/status_data_list",project_change_assign:"/api/team/{0}/project/{1}/change_assign",project_members:"/api/team/{0}/project/{1}/project_members",project_role_members:"/api/team/{0}/project/{1}/project_role_members",project_member_add:"/api/team/{0}/project/{1}/members/add",project_member_delete:"/api/team/{0}/project/{1}/members/delete",project_change_status:"/api/team/{0}/project/{1}/project_change_status",project_user_domain_group:"/api/team/{0}/project/{1}/project_user_domain_group",project_delete:"/api/team/{0}/project/{1}/delete",project_issue_type_field:"/api/team/{0}/project/{1}/issue_type/{2}/field",project_issue_type_flow:"/api/team/{0}/project/{1}/issue_type/{2}/get_project_issue_type_flow",project_issue_type_flow_submit:"/api/team/{0}/project/{1}/issue_type/{2}/update_project_issue_type_flow",component_get:"/api/team/{0}/project/{1}/component/{2}",component_update:"/api/team/{0}/project/{1}/component/{2}/update",components:"/api/team/{0}/project/{1}/components",next_status_list:"/api/team/{0}/project/{1}/issue_type/{2}/next_status_list/{3}",certificate_add:"/api/ding/login_certificate/add",task_add:"/api/team/{0}/project/{1}/issue_type/{2}/tasks/add",task_update:"/api/team/{0}/project/{1}/issue_type/{2}/task/{3}/update",task_list:"/api/team/{0}/project/{1}/issue_type/{2}/tasks",task_get:"/api/team/{0}/task/{1}",task_priority_options:"/api/team/{0}/task_priority_options",task_change_assign:"/api/team/{0}/task/{1}/change_assign",task_change_status:"/api/team/{0}/task/{1}/change_status",task_change_priority:"/api/team/{0}/task/{1}/change_priority",task_stat_by_team:"/api/team/{0}/task_stat_by_team",task_list_by_assign:"/api/team/{0}/tasks_by_assign",task_list_by_owner:"/api/team/{0}/tasks_by_owner",task_list_by_watcher:"/api/team/{0}/tasks_by_watcher",watchers_update:"/api/team/{0}/project/{1}/task/{2}/watchers/{3}",link_tasks:"/api/team/{0}/project/{1}/link_tasks",linked_tasks_add:"/api/team/{0}/task/{1}/linked_tasks_add",linked_tasks:"/api/team/{0}/task/{1}/linked_tasks",linked_source_tasks:"/api/team/{0}/task/{1}/linked_source_tasks",linked_tasks_del:"/api/team/{0}/task/{1}/linked_tasks_delete/{2}",permission_rules_add:"/api/team/{0}/permission_rules/add",permission_rule_delete:"/api/team/{0}/permission_rule/{1}/delete",team_permission_rules:"/api/team/{0}/team_permission_rules",issue_type_permission_rules_add:"/api/team/{0}/issue_type/{1}/permission_rules/add",issue_type_permission_rule_delete:"/api/team/{0}/issue_type/{1}/permission_rule/{2}/delete",issue_type_user_domain_group:"/api/team/{0}/project/{1}/issue_type/{2}/issue_type_user_domain_group",field_option_value_list:"/api/team/{0}/project/{1}/issue_type/{2}/field/{3}/list",field_option_update:"/api/team/{0}/project/{1}/issue_type/{2}/update_field_option"};Bt.beforeEach((l,a,o)=>{l.meta.title&&(document.title=l.meta.title),l.path&&window._hmt&&window._hmt.push(["_trackPageview",l.fullPath]),o(!0)});const pe=Ut(os);pe.use(Bt);pe.use(qt);pe.config.globalProperties.get=ot.get;pe.config.globalProperties.post=ot.post;pe.config.globalProperties.urls=W7;pe.config.globalProperties.filters=Yt;pe.config.globalProperties.bus=new Nt;pe.mount("#app");
